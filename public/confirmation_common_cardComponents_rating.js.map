{"version":3,"sources":["webpack:///./browser/components/confirmation/common/CardComponents/components/Rating.js","webpack:///./browser/components/confirmation/common/RatingModule/index.js"],"names":[],"mappings":"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","file":"confirmation_common_cardComponents_rating.js","sourcesContent":["import React, { useCallback } from 'react';\n\nimport get from 'lodash/get';\nimport RatingModule from '../../RatingModule';\nimport { isMyntAppEnabled } from 'commonBrowserUtils/Helper';\nimport wkPromiseHandler from 'commonBrowserUtils/WkPromiseHandler';\n\nconst Rating = props => {\n  const {\n    dataState: { data }\n  } = props;\n\n  const canRateApp = useCallback(() => {\n    if (isMyntAppEnabled(['canShowRateOptionWeb'])) {\n      return MyntApp.canShowRateOptionWeb();\n    } else {\n      return wkPromiseHandler\n        .callWKHandler(['canShowRateOptionWeb'])\n        .then(result => result)\n        .catch(() => false);\n    }\n  }, [isMyntAppEnabled, wkPromiseHandler]);\n\n  const orderId = get(data, 'bountyOrder.storeOrderId', '');\n\n  const appFeedbackTriggerEvent = (feedbackType, orderId) => {\n    triggerEvent('ORDER_CONFIRM_APP_FEEDBACK', {\n      maData: {\n        entity_id: orderId,\n        entity_type: 'order'\n      },\n      custom: {\n        widget: {\n          name: 'app_feedback',\n          type: 'button'\n        },\n        widget_items: {\n          name: feedbackType,\n          type: 'button'\n        },\n        event_type: 'widgetClick',\n        event_category: 'Order Confirmation Page'\n      }\n    });\n  };\n\n  return (\n    canRateApp() && (\n      <RatingModule\n        storeOrderId={get(data, 'bountyOrder.storeOrderId', '')}\n        ratingClass={props.styleClass}\n        appFeedbackTriggerEvent={feedbackType =>\n          appFeedbackTriggerEvent(feedbackType, orderId)\n        }\n      />\n    )\n  );\n};\n\nexport default Rating;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  isAndroidApp,\n  isIOSApp,\n  isMyntAppEnabled,\n  isSessionStorageEnabled\n} from 'commonBrowserUtils/Helper';\nimport ImageBanner from 'commonComp/ImageBanner';\n\nimport Styles from './myntraExp.base.css';\nimport { isFeatureEnabled } from 'commonUtils/FeaturesManager';\n\nconst mailSubject = 'Feedback - Myntra Android App';\nconst mailTo = `appfeedback@myntra.com?Subject=${mailSubject}`;\n\nclass RatingModule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sharedExp: !(\n        isSessionStorageEnabled() &&\n        sessionStorage.getItem(`${this.props.storeOrderId}-sharedExp`)\n      )\n    };\n    this.isIOS = isIOSApp();\n    this.storeOrderId = this.props.storeOrderId;\n    this.shareExperience = this.shareExperience.bind(this);\n    this.updateFeedbackAttempt = this.updateFeedbackAttempt.bind(this);\n  }\n\n  shareExperience() {\n    this.setState({\n      sharedExp: false\n    });\n    if (isSessionStorageEnabled()) {\n      sessionStorage.setItem(`${this.props.storeOrderId}-sharedExp`, 'true');\n    }\n  }\n\n  updateFeedbackAttempt(yesOptionPressed) {\n    if (isAndroidApp()) {\n      if (isMyntAppEnabled(['updateFeedbackAttempt'])) {\n        MyntApp.updateFeedbackAttempt(yesOptionPressed);\n      }\n\n      if (yesOptionPressed && isMyntAppEnabled(['openStoreFromWeb'])) {\n        MyntApp.openStoreFromWeb();\n      } else if (!yesOptionPressed) {\n        window.open('mailto:' + mailTo);\n      }\n\n      const feedbackType = yesOptionPressed ? 'Yes' : 'No';\n      this.props.appFeedbackTriggerEvent(feedbackType);\n    }\n  }\n\n  render() {\n    return this.state.sharedExp &&\n      !this.isIOS &&\n      !isFeatureEnabled('RATING_WIDGET') ? (\n      <div className={this.props.ratingClass || ''}>\n        <div className={Styles.expContainer}>\n          <div className={Styles.myntraExpIcon}>\n            <ImageBanner name=\"mobile-exp\" className={Styles.myntraMobile} />\n          </div>\n          <div className={Styles.subText}>\n            <div>Would you like to spread some love?</div>\n            <ImageBanner\n              name=\"spread-love-stars\"\n              className={Styles.spreadLoveStars}\n            />\n          </div>\n        </div>\n        <div className={Styles.yesNoBlock} onClick={this.shareExperience}>\n          <div\n            className={Styles.notSatisfied}\n            onClick={() => this.updateFeedbackAttempt(false)}\n          >\n            <a>\n              <div>NO</div>\n              <div>Give Feedback</div>\n            </a>\n          </div>\n          <div\n            className={Styles.satisfied}\n            onClick={() => this.updateFeedbackAttempt(true)}\n          >\n            <a>\n              <div>YES</div>\n              <div>Rate us on Play Store</div>\n            </a>\n          </div>\n        </div>\n      </div>\n    ) : null;\n  }\n}\n\nRatingModule.propTypes = {\n  storeOrderId: PropTypes.string,\n  ratingClass: PropTypes.string,\n  appFeedbackTriggerEvent: PropTypes.func\n};\n\nexport default RatingModule;\n"],"sourceRoot":""}