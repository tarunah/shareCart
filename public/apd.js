(self["webpackChunk"] = self["webpackChunk"] || []).push([["apd"],{

/***/ "../node_modules/@myntra/m-comp/react/SVGIcon/ArrowRight.jsx":
/*!*******************************************************************!*\
  !*** ../node_modules/@myntra/m-comp/react/SVGIcon/ArrowRight.jsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");

var ArrowRight = function (props) { return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", width: "24", height: "24", viewBox: "0 0 24 24", className: props.className || '' },
    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#FFF", "fill-rule": "evenodd", d: "M4.667 11.333h13.062l-6.202-6.201c-.258-.258-.258-.68 0-.938.258-.258.681-.258.939 0l7.301 7.299.04.036c.129.13.193.3.193.47 0 .171-.064.342-.194.472l-.039.036-7.301 7.3c-.258.257-.681.257-.939 0-.258-.259-.258-.681 0-.94l6.202-6.2H4.667c-.368 0-.667-.3-.667-.667 0-.368.299-.667.667-.667" }))); };
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ArrowRight);


/***/ }),

/***/ "../node_modules/@myntra/m-comp/react/SVGIcon/SavingsCallout.jsx":
/*!***********************************************************************!*\
  !*** ../node_modules/@myntra/m-comp/react/SVGIcon/SavingsCallout.jsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

var SavingsCallout = function (props) {
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("svg", __assign({ width: 24, height: 24, fill: "none", xmlns: "http://www.w3.org/2000/svg" }, props),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { d: "M20 7a4.5 4.5 0 10-9 0 4.5 4.5 0 009 0z", fill: "#03A685" }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { d: "M17.29 4.62h-1.14a.91.91 0 01.48.87h.66a.21.21 0 01.21.21v.07a.21.21 0 01-.21.21h-.66c0 .77-.63 1.27-1.63 1.27.49.57 1 1.23 1.52 1.91a.4.4 0 01-.32.64.42.42 0 01-.31-.15c-.6-.76-1.15-1.47-1.84-2.3A.25.25 0 0114 7.2a.44.44 0 01.44-.44c.91 0 1.4-.19 1.46-.78h-1.69a.21.21 0 01-.21-.21V5.7a.21.21 0 01.21-.21h1.68c-.11-.49-.56-.78-1.29-.78h-.39A.21.21 0 0114 4.5v-.09a.21.21 0 01.21-.21h3.08a.21.21 0 010 .42z", fill: "#fff" }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { d: "M17.5 20.88H15a.64.64 0 01-.61-.47l-.32-1.29h-2.6l-.37 1.3a.63.63 0 01-.6.46H8a.63.63 0 01-.61-.49L7 18.48a10.12 10.12 0 01-3.71-2.34.6.6 0 01-.14-.39V11a.63.63 0 01.63-.62h.9l1.11-1.91-1.35-2.69a.62.62 0 01.44-.89c4.19-.8 5.44 2 5.72 2.92a.63.63 0 01-1.2.38A3 3 0 006 6l1.06 2.22a.64.64 0 010 .6l-1.5 2.5a.63.63 0 01-.54.3h-.64v3.89a10.58 10.58 0 003.31 1.89.65.65 0 01.42.46l.39 1.76H10l.37-1.29a.62.62 0 01.6-.45h3.55a.64.64 0 01.61.46l.32 1.28h1.58l.85-2.33.06-.13c2.74-4.27 1.48-6.35 1.42-6.45a.63.63 0 01.27-.84.62.62 0 01.84.25c.07.13 1.67 2.75-1.44 7.66l-1 2.68a.64.64 0 01-.53.42z", fill: "#3D4152" }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { d: "M8.75 11a.75.75 0 10-1.5 0 .75.75 0 001.5 0z", fill: "#3D4152" })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SavingsCallout);


/***/ }),

/***/ "../node_modules/@myntra/m-comp/react/SVGIcon/SuperCoin.jsx":
/*!******************************************************************!*\
  !*** ../node_modules/@myntra/m-comp/react/SVGIcon/SuperCoin.jsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

var Supercoin = function (_a) {
    var _b = _a.id, id = _b === void 0 ? 'superCoin' : _b, props = _a.props;
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("svg", __assign({ width: 16, height: 16, fill: "none", viewBox: "0 0 16 16" }, props),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#FFC30D", d: "M13.839 8.969c0 3.245-2.631 5.717-5.877 5.717-3.245 0-5.873-2.474-5.873-5.72a5.873 5.873 0 015.876-5.873 5.874 5.874 0 015.874 5.876z" }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "url(#".concat(id, "_paint0_linear)"), d: "M14.886 11.233C12.94 15.162 8.408 16.75 4.574 14.85.71 12.933-.873 8.23 1.044 4.369 2.957.505 7.66-1.079 11.523.836c3.834 1.902 5.31 6.469 3.362 10.397z" }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#fff", d: "M7.965 1.612c-3.624 0-6.574 2.947-6.574 6.571 0 3.574 2.886 6.376 6.571 6.376 3.686 0 6.574-2.8 6.574-6.373 0-3.624-2.947-6.574-6.571-6.574z", opacity: 0.439 }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#F0A700", d: "M8.02 1.257c-3.624 0-6.574 2.947-6.574 6.571 0 3.574 2.885 6.376 6.571 6.376s6.574-2.8 6.574-6.373c0-3.624-2.948-6.574-6.571-6.574z" }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#FFC000", d: "M7.965 1.49C4.34 1.49 1.39 4.438 1.39 8.062c0 3.574 2.886 6.376 6.571 6.376 3.686 0 6.574-2.8 6.574-6.374A6.582 6.582 0 007.964 1.49z" }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#D89309", fillRule: "evenodd", d: "M5.427 14c.812.34 1.676.514 2.569.514a6.586 6.586 0 006.081-3.988 6.418 6.418 0 00.519-2.542c0-.881-.174-1.739-.52-2.543a6.476 6.476 0 00-1.414-2.077 6.58 6.58 0 00-2.097-1.4 6.635 6.635 0 00-2.57-.514h-.002a6.618 6.618 0 00-4.664 1.912 6.548 6.548 0 00-1.414 2.076 6.424 6.424 0 00-.52 2.543A6.488 6.488 0 003.329 12.6 6.552 6.552 0 005.427 14zM3.434 3.47A6.443 6.443 0 017.996 1.6c1.724 0 3.345.665 4.562 1.872a6.321 6.321 0 011.888 4.514c0 1.705-.672 3.31-1.89 4.514a6.451 6.451 0 01-4.563 1.87 6.444 6.444 0 01-4.562-1.872 6.321 6.321 0 01-1.888-4.514c0-1.705.672-3.31 1.89-4.515z", clipRule: "evenodd", opacity: 0.569 }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("mask", { id: "".concat(id, "_a"), width: 14, height: 14, x: 1, y: 1, maskUnits: "userSpaceOnUse" },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#fff", fillRule: "evenodd", d: "M5.427 14c.812.34 1.676.514 2.569.514a6.586 6.586 0 006.081-3.988 6.418 6.418 0 00.519-2.542c0-.881-.174-1.739-.52-2.543a6.476 6.476 0 00-1.414-2.077 6.58 6.58 0 00-2.097-1.4 6.635 6.635 0 00-2.57-.514h-.002a6.618 6.618 0 00-4.664 1.912 6.548 6.548 0 00-1.414 2.076 6.424 6.424 0 00-.52 2.543A6.488 6.488 0 003.329 12.6 6.552 6.552 0 005.427 14zM3.434 3.47A6.443 6.443 0 017.996 1.6c1.724 0 3.345.665 4.562 1.872a6.321 6.321 0 011.888 4.514c0 1.705-.672 3.31-1.89 4.514a6.451 6.451 0 01-4.563 1.87 6.444 6.444 0 01-4.562-1.872 6.321 6.321 0 01-1.888-4.514c0-1.705.672-3.31 1.89-4.515z", clipRule: "evenodd" })),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("g", { mask: "url(#".concat(id, "_a)") },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "url(#".concat(id, "_paint1_linear)"), fillRule: "evenodd", d: "M9.991.824l4.983 4.893a3.124 3.124 0 01.04 4.419l-4.89 4.983a3.127 3.127 0 01-4.421.04L.72 10.27a3.128 3.128 0 01-.04-4.422L5.57.864a3.127 3.127 0 014.42-.04zm-3.35 13.264c2.871-2.686 5.345-5.769 5.345-5.769.586-.657-.033-1.643-.976-1.63l-2.917.025c-.173 0-.307-.112-.333-.252l.375-1.328c.287-1.012.662-2.335.925-3.277L6.363 4.88C5.363 6 4.47 7 4.146 7.365l-.224.252-.188.21c-.483.655.043 1.553.95 1.543l2.914-.03c.174 0 .307.111.333.252-.044.159-.13.447-.24.817-.285.964-.733 2.477-1.05 3.68z", clipRule: "evenodd" }),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "url(#".concat(id, "_paint2_linear)"), d: "M4.684 9.369c-.907.01-1.433-.888-.95-1.543.128-.145.267-.297.412-.462.626-.704 3.371-3.776 4.914-5.507-.419 1.498-1.119 3.96-1.3 4.605.026.14.16.252.333.252l2.917-.026c3.336-.033 3.867 2.988 1.733 5.764l2.272-2.314a3.128 3.128 0 00-.04-4.421L9.99.824a3.128 3.128 0 00-4.421.04s-1.334 1.36-2.35 2.393C.653 5.874 1.29 9.4 4.684 9.37z" })),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("g", { opacity: 0.63 },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#D89307", d: "M9.134 1.803l-5.36 5.735c-.688.743-.283 1.789.734 1.765l3.076.028c.186.003.29.203.243.379l-1.17 4.462 5.25-5.698c.662-.712.153-1.862-.826-1.862l-3.035.055a.28.28 0 01-.276-.355c.326-1.128 1.323-4.469 1.364-4.51z" }),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("g", { opacity: 0.9 },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#0C0802", d: "M9.134 1.803l-5.36 5.735c-.688.743-.283 1.789.734 1.765l3.076.028c.186.003.29.203.243.379l-1.17 4.462 5.25-5.698c.662-.712.153-1.862-.826-1.862l-3.035.055a.28.28 0 01-.276-.355c.326-1.128 1.323-4.469 1.364-4.51z", opacity: 0.545 }))),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#fff", d: "M9.136 1.793l-5.28 5.762c-.682.743-.282 1.788.725 1.764l3.048.029a.28.28 0 01.267.352l-1.224 4.462 5.238-5.674c.657-.712.152-1.862-.817-1.862l-3.007.055a.28.28 0 01-.274-.355c.322-1.124 1.281-4.49 1.324-4.533z" }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { fill: "#fff", d: "M9.136 1.793l-5.28 5.762c-.682.743-.282 1.788.725 1.764l3.048.029a.28.28 0 01.267.352l-1.224 4.462 5.238-5.674c.657-.712.152-1.862-.817-1.862l-3.007.055a.28.28 0 01-.274-.355c.322-1.124 1.281-4.49 1.324-4.533z", opacity: 0.9 }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("defs", null,
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("linearGradient", { id: "".concat(id, "_paint0_linear"), x1: 11.447, x2: 18.478, y1: 18.307, y2: 4.335, gradientUnits: "userSpaceOnUse" },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { stopColor: "#F8C51D" }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { offset: 0.411, stopColor: "#FBDD35" }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { offset: 0.734, stopColor: "#F8BF22" }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { offset: 0.739, stopColor: "#F8BF22" }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { offset: 1, stopColor: "#FEEF4A" })),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("linearGradient", { id: "".concat(id, "_paint1_linear"), x1: -3.439, x2: 13.808, y1: 16.614, y2: 16.617, gradientUnits: "userSpaceOnUse" },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { stopColor: "#FF0" }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { offset: 1, stopColor: "#FFAD00" })),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("linearGradient", { id: "".concat(id, "_paint2_linear"), x1: 19.534, x2: 1.824, y1: -1.672, y2: -1.459, gradientUnits: "userSpaceOnUse" },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { stopColor: "#FF0" }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { offset: 1, stopColor: "#FFAD00" })))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Supercoin);


/***/ }),

/***/ "./browser/components/address/desktop/AddressList/AddressBlocks/index.js":
/*!*******************************************************************************!*\
  !*** ./browser/components/address/desktop/AddressList/AddressBlocks/index.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddressBlock": () => (/* binding */ AddressBlock)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prop-types */ "../node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./addressBlocks.base.css */ "./browser/components/address/desktop/AddressList/AddressBlocks/addressBlocks.base.css");
/* harmony import */ var commonComp_AddressDetails__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! commonComp/AddressDetails */ "./browser/components/common/AddressDetails/index.js");
/* harmony import */ var _AddressServiceability__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../AddressServiceability */ "./browser/components/address/desktop/AddressList/AddressServiceability/index.js");
/* harmony import */ var commonComp_NudgeBanner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonComp/NudgeBanner */ "./browser/components/common/NudgeBanner/index.js");
/* harmony import */ var commonBrowserUtils_AddressHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! commonBrowserUtils/AddressHelper */ "./browser/utils/AddressHelper/index.js");
/* harmony import */ var commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonBrowserUtils/Strings */ "./browser/utils/Strings.js");
/* harmony import */ var commonUtils_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! commonUtils/constants */ "./utils/constants.js");
/* harmony import */ var commonUtils_constants__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(commonUtils_constants__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! commonUtils/KVPairManager */ "./utils/KVPairManager/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var iconComp_RadioActive_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! iconComp/RadioActive.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/RadioActive.jsx");
/* harmony import */ var iconComp_RadioInactive_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! iconComp/RadioInactive.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/RadioInactive.jsx");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};


// Styles

// Components










var AddressBlock = react__WEBPACK_IMPORTED_MODULE_0__.default.memo(function (_a) {
    var addressInfo = _a.addressInfo, selected = _a.selected, onClickHandler = _a.onClickHandler, selectedShippingData = _a.selectedShippingData, serviceabilityFlags = _a.serviceabilityFlags, serviceable = _a.serviceable, flags = _a.flags;
    var valid = serviceable && addressInfo.checkoutAllowed;
    var isLandmarkEnabled = (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_9__.isFeatureEnabled)('ADDRESS_LANDMARK');
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        if (isLandmarkEnabled && !addressInfo.landmark && selected) {
            (0,commonBrowserUtils_AddressHelper__WEBPACK_IMPORTED_MODULE_5__.setLandmarkCookie)(commonUtils_constants__WEBPACK_IMPORTED_MODULE_7__.numbers.ZERO);
        }
    }, []);
    var showNudgeBanner = isLandmarkEnabled &&
        serviceable &&
        !addressInfo.landmark &&
        selected &&
        (0,commonBrowserUtils_AddressHelper__WEBPACK_IMPORTED_MODULE_5__.showLandmarkNudge)(commonUtils_constants__WEBPACK_IMPORTED_MODULE_7__.numbers.ZERO);
    var errorMsg = '';
    if (!serviceable) {
        errorMsg = (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_8__.getKVPairValue)('NON_SERVICEABLE_ADDRESS_ERROR');
    }
    else if (!addressInfo.checkoutAllowed) {
        errorMsg =
            'Please add house, street and locality details to improve your address or ensure mobile number is valid, before proceeding further.';
    }
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.block, "\n      ").concat(selected ? (valid ? _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.serviceable : _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.notServiceable) : ''), onClick: onClickHandler, id: addressInfo.id, "data-action": "select" },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.innerBlock },
            selected ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_RadioActive_jsx__WEBPACK_IMPORTED_MODULE_10__.default, { className: _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.radioIcon })) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_RadioInactive_jsx__WEBPACK_IMPORTED_MODULE_11__.default, { className: _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.radioIcon })),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_AddressDetails__WEBPACK_IMPORTED_MODULE_2__.default, { className: _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.addressDetail, addressInfo: addressInfo, minimize: true, notServiceable: selected && !!errorMsg, mode: "desktop" }),
            selected && serviceable && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_AddressServiceability__WEBPACK_IMPORTED_MODULE_3__.default, __assign({}, flags, { selectedShippingData: selectedShippingData, serviceabilityFlags: serviceabilityFlags }))),
            selected && errorMsg && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.error }, errorMsg)),
            selected ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.btns },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("button", { className: _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.remove, "data-action": "remove" }, "Remove"),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("button", { className: _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.edit, "data-action": "showModal" }, "Edit"))) : ('')),
        showNudgeBanner && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_NudgeBanner__WEBPACK_IMPORTED_MODULE_4__.NudgeBannerWithCTA, { message: commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_6__.default.LANDMARK_MAIN_NUDGE, className: _addressBlocks_base_css__WEBPACK_IMPORTED_MODULE_1__.default.nudgeContainer, cta: commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_6__.default.LANDMARK_CTA, action: "showModal", fieldName: commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_6__.default.LANDMARK_FIELD }))));
});
AddressBlock.propTypes = {
    addressInfo: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().object.isRequired),
    selected: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool),
    onClickHandler: (prop_types__WEBPACK_IMPORTED_MODULE_12___default().func.isRequired)
};
AddressBlock.defaultProps = {
    selected: false
};


/***/ }),

/***/ "./browser/components/address/desktop/AddressList/AddressServiceability/index.js":
/*!***************************************************************************************!*\
  !*** ./browser/components/address/desktop/AddressList/AddressServiceability/index.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var _addressServiceability_base_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./addressServiceability.base.css */ "./browser/components/address/desktop/AddressList/AddressServiceability/addressServiceability.base.css");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2__);

// Styles

// Utils

var TryNBuyInfo = function (_a) {
    var tryNBuy = _a.tryNBuy, tryNBuyApplicable = _a.tryNBuyApplicable;
    var tryNbuyEnabled = (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('TRY_AND_BUY');
    var TNBText = '';
    if (tryNBuy.value && tryNbuyEnabled) {
        TNBText = tryNBuyApplicable.value
            ? 'Try & Buy available'
            : tryNBuyApplicable.remark === 'TOO_MANY_ITEMS'
                ? 'Too many items for Try & Buy'
                : 'Try & Buy unavailable';
    }
    return TNBText ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _addressServiceability_base_css__WEBPACK_IMPORTED_MODULE_1__.default.bullet }, "\u2022"),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, TNBText))) : null;
};
var CodInfo = function (_a) {
    var cashOnDelivery = _a.cashOnDelivery, cardOnDelivery = _a.cardOnDelivery;
    var CODText = '';
    if (cashOnDelivery.value && cardOnDelivery.value) {
        CODText = 'Pay on Delivery available';
    }
    else if (cashOnDelivery.value) {
        CODText = 'Cash on Delivery available';
    }
    else if (!cardOnDelivery.value) {
        CODText = 'Pay on Delivery not available';
    }
    else {
        CODText = 'UPI on Delivery available';
    }
    return CODText ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _addressServiceability_base_css__WEBPACK_IMPORTED_MODULE_1__.default.bullet }, "\u2022"),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, CODText))) : null;
};
var FasterShippingInfo = function (_a) {
    var expressShipping = _a.expressShipping, sddShipping = _a.sddShipping;
    return ((0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('NDD') && expressShipping.value) ||
        ((0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('SDD') && sddShipping.value) ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _addressServiceability_base_css__WEBPACK_IMPORTED_MODULE_1__.default.bullet }, "\u2022"),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, "Faster delivery available"))) : null;
};
var AddressServiceability = function (props) {
    var _a = props.serviceabilityFlags, expressShipping = _a.expressShipping, sddShipping = _a.sddShipping, _b = props.selectedShippingData.flags, cashOnDelivery = _b.cashOnDelivery, cardOnDelivery = _b.cardOnDelivery, tryNBuy = _b.tryNBuy, tryNBuyApplicable = props.tryNBuyApplicable, giftwrapApplicable = props.giftwrapApplicable;
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressServiceability_base_css__WEBPACK_IMPORTED_MODULE_1__.default.container },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(TryNBuyInfo, { tryNBuy: tryNBuy, tryNBuyApplicable: tryNBuyApplicable }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(CodInfo, { cashOnDelivery: cashOnDelivery, cardOnDelivery: cardOnDelivery }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(FasterShippingInfo, { expressShipping: expressShipping, sddShipping: sddShipping })));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddressServiceability);


/***/ }),

/***/ "./browser/components/address/desktop/AddressList/index.js":
/*!*****************************************************************!*\
  !*** ./browser/components/address/desktop/AddressList/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddAddressButton": () => (/* binding */ AddAddressButton),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ "../node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./addressList.base.css */ "./browser/components/address/desktop/AddressList/addressList.base.css");
/* harmony import */ var _common_AddressForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/AddressForm */ "./browser/components/address/common/AddressForm/index.js");
/* harmony import */ var _AddressBlocks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AddressBlocks */ "./browser/components/address/desktop/AddressList/AddressBlocks/index.js");
/* harmony import */ var commonComp_Modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonComp/Modal */ "./browser/components/common/Modal/index.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/get */ "../node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_5__);
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};


// Styles

// Components




var AddAddressButton = function (props) {
    var containerStyle = props.containerStyle, onClickHandler = props.onClickHandler, labelStyle = props.labelStyle, label = props.label;
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { "data-action": "add", className: containerStyle, onClick: onClickHandler },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: labelStyle ? labelStyle : '' }, label)));
};
var AddressList = /** @class */ (function (_super) {
    __extends(AddressList, _super);
    function AddressList(props) {
        var _this = _super.call(this, props) || this;
        _this.state = {
            modal: {
                show: false,
                addressInfo: null
            }
        };
        _this.onClickHandler = _this.onClickHandler.bind(_this);
        _this.hideModal = _this.hideModal.bind(_this);
        return _this;
    }
    AddressList.prototype.onClickHandler = function (e) {
        var action = e.target.getAttribute('data-action') ||
            e.currentTarget.getAttribute('data-action');
        var key = lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(e, 'target.dataset.key', '') ||
            lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(e, 'currentTarget.dataset.key', '');
        var id = parseInt(e.currentTarget.id);
        var addressData = lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(this.props, 'addressData') || [];
        var clickedAddress = addressData.find(function (address) { return lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(address, 'id') === id; }) || {};
        var unifiedId = clickedAddress.unifiedId;
        switch (action) {
            case 'add':
                this.setState({
                    modal: {
                        show: true,
                        addressInfo: null
                    }
                });
                triggerEvent('ADD_NEW_ADDRESS_CLICK');
                break;
            case 'showModal':
                this.setState({
                    modal: {
                        show: true,
                        addressInfo: clickedAddress
                    }
                });
                triggerEvent('EDIT_ADDRESS_CLICK');
                if (key === 'landmark-nudge') {
                    triggerEvent('ADD_LANDMARK_CLICK');
                }
                break;
            case 'remove':
                this.props.handleAddressAction('removeAddress', unifiedId);
                triggerEvent('DELETE_ADDRESS_CLICK');
                break;
            case 'select':
                this.props.handleAddressAction('selectAddress', id);
                break;
        }
    };
    AddressList.prototype.hideModal = function () {
        this.setState({ modal: { show: false, addressInfo: null } });
    };
    AddressList.prototype.render = function () {
        var _this = this;
        var _a = this.props, _b = _a.addressData, addressData = _b === void 0 ? [] : _b, selectedAddressId = _a.selectedAddressId, selectedShippingData = _a.selectedShippingData, serviceabilityFlags = _a.serviceabilityFlags, serviceable = _a.serviceable, flags = _a.flags, isNewUser = _a.isNewUser;
        var defaultAddress = null;
        var otherAddress = [];
        addressData.forEach(function (address) {
            if (address) {
                if (address.isDefault) {
                    defaultAddress = address;
                }
                else {
                    otherAddress.push(address);
                }
            }
        });
        return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.container },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.titleContainer },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.title }, "Select Delivery Address"),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(AddAddressButton, { onClickHandler: this.onClickHandler, containerStyle: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.addAddressButton, label: 'ADD NEW ADDRESS' })),
            defaultAddress
                ? [
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.defaultTitle }, "DEFAULT ADDRESS"),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_AddressBlocks__WEBPACK_IMPORTED_MODULE_3__.AddressBlock, { addressInfo: defaultAddress, selected: defaultAddress.id === selectedAddressId, selectedShippingData: selectedShippingData, serviceabilityFlags: serviceabilityFlags, serviceable: serviceable, onClickHandler: this.onClickHandler, key: "default_".concat(defaultAddress.id), flags: flags })
                ]
                : '',
            otherAddress.length
                ? [
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.otherTitle }, "OTHER ADDRESS"),
                    otherAddress.map(function (address) { return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_AddressBlocks__WEBPACK_IMPORTED_MODULE_3__.AddressBlock, { addressInfo: address, selected: lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(address, 'id') === selectedAddressId, selectedShippingData: selectedShippingData, serviceabilityFlags: serviceabilityFlags, serviceable: serviceable, onClickHandler: _this.onClickHandler, key: "address_".concat(lodash_get__WEBPACK_IMPORTED_MODULE_5___default()(address, 'id')), flags: flags })); })
                ]
                : '',
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(AddAddressButton, { onClickHandler: this.onClickHandler, label: '+ Add New Address', containerStyle: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.addBlock, labelStyle: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.label }),
            this.state.modal.show && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Modal__WEBPACK_IMPORTED_MODULE_4__.default, { className: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.modal, cancelCallback: this.hideModal, cancelIconConfig: { show: true, className: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.icon }, disableBackdropClick: true }, function (onCancel) { return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_AddressForm__WEBPACK_IMPORTED_MODULE_2__.default, __assign({}, _this.state.modal, { cancelCallback: onCancel, successCallback: onCancel, handleAddressAction: _this.props.handleAddressAction, showHeader: true, formClass: _addressList_base_css__WEBPACK_IMPORTED_MODULE_1__.default.removeMargin, isNewUser: isNewUser }))); }))));
    };
    return AddressList;
}(react__WEBPACK_IMPORTED_MODULE_0__.default.Component));
AddressList.propTypes = {
    addressData: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().array.isRequired),
    handleAddressAction: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().func.isRequired),
    selectedAddressId: (prop_types__WEBPACK_IMPORTED_MODULE_6___default().number)
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddressList);


/***/ }),

/***/ "./browser/components/address/desktop/index.js":
/*!*****************************************************!*\
  !*** ./browser/components/address/desktop/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./addressDesktop.base.css */ "./browser/components/address/desktop/addressDesktop.base.css");
/* harmony import */ var _common_AddressForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/AddressForm */ "./browser/components/address/common/AddressForm/index.js");
/* harmony import */ var _AddressList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AddressList */ "./browser/components/address/desktop/AddressList/index.js");
/* harmony import */ var commonComp_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonComp/Button */ "./browser/components/common/Button/index.js");
/* harmony import */ var _common_DeliveryOptions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/DeliveryOptions */ "./browser/components/address/common/DeliveryOptions/index.js");
/* harmony import */ var commonComp_ErrorPage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonComp/ErrorPage */ "./browser/components/common/ErrorPage/index.js");
/* harmony import */ var commonComp_Loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! commonComp/Loader */ "./browser/components/common/Loader/index.js");
/* harmony import */ var commonComp_MFU_Desktop__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! commonComp/MFU/Desktop */ "./browser/components/common/MFU/Desktop/index.js");
/* harmony import */ var commonComp_PriceBlock__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! commonComp/PriceBlock */ "./browser/components/common/PriceBlock/index.js");
/* harmony import */ var commonComp_ReturnAbuserV2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! commonComp/ReturnAbuserV2 */ "./browser/components/common/ReturnAbuserV2/index.js");
/* harmony import */ var commonComp_SaleTimer_Desktop__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! commonComp/SaleTimer/Desktop */ "./browser/components/common/SaleTimer/Desktop/index.js");
/* harmony import */ var _common_Serviceability__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../common/Serviceability */ "./browser/components/address/common/Serviceability/index.js");
/* harmony import */ var _common_SpecialOffer__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/SpecialOffer */ "./browser/components/address/common/SpecialOffer/index.js");
/* harmony import */ var commonComp_TryAndBuy__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! commonComp/TryAndBuy */ "./browser/components/common/TryAndBuy/index.js");
/* harmony import */ var _common_NotServiceableHeader__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../common/NotServiceableHeader */ "./browser/components/address/common/NotServiceableHeader/index.js");
/* harmony import */ var commonComp_PrivacyPolicy__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! commonComp/PrivacyPolicy */ "./browser/components/common/PrivacyPolicy/index.js");
/* harmony import */ var commonComp_SavingsFomo__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! commonComp/SavingsFomo */ "./browser/components/common/SavingsFomo/index.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash/get */ "../node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var commonBrowserUtils_priceBreakupFields__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! commonBrowserUtils/priceBreakupFields */ "./browser/utils/priceBreakupFields.js");
/* harmony import */ var commonBrowserUtils_transformPriceDetails__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! commonBrowserUtils/transformPriceDetails */ "./browser/utils/transformPriceDetails.js");
/* harmony import */ var commonBrowserUtils_AddressConstants__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! commonBrowserUtils/AddressConstants */ "./browser/utils/AddressConstants.js");
/* harmony import */ var commonBrowserUtils_DiscountUtil__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! commonBrowserUtils/DiscountUtil */ "./browser/utils/DiscountUtil/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! commonUtils/KVPairManager */ "./utils/KVPairManager/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var commonUtils_constants__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! commonUtils/constants */ "./utils/constants.js");
/* harmony import */ var commonUtils_constants__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(commonUtils_constants__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var commonBrowserUtils_AddressHelper__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! commonBrowserUtils/AddressHelper */ "./browser/utils/AddressHelper/index.js");
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var _context_CheckoutContext__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @context/CheckoutContext */ "./browser/context/CheckoutContext.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

// Styles

// Components
















// Utils











var AddressComponent = /** @class */ (function (_super) {
    __extends(AddressComponent, _super);
    function AddressComponent(props) {
        var _this = _super.call(this, props) || this;
        _this.onClickHandler = _this.onClickHandler.bind(_this);
        if (window.location.search === '?referer=payment')
            triggerEvent('ADDRESS_PAGE_LOAD');
        return _this;
    }
    AddressComponent.prototype.componentDidMount = function () {
        SHELL.setActivePage('ADDRESS');
    };
    AddressComponent.prototype.onClickHandler = function () {
        var _a = this.props, cartData = _a.cartData, addressData = _a.addressData, selectedAddressId = _a.selectedAddressId, handleCartAction = _a.handleCartAction, updateCheckoutState = _a.updateCheckoutState;
        var selectedAddress = addressData.find(function (address) { return lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(address, 'id') === selectedAddressId; }) ||
            {};
        var valid = lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(cartData, 'serviceability.serviceabilityFlags.pincode.value', false) && selectedAddress.checkoutAllowed;
        valid &&
            handleCartAction('setOrderAddress', {
                unifiedAddressId: selectedAddress.unifiedId,
                addressId: selectedAddressId
            }, function (res) {
                triggerEvent('CHECKOUT_CONVERSATION');
                triggerEvent('BTN_CONTINUE_CLICK');
                if (res) {
                    updateCheckoutState({
                        cartData: res,
                        selectedAddress: selectedAddress
                    });
                }
                SHELL.redirectTo('/checkout/payment');
            }, null, { keepPreviousState: true });
    };
    AddressComponent.prototype.render = function () {
        var _a = this.props, cartData = _a.cartData, addressData = _a.addressData, selectedAddressId = _a.selectedAddressId, handleAddressAction = _a.handleAddressAction, handleCartAction = _a.handleCartAction, error = _a.error, analytics = _a.analytics, updateDeliveryEstimates = _a.updateDeliveryEstimates;
        if (cartData && addressData && addressData.length) {
            var products = cartData.products, price = cartData.price, instruments = cartData.price.instruments.data, flags = cartData.flags, shippingData = cartData.shippingData, serviceability = cartData.serviceability, userDetails = cartData.userDetails, coverFeeOpted = cartData.coverFeeOpted, coverFeeApplicableCharge = cartData.coverFeeApplicableCharge;
            var selectedProducts = (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_27__.getSelectedProducts)(products);
            var count = (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_27__.getSelectedProductsCount)(selectedProducts);
            var serviceabilityFlags = lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(serviceability, 'serviceabilityFlags', {});
            var pincode = lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(serviceability, 'addressInfo.pincode');
            var serviceable = lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(serviceabilityFlags, 'pincode.value');
            var valueShippingEnabled = lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(serviceabilityFlags, 'valueShipping.value');
            var productDeliveryInfo = (0,commonBrowserUtils_AddressHelper__WEBPACK_IMPORTED_MODULE_26__.getProductDeliveryInfo)(selectedProducts);
            var total = (0,commonBrowserUtils_transformPriceDetails__WEBPACK_IMPORTED_MODULE_20__.getTotal)(commonBrowserUtils_DiscountUtil__WEBPACK_IMPORTED_MODULE_22__.default.getPrice(price), (0,commonBrowserUtils_priceBreakupFields__WEBPACK_IMPORTED_MODULE_19__.getAddressFields)());
            var loyaltypoints = instruments.find(function (obj) { return obj.name === 'loyaltypoints'; }).value;
            var shippingCharge = (lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(price, 'charges.data', []).find(function (field) { return field.name === 'shipping'; }) || {}).value || 0;
            var selectedShippingData = lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(serviceability, commonBrowserUtils_AddressConstants__WEBPACK_IMPORTED_MODULE_21__.default.shippingMethodInfoFromKey[shippingData.method]);
            var validAddress = selectedAddressId &&
                (addressData.find(function (address) { return lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(address, 'id') === selectedAddressId; }) || {}).checkoutAllowed;
            var isAllEssentialItemsServiceable = !productDeliveryInfo.find(function (_a) {
                var serviceable = _a.serviceable, isEssential = _a.isEssential;
                return isEssential && !serviceable;
            });
            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Loader__WEBPACK_IMPORTED_MODULE_7__.default, { show: this.props.loading, backdrop: true }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_SaleTimer_Desktop__WEBPACK_IMPORTED_MODULE_11__.default, { saleBannerData: (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_23__.getKVPairValue)('SALE_BANNER_DATA'), priceRevealData: (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_23__.getKVPairValue)('PRICE_REVEAL_DATA'), enabled: (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_24__.isFeatureEnabled)('SALE_TIMER', { type: 'address' }) }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.addressLayout },
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.left },
                        !serviceable && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.headerContainer },
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_NotServiceableHeader__WEBPACK_IMPORTED_MODULE_15__.default, { isAllEssentialItemsServiceable: isAllEssentialItemsServiceable, pincode: pincode, className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.notServiceableHeader }))),
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_ReturnAbuserV2__WEBPACK_IMPORTED_MODULE_10__.default, __assign({}, userDetails, { shippingCharge: shippingCharge })),
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_SpecialOffer__WEBPACK_IMPORTED_MODULE_13__.default, { show: (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_24__.isFeatureEnabled)('VALUE_SHIPPING') && valueShippingEnabled, className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.specialOffer }),
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_AddressList__WEBPACK_IMPORTED_MODULE_3__.default, { addressData: addressData, handleAddressAction: handleAddressAction, selectedAddressId: selectedAddressId, selectedShippingData: selectedShippingData, serviceabilityFlags: serviceabilityFlags, serviceable: serviceable, flags: flags, isNewUser: userDetails.isFirstTimeCustomer })),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_SavingsFomo__WEBPACK_IMPORTED_MODULE_17__.default, { price: price, products: selectedProducts, currentPage: commonUtils_constants__WEBPACK_IMPORTED_MODULE_25__.checkoutPage.ADDRESS }),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.center }),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.right },
                        serviceable && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_TryAndBuy__WEBPACK_IMPORTED_MODULE_14__.default, __assign({}, flags, { pageSource: commonUtils_constants__WEBPACK_IMPORTED_MODULE_25__.checkoutPage.ADDRESS, selectedShippingData: selectedShippingData, count: count, products: selectedProducts, handleCartAction: handleCartAction, isNewUser: userDetails.isFirstTimeCustomer, headerClassName: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.headerClass })),
                                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.divider })),
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_DeliveryOptions__WEBPACK_IMPORTED_MODULE_5__.default, __assign({}, serviceability, { productDeliveryInfo: productDeliveryInfo, products: selectedProducts, shippingCharge: shippingCharge, shippingData: shippingData, handleCartAction: handleCartAction, className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.marginLeft, headerClassName: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.headerClass, canHide: true })),
                                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.divider })))),
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_Serviceability__WEBPACK_IMPORTED_MODULE_12__.default, { productDeliveryInfo: productDeliveryInfo, addressInfo: lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(serviceability, 'addressInfo') || {}, shippingData: shippingData, tryNBuyServiceable: lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(selectedShippingData, 'flags.tryNBuy.value'), headerClassName: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.headerClass, tryNBuyApplicable: flags.tryNBuyApplicable.value, isAllEssentialItemsServiceable: isAllEssentialItemsServiceable, updateDeliveryEstimates: updateDeliveryEstimates }),
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.divider }),
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_PriceBlock__WEBPACK_IMPORTED_MODULE_9__.default, { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.priceBlock, price: price, count: count, flags: flags, getFields: commonBrowserUtils_priceBreakupFields__WEBPACK_IMPORTED_MODULE_19__.getAddressFields, shippingData: shippingData, coverFeeOpted: coverFeeOpted, coverFeeApplicableCharge: coverFeeApplicableCharge, tryAndBuyOpted: (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_27__.getTryAndBuyOpted)(selectedProducts), total: total, userDetails: userDetails }),
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.marginLeft },
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_MFU_Desktop__WEBPACK_IMPORTED_MODULE_8__.default, { payable: total, points: loyaltypoints }),
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Button__WEBPACK_IMPORTED_MODULE_4__.default, { id: "placeOrderButton", disabled: !validAddress || !serviceable, className: !validAddress || !serviceable
                                    ? _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.disabledBtn
                                    : _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.continueBtn, onClick: this.onClickHandler }, "continue"),
                            (!validAddress || !serviceable) && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.notServiceableTip }, (addressData.length > 1 && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null, "Please choose a delivery address to continue."))) || (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null, "Please enter a delivery address to continue.")))),
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_PrivacyPolicy__WEBPACK_IMPORTED_MODULE_16__.default, { page: commonUtils_constants__WEBPACK_IMPORTED_MODULE_25__.checkoutPage.ADDRESS, analytics: analytics, total: total }))))));
        }
        else if (addressData && !addressData.length && cartData) {
            var price = cartData.price, shippingData = cartData.shippingData, products = cartData.products, userDetails = cartData.userDetails;
            var isNewUser = lodash_get__WEBPACK_IMPORTED_MODULE_18___default()(cartData, 'userDetails.isFirstTimeCustomer', false);
            var selectedProducts = (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_27__.getSelectedProducts)(products);
            var count = selectedProducts.length;
            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Loader__WEBPACK_IMPORTED_MODULE_7__.default, { show: this.props.loading, backdrop: true }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_SaleTimer_Desktop__WEBPACK_IMPORTED_MODULE_11__.default, { saleBannerData: (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_23__.getKVPairValue)('SALE_BANNER_DATA'), priceRevealData: (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_23__.getKVPairValue)('PRICE_REVEAL_DATA'), enabled: (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_24__.isFeatureEnabled)('SALE_TIMER', { type: 'address' }) }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.addressLayout },
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.left },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.addAddressContainer },
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_AddressForm__WEBPACK_IMPORTED_MODULE_2__.default, { isNewUser: isNewUser, handleAddressAction: handleAddressAction, formClass: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.removeMargin, mode: "desktop" }))),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _addressDesktop_base_css__WEBPACK_IMPORTED_MODULE_1__.default.right },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_PriceBlock__WEBPACK_IMPORTED_MODULE_9__.default, { price: price, count: count, getFields: commonBrowserUtils_priceBreakupFields__WEBPACK_IMPORTED_MODULE_19__.getAddressFields, shippingData: shippingData, userDetails: userDetails })))));
        }
        else if (error) {
            return react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_ErrorPage__WEBPACK_IMPORTED_MODULE_6__.default, { reload: true });
        }
        return react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Loader__WEBPACK_IMPORTED_MODULE_7__.default, { show: this.props.loading, backdrop: true });
    };
    return AddressComponent;
}(react__WEBPACK_IMPORTED_MODULE_0__.default.Component));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_context_CheckoutContext__WEBPACK_IMPORTED_MODULE_28__.CheckoutConsumerHOC)(AddressComponent));


/***/ }),

/***/ "./browser/components/common/Credits/LoyaltyPoints.js":
/*!************************************************************!*\
  !*** ./browser/components/common/Credits/LoyaltyPoints.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! prop-types */ "../node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "../node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var commonComp_ToolTip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! commonComp/ToolTip */ "./browser/components/common/ToolTip/index.js");
/* harmony import */ var commonComp_ImageBanner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! commonComp/ImageBanner */ "./browser/components/common/ImageBanner/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! commonUtils/KVPairManager */ "./utils/KVPairManager/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var _credits_base_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./credits.base.css */ "./browser/components/common/Credits/credits.base.css");
/* harmony import */ var iconComp_RupeeBold_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! iconComp/RupeeBold.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/RupeeBold.jsx");
/* harmony import */ var iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! iconComp/Rupee.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/Rupee.jsx");
/* harmony import */ var iconComp_Info_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! iconComp/Info.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/Info.jsx");
/* harmony import */ var iconComp_CheckboxActive_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! iconComp/CheckboxActive.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/CheckboxActive.jsx");
/* harmony import */ var iconComp_CheckboxInactive_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! iconComp/CheckboxInactive.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/CheckboxInactive.jsx");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();














var LoyaltyPoints = /** @class */ (function (_super) {
    __extends(LoyaltyPoints, _super);
    function LoyaltyPoints() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    LoyaltyPoints.prototype.render = function () {
        var _a = this.props, appliedLP = _a.appliedLP, lpSellerDisabled = _a.lpSellerDisabled, totalActivePoints = _a.totalActivePoints, lpBalancePresent = _a.lpBalancePresent, lpBalance = _a.lpBalance, loyaltyPointsApplicable = _a.loyaltyPointsApplicable, toggleLP = _a.toggleLP, showBalance = _a.showBalance;
        var lazyLoad = (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_4__.isFeatureEnabled)('LP_BALANCE_LAZYLOAD') &&
            !appliedLP &&
            !lpBalancePresent;
        var showBalanceButton = lazyLoad || (appliedLP && !lpBalancePresent);
        var lpCheckboxDisabled = !appliedLP && (lazyLoad || !totalActivePoints || lpSellerDisabled);
        var mfuInfo = (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_5__.getKVPairValue)('MFU_INFO_V2');
        return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.creditBlock },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.creditBlockMainArea },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.toggleArea, onClick: lpCheckboxDisabled ? null : toggleLP },
                    appliedLP ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_CheckboxActive_jsx__WEBPACK_IMPORTED_MODULE_11__.default, { className: "lpCheckbox ".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.checkbox, " ").concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.checkboxSelected, " ").concat(lpCheckboxDisabled ? _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.disabled : '') })) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_CheckboxInactive_jsx__WEBPACK_IMPORTED_MODULE_12__.default, { className: "lpCheckbox ".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.checkbox, " ").concat(lpCheckboxDisabled ? _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.disabled : '') })),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.headerText }, "MynCash")),
                showBalanceButton ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.rightBlock },
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.showBalanceButton, onClick: showBalance }, "Show Balance"))) : (appliedLP && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.rightBlock },
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.usageInfo }, "You saved"),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.appliedAmount },
                            (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_4__.isFeatureEnabled)('MFU') && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_ImageBanner__WEBPACK_IMPORTED_MODULE_3__.default, { name: "mfu-coin", className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.mfuCoin })),
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_RupeeBold_jsx__WEBPACK_IMPORTED_MODULE_8__.default, { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.rupeeIcon }),
                            (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__.currencyValue)(appliedLP.value)))))),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.balanceText }, lpBalancePresent ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
                        'Total Active MynCash: ',
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_9__.default, { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.balanceRupeeIcon }),
                        (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__.currencyValue)(totalActivePoints * lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(lpBalance, 'conversionFactor'))),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.lpTooltip },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_ToolTip__WEBPACK_IMPORTED_MODULE_2__.default, { elem: react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Info_jsx__WEBPACK_IMPORTED_MODULE_10__.default, { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.lpTooltipIcon }), className: "".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.lpTooltipText, " ").concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.mfuV2Text), tipStyle: { left: '-2px', top: '-10px' } },
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.mfuTextContainer },
                                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.mfuHeading }, mfuInfo.heading.replace('{points}', totalActivePoints)),
                                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.mfuDesc }, mfuInfo.desc),
                                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.mfuConversion }, mfuInfo.conversion)))))) : appliedLP ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
                    'You saved: ',
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_9__.default, { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.balanceRupeeIcon }),
                    (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__.currencyValue)(appliedLP.value))) : null)),
            lpSellerDisabled ||
                (loyaltyPointsApplicable.value &&
                    loyaltyPointsApplicable.remark === 'MIXED') ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_7__.default.note },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, "Please note:"),
                ' ', "MynCash is not applicable on any items sold by ".concat((0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_5__.getKVPairValue)('PAYMENT_SELLERNAME')))) : null));
    };
    return LoyaltyPoints;
}(react__WEBPACK_IMPORTED_MODULE_0__.default.PureComponent));
LoyaltyPoints.propTypes = {
    appliedLP: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),
    totalActivePoints: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().number),
    lpSellerDisabled: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
    lpBalance: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),
    loyaltyPointsApplicable: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),
    toggleLP: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func)
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LoyaltyPoints);


/***/ }),

/***/ "./browser/components/common/Credits/MyntraCredit.js":
/*!***********************************************************!*\
  !*** ./browser/components/common/Credits/MyntraCredit.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ "../node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! commonUtils/KVPairManager */ "./utils/KVPairManager/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var _credits_base_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./credits.base.css */ "./browser/components/common/Credits/credits.base.css");
/* harmony import */ var iconComp_CheckboxActive_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! iconComp/CheckboxActive.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/CheckboxActive.jsx");
/* harmony import */ var iconComp_CheckboxInactive_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! iconComp/CheckboxInactive.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/CheckboxInactive.jsx");
/* harmony import */ var iconComp_RupeeBold_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! iconComp/RupeeBold.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/RupeeBold.jsx");
/* harmony import */ var iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! iconComp/Rupee.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/Rupee.jsx");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();










var MyntraCredit = /** @class */ (function (_super) {
    __extends(MyntraCredit, _super);
    function MyntraCredit() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    MyntraCredit.prototype.render = function () {
        var _a = this.props, appliedGC = _a.appliedGC, totalGCBalance = _a.totalGCBalance, totalGCBalancePresent = _a.totalGCBalancePresent, gcSellerDisabled = _a.gcSellerDisabled, toggleGC = _a.toggleGC, showBalance = _a.showBalance, giftcardApplicable = _a.giftcardApplicable;
        var lazyLoad = (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_1__.isFeatureEnabled)('AUTOGC_BALANCE_LAZYLOAD') &&
            !appliedGC &&
            !totalGCBalancePresent;
        var showBalanceButton = lazyLoad || (appliedGC && !totalGCBalancePresent);
        var gcCheckboxDisabled = !appliedGC &&
            (lazyLoad || !(0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_3__.isValidAmount)(totalGCBalance) || gcSellerDisabled);
        return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.creditBlock },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.creditBlockMainArea },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.toggleArea, onClick: gcCheckboxDisabled ? null : toggleGC },
                    appliedGC ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_CheckboxActive_jsx__WEBPACK_IMPORTED_MODULE_5__.default, { className: "gcCheckbox ".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.checkbox, " ").concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.checkboxSelected, " ").concat(gcCheckboxDisabled ? _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.disabled : '') })) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_CheckboxInactive_jsx__WEBPACK_IMPORTED_MODULE_6__.default, { className: "gcCheckbox ".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.checkbox, " ").concat(gcCheckboxDisabled ? _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.disabled : '') })),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.headerText }, "Myntra Credit")),
                showBalanceButton ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.rightBlock },
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.showBalanceButton, onClick: showBalance }, "Show Balance"))) : (appliedGC && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.rightBlock },
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.usageInfo }, "You used"),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.appliedAmount },
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_RupeeBold_jsx__WEBPACK_IMPORTED_MODULE_7__.default, { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.rupeeIcon }),
                            (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_3__.currencyValue)(appliedGC.value)))))),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.balanceText }, appliedGC && totalGCBalance ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
                    'Remaining Balance: ',
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_8__.default, { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.balanceRupeeIcon }),
                    (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_3__.currencyValue)(totalGCBalance - appliedGC.value))) : totalGCBalancePresent ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
                    'Available Balance: ',
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_8__.default, { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.balanceRupeeIcon }),
                    (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_3__.currencyValue)(totalGCBalance))) : appliedGC ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
                    'You Used: ',
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_8__.default, { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.balanceRupeeIcon }),
                    (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_3__.currencyValue)(appliedGC.value))) : null)),
            gcSellerDisabled ||
                (giftcardApplicable.value && giftcardApplicable.remark === 'MIXED') ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_4__.default.note },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, "Please note:"),
                ' ', "Myntra Credit is not applicable on any items sold by ".concat((0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_2__.getKVPairValue)('PAYMENT_SELLERNAME')))) : null));
    };
    return MyntraCredit;
}(react__WEBPACK_IMPORTED_MODULE_0__.default.PureComponent));
MyntraCredit.propTypes = {
    appliedGC: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().object),
    totalGCBalance: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().number),
    totalGCBalancePresent: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool),
    gcSellerDisabled: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool),
    giftcardApplicable: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().object),
    toggleGC: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().func),
    showBalance: (prop_types__WEBPACK_IMPORTED_MODULE_9___default().func)
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyntraCredit);


/***/ }),

/***/ "./browser/components/common/Credits/SuperCoinsCredit/index.js":
/*!*********************************************************************!*\
  !*** ./browser/components/common/Credits/SuperCoinsCredit/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var customHooks_useModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! customHooks/useModal */ "./browser/hooks/useModal.js");
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! commonUtils/KVPairManager */ "./utils/KVPairManager/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _credits_base_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../credits.base.css */ "./browser/components/common/Credits/credits.base.css");
/* harmony import */ var iconComp_CheckboxActive_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! iconComp/CheckboxActive.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/CheckboxActive.jsx");
/* harmony import */ var iconComp_CheckboxInactive_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! iconComp/CheckboxInactive.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/CheckboxInactive.jsx");
/* harmony import */ var iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! iconComp/Rupee.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/Rupee.jsx");
/* harmony import */ var iconComp_ArrowRight_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! iconComp/ArrowRight.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/ArrowRight.jsx");
/* harmony import */ var iconComp_SuperCoin_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! iconComp/SuperCoin.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/SuperCoin.jsx");
/* harmony import */ var commonComp_Modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! commonComp/Modal */ "./browser/components/common/Modal/index.js");
/* harmony import */ var commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! commonBrowserUtils/Strings */ "./browser/utils/Strings.js");













var SuperCoinsCredit = function (props) {
    var _a = (0,customHooks_useModal__WEBPACK_IMPORTED_MODULE_1__.default)(false), isModalOpen = _a[0], toggleModal = _a[1];
    var _b = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), isCheckBoxSelected = _b[0], setCheckBoxVisibilty = _b[1];
    var showHalfCardFlow = (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_4__.isVariantEnabled)('PAY_VIA_SUPERCOINS_DOUBLE_CONSENT') ||
        (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_4__.isVariantEnabled)('PAY_VIA_SUPERCOINS_DOUBLE_CONSENT_NON_INSIDER');
    var _c = props.redeemableSupercoins, redeemableSupercoins = _c === void 0 ? 0 : _c, _d = props.equivalentMyntraCredit, equivalentMyntraCredit = _d === void 0 ? 0 : _d, _e = props.applySupercoinsCb, applySupercoinsCb = _e === void 0 ? function () { } : _e, cartId = props.cartId, disableSuperCoins = props.disableSuperCoins;
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        triggerEvent('CART_SUPERCOINS_CREDIT_WIDGET_LOAD', {
            maData: {},
            custom: {
                widget_items: {
                    data_set: {
                        data: { entity_name: 'redeem_supercoins', entity_id: cartId }
                    }
                }
            }
        });
    }, []);
    var scHeaderText = (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_3__.getKVPairValue)('SUPERCOINS_CREDIT').scTxt;
    var closeModal = function () {
        toggleModal();
        setCheckBoxVisibilty(false);
    };
    var triggerClickEvent = function (isRedeem) {
        triggerEvent('CART_SUPERCOINS_CREDIT_WIDGET_CLICK', {
            maData: {},
            custom: {
                widget_items: {
                    data_set: {
                        data: {
                            entity_name: isRedeem ? 'redeem_supercoins' : 'open_half_card',
                            entity_id: cartId
                        }
                    }
                }
            }
        });
    };
    var openModal = function () {
        triggerEvent('CART_SUPERCOINS_HALF_CARD_CREDIT_SCREEN_LOAD', {
            maData: {},
            custom: {
                widget_items: {
                    data_set: {
                        data: { entity_name: 'redeem_supercoins', entity_id: cartId }
                    }
                }
            }
        });
        triggerClickEvent(false);
        toggleModal();
        setCheckBoxVisibilty(true);
    };
    var initRedeemFlow = function () {
        triggerClickEvent(true);
        applySupercoinsCb();
    };
    var handleConfirm = function () {
        closeModal();
        applySupercoinsCb();
    };
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.creditBlock },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.creditBlockMainArea },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.toggleArea, onClick: disableSuperCoins
                    ? null
                    : showHalfCardFlow
                        ? openModal
                        : initRedeemFlow },
                isCheckBoxSelected ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_CheckboxActive_jsx__WEBPACK_IMPORTED_MODULE_6__.default, { className: "gcCheckbox ".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.checkbox, "\n              ").concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.checkboxSelected, "\n              ").concat(disableSuperCoins ? _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.disabled : '') })) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_CheckboxInactive_jsx__WEBPACK_IMPORTED_MODULE_7__.default, { className: "gcCheckbox\n              ".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.checkbox, "\n              ").concat(disableSuperCoins ? _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.disabled : '') })),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.headerText }, scHeaderText.split(' ').map(function (word, idx) {
                    switch (word) {
                        case '$SC_ICON$':
                            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.scIcon },
                                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_SuperCoin_jsx__WEBPACK_IMPORTED_MODULE_10__.default, { key: idx })));
                        case '$RS_ICON$':
                            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_8__.default, { key: idx, className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.balanceRupeeIcon }));
                        case '$NEW_TAG$':
                            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { key: idx, className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.newTag }, "new"));
                        case '$SC_BAL$':
                            return (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_2__.currencyValue)(redeemableSupercoins);
                        case '$MC_BAL$':
                            return (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_2__.currencyValue)(equivalentMyntraCredit);
                        default:
                            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.default.Fragment, { key: idx }, " ".concat(word, " ")));
                    }
                }))),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.note, " ").concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.scNote) },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, "Note:"),
                commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_12__.SUPERCOINS_CREDIT.widgetNote),
            isModalOpen && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Modal__WEBPACK_IMPORTED_MODULE_11__.default, { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.mobileModal, cancelCallback: closeModal, cancelIconConfig: { show: true }, halfCard: true },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.modalHeading }, "Converting SuperCoins into Myntra Credit"),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.conversionContainer },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.scConversion },
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_SuperCoin_jsx__WEBPACK_IMPORTED_MODULE_10__.default, { height: 14 }),
                            ' ',
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: "".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.bold, " ").concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.size) }, (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_2__.currencyValue)(redeemableSupercoins)),
                            ' ',
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("br", null),
                            "SuperCoins"),
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_ArrowRight_jsx__WEBPACK_IMPORTED_MODULE_9__.default, { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.arrow }),
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.mcConversion },
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_8__.default, { width: 10, height: 13 }),
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: "".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.bold, " ").concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.size) }, (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_2__.currencyValue)(equivalentMyntraCredit)),
                            ' ',
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("br", null),
                            "Myntra Credit")),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.modalNoteText },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.bold }, "NOTE:"),
                        commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_12__.SUPERCOINS_CREDIT.popUpNote),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.modalBtnContainer },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("button", { className: "".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.modalBtn, " ").concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.btnCancel), onClick: closeModal }, "Cancel"),
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("button", { className: "".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.modalBtn, " ").concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_5__.default.btnConfirm), onClick: handleConfirm }, "Confirm"))))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SuperCoinsCredit);


/***/ }),

/***/ "./browser/components/common/Credits/index.js":
/*!****************************************************!*\
  !*** ./browser/components/common/Credits/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! prop-types */ "../node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "../node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _MyntraCredit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MyntraCredit */ "./browser/components/common/Credits/MyntraCredit.js");
/* harmony import */ var _LoyaltyPoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LoyaltyPoints */ "./browser/components/common/Credits/LoyaltyPoints.js");
/* harmony import */ var _SuperCoinsCredit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SuperCoinsCredit */ "./browser/components/common/Credits/SuperCoinsCredit/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var commonUtils_helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonUtils/helper */ "./utils/helper/index.js");
/* harmony import */ var commonUtils_helper__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(commonUtils_helper__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var commonBrowserUtils_CreditsManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! commonBrowserUtils/CreditsManager */ "./browser/utils/CreditsManager.js");
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var commonBrowserUtils_CartHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! commonBrowserUtils/CartHelper */ "./browser/utils/CartHelper/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! commonUtils/KVPairManager */ "./utils/KVPairManager/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! commonBrowserUtils/Strings */ "./browser/utils/Strings.js");
/* harmony import */ var _credits_base_css__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./credits.base.css */ "./browser/components/common/Credits/credits.base.css");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};














var boundFuncs = [
    'toggleGC',
    'toggleLP',
    'showGiftCardBalance',
    'showLPBalance',
    'updateMyntraInstrumentsData',
    'handleCreditsAction',
    'fetchBalance',
    'onFetchBalance',
    'redeemSuperCoins'
];
var Credits = /** @class */ (function (_super) {
    __extends(Credits, _super);
    function Credits(props) {
        var _this = _super.call(this, props) || this;
        boundFuncs.forEach(function (method) { return (_this[method] = _this[method].bind(_this)); });
        var _a = _this.props.balance, _b = _a === void 0 ? {} : _a, _c = _b.gcBalance, gcBalance = _c === void 0 ? null : _c, _d = _b.lpBalance, lpBalance = _d === void 0 ? null : _d, _e = _b.scBalance, scBalance = _e === void 0 ? null : _e;
        _this.state = {
            gcBalance: gcBalance,
            lpBalance: lpBalance,
            scBalance: scBalance,
            showSCCredits: false
        };
        return _this;
    }
    Credits.prototype.componentDidMount = function () {
        this.fetchBalance();
        this.updateMyntraInstrumentsData(this.props);
    };
    Credits.prototype.fetchBalance = function () {
        /* Fetch LP, GC balance in case not present in state
          Also, handling lazy load for GC in case feature is enabled */
        var promises = [];
        var _a = this.state, lpBalance = _a.lpBalance, gcBalance = _a.gcBalance;
        var _b = this.props, _c = _b.show, mcShow = _c.mcShow, lpShow = _c.lpShow, scShow = _c.scShow, cartTotal = _b.cartTotal, cartId = _b.cartId;
        promises.push(!lpShow || lpBalance || (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__.isFeatureEnabled)('LP_BALANCE_LAZYLOAD')
            ? Promise.resolve()
            : new Promise(function (resolve) {
                return commonBrowserUtils_CreditsManager__WEBPACK_IMPORTED_MODULE_7__.default.getLoyaltyPointsBalance(null, resolve, resolve);
            }));
        promises.push(!mcShow || gcBalance || (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__.isFeatureEnabled)('AUTOGC_BALANCE_LAZYLOAD')
            ? Promise.resolve()
            : new Promise(function (resolve) {
                return commonBrowserUtils_CreditsManager__WEBPACK_IMPORTED_MODULE_7__.default.getGiftCardBalance(null, resolve, resolve);
            }));
        promises.push(scShow && Math.round(Number(cartTotal)) > 0
            ? new Promise(function (resolve) {
                return commonBrowserUtils_CreditsManager__WEBPACK_IMPORTED_MODULE_7__.default.getSupercoinsBalance({
                    amount: Math.round(Number(cartTotal)),
                    cartId: cartId
                }, resolve, resolve);
            })
            : Promise.resolve());
        Promise.all(promises).then(this.onFetchBalance);
    };
    Credits.prototype.onFetchBalance = function (data) {
        var lpBalance = data[0], gcBalance = data[1], scBalance = data[2];
        gcBalance &&
            !gcBalance.hasOwnProperty('error') &&
            this.setState({ gcBalance: gcBalance });
        lpBalance &&
            !lpBalance.hasOwnProperty('error') &&
            this.setState({ lpBalance: lpBalance });
        if (lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(scBalance, 'statusEntry.statusType', false) === 'SUCCESS') {
            this.setState({
                scBalance: lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(scBalance, 'data', {}),
                showSCCredits: true
            });
        }
        this.props.updateCredits &&
            this.props.updateCredits({
                gcBalance: gcBalance,
                lpBalance: lpBalance,
                scBalance: scBalance
            });
    };
    Credits.prototype.handleCreditsAction = function (action, data, successCallback, errorCallback) {
        var _this = this;
        var _a = this.props, setLoader = _a.setLoader, pagesource = _a.pagesource;
        setLoader(true);
        commonBrowserUtils_CreditsManager__WEBPACK_IMPORTED_MODULE_7__.default[action]({ data: data, pagesource: pagesource }, function (res) {
            setLoader(false);
            _this.triggerClickEvent(action);
            successCallback && successCallback(res, action);
            /* In case gc was not present, but was auto applied.
              Fetches balance only if not present in state */
        }, function (err) {
            setLoader(false);
            errorCallback ? errorCallback(err) : (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__.errorNotification)();
        });
    };
    Credits.prototype.triggerClickEvent = function (action) {
        triggerEvent('CREDITS_WIDGET_CLICK', {
            maData: {},
            custom: {
                widget_items: {
                    data_set: {
                        data: { entity_name: action, entity_id: this.props.cartId }
                    }
                }
            }
        });
    };
    Credits.prototype.updateMyntraInstrumentsData = function (data, nextData) {
        var _a = this.props.instrumentData, _b = _a === void 0 ? {} : _a, _c = _b.mc, mc = _c === void 0 ? {} : _c, _d = _b.lp, lp = _d === void 0 ? {} : _d;
        var myntraInstrumentsData = {};
        if (!nextData || (nextData && data.appliedGC !== nextData.appliedGC)) {
            var mcData = nextData || data;
            var mcTwoFAData = {
                enable: mcData.appliedGC ? true : false
            };
            mcData &&
                (myntraInstrumentsData = __assign(__assign({}, myntraInstrumentsData), { auto_giftcard_used: mcData.appliedGC ? 'true' : '', auto_giftcard_amount: mcData.appliedGC ? mcData.appliedGC.value : '0', giftcard_type: mcData.appliedGC ? 'myntracredit' : '', twofa_mc_data: mcTwoFAData, paynowInstrumentsData: {
                        autoGiftCardUsed: mcData.appliedGC ? 'true' : '',
                        autoGiftCardAmount: mcData.appliedGC ? mcData.appliedGC.value : '0',
                        giftcardType: mcData.appliedGC ? 'myntracredit' : '',
                        myntraCreditEligible: mcData.appliedGC ? 'true' : '',
                        myntraCreditAmount: mcData.appliedGC ? mcData.appliedGC.value : '0'
                    } }));
        }
        if (!nextData || (nextData && data.appliedLP !== nextData.appliedLP)) {
            var lpData = nextData || data;
            var lpTwoFAData = {
                enable: lpData.appliedLP ? true : false
            };
            if (lpData) {
                var paynowInstrumentsData = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(myntraInstrumentsData, 'paynowInstrumentsData', {});
                myntraInstrumentsData = __assign(__assign({}, myntraInstrumentsData), { useloyaltypoints: lpData.appliedLP ? 'Y' : 'N', twofa_lp_data: lpTwoFAData, paynowInstrumentsData: __assign(__assign({}, paynowInstrumentsData), { useloyaltypoints: lpData.appliedLP ? 'Y' : 'N' }) });
            }
        }
        this.props.addMyntraInstrumentsData(myntraInstrumentsData);
    };
    Credits.prototype.toggleGC = function () {
        if (this.props.payMode === 'retry') {
            this.props.toggleRetryGC();
            return;
        }
        var _a = this.props, appliedGC = _a.appliedGC, selectedProductsCount = _a.selectedProductsCount, deviceMode = _a.deviceMode;
        if (selectedProductsCount === 0) {
            var styleOverrides = (0,commonBrowserUtils_CartHelper__WEBPACK_IMPORTED_MODULE_9__.getSnackBarStyleOverrides)(deviceMode);
            SHELL.alert('info', {
                message: 'Select at least one item to apply Myntra Credit',
                styleOverrides: styleOverrides
            });
        }
        else {
            this.handleCreditsAction(appliedGC ? 'removeGiftCard' : 'applyGiftCard', null, this.props.creditsToggleSuccessCallback);
        }
    };
    Credits.prototype.toggleLP = function () {
        var _a = this.props, appliedLP = _a.appliedLP, selectedProductsCount = _a.selectedProductsCount, deviceMode = _a.deviceMode;
        if (selectedProductsCount === 0) {
            var styleOverrides = (0,commonBrowserUtils_CartHelper__WEBPACK_IMPORTED_MODULE_9__.getSnackBarStyleOverrides)(deviceMode);
            SHELL.alert('info', {
                message: 'Select at least one item to apply Myncash',
                styleOverrides: styleOverrides
            });
        }
        else {
            this.handleCreditsAction(appliedLP ? 'removeLoyaltyPoints' : 'applyLoyaltyPoints', null, this.props.creditsToggleSuccessCallback);
        }
    };
    Credits.prototype.redeemSuperCoins = function () {
        var _this = this;
        var _a = this.props, selectedProductsCount = _a.selectedProductsCount, deviceMode = _a.deviceMode, cartId = _a.cartId, cartTotal = _a.cartTotal;
        var styleOverrides = (0,commonBrowserUtils_CartHelper__WEBPACK_IMPORTED_MODULE_9__.getSnackBarStyleOverrides)(deviceMode);
        if (selectedProductsCount === 0) {
            SHELL.alert('info', {
                message: commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_11__.SUPERCOINS_CREDIT.itemSelectError,
                styleOverrides: styleOverrides
            });
        }
        else {
            var redeemableSupercoins = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(this.state.scBalance, 'redeemableSupercoins', 0);
            this.handleCreditsAction('redeemSuperCoins', {
                amount: Math.round(Number(cartTotal)),
                redeemableSCShown: redeemableSupercoins,
                cartId: cartId
            }, function (data) {
                var isSuccess = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(data, 'statusEntry.statusType', false) === 'SUCCESS';
                var message = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(data, 'statusEntry.statusMessage', '');
                if (message) {
                    if (isSuccess) {
                        SHELL.alert('info', {
                            message: message,
                            styleOverrides: styleOverrides
                        });
                    }
                    else {
                        (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__.errorNotification)({
                            message: message
                        });
                    }
                }
                if (isSuccess) {
                    setTimeout(function () {
                        commonBrowserUtils_CreditsManager__WEBPACK_IMPORTED_MODULE_7__.default.getGiftCardBalance(null, function (gcBalance) {
                            gcBalance &&
                                !gcBalance.hasOwnProperty('error') &&
                                _this.setState({ gcBalance: gcBalance });
                            _this.props.updateCredits &&
                                _this.props.updateCredits({
                                    gcBalance: gcBalance
                                });
                            _this.isSuperCoinsRedeemed = true;
                        }, function () { });
                    }, (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_10__.getKVPairValue)('SUPERCOINS_CREDIT').apiTimeout || 2000);
                }
                _this.setState({
                    showSCCredits: false
                });
            });
        }
    };
    Credits.prototype.showGiftCardBalance = function () {
        var _this = this;
        this.handleCreditsAction('getGiftCardBalance', null, function (res) {
            if (_this.props.payMode === 'retry') {
                _this.props.updateCreditsBalance({ gcBalance: res });
            }
            else {
                _this.setState({
                    gcBalance: res
                });
            }
        }, function () {
            (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__.errorNotification)({
                message: 'Unable to load balance. Please try again'
            });
        });
    };
    Credits.prototype.showLPBalance = function () {
        var _this = this;
        this.handleCreditsAction('getLoyaltyPointsBalance', null, function (res) {
            _this.setState({
                lpBalance: res
            });
        }, function () {
            (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__.errorNotification)({
                message: 'Unable to load balance. Please try again'
            });
        });
    };
    Credits.prototype.componentDidUpdate = function (prevProps, prevState) {
        var _this = this;
        this.updateMyntraInstrumentsData(prevProps, this.props);
        if (prevProps.balance !== this.props.balance) {
            var _a = this.props.balance, _b = _a === void 0 ? {} : _a, _c = _b.gcBalance, gcBalance = _c === void 0 ? null : _c, _d = _b.lpBalance, lpBalance = _d === void 0 ? null : _d;
            this.setState({
                gcBalance: gcBalance,
                lpBalance: lpBalance
            });
        }
        if (lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(this.props, 'show.scShow', false) &&
            prevProps.totalQuantityInCart !== this.props.totalQuantityInCart) {
            if (Math.round(Number(this.props.cartTotal)) > 0) {
                commonBrowserUtils_CreditsManager__WEBPACK_IMPORTED_MODULE_7__.default.getSupercoinsBalance({
                    amount: Math.round(Number(this.props.cartTotal)),
                    cartId: this.props.cartId
                }, function (res) {
                    if (lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(res, 'statusEntry.statusType', false) === 'SUCCESS') {
                        _this.setState({
                            scBalance: lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(res, 'data', {}),
                            showSCCredits: true
                        });
                    }
                    else {
                        _this.setState({
                            showSCCredits: false
                        });
                    }
                }, function (error) {
                    _this.setState({ scBalance: null, showSCCredits: false });
                });
            }
            else {
                this.setState({ scBalance: null, showSCCredits: false });
            }
        }
        if (lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(this.props, 'show.scShow', false) && this.isSuperCoinsRedeemed) {
            this.isSuperCoinsRedeemed = false;
            var prevGCBalance = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(prevState, 'gcBalance.totalBalance');
            var currentGCBalance = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(this.state, 'gcBalance.totalBalance');
            if (prevGCBalance === currentGCBalance) {
                var deviceMode = this.props.deviceMode;
                var styleOverrides = (0,commonBrowserUtils_CartHelper__WEBPACK_IMPORTED_MODULE_9__.getSnackBarStyleOverrides)(deviceMode);
                SHELL.alert('info', {
                    message: (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_10__.getKVPairValue)('SUPERCOINS_CREDIT').mcTimeoutMsg,
                    styleOverrides: styleOverrides
                });
            }
            else {
                this.handleCreditsAction('applyGiftCard', null, this.props.creditsToggleSuccessCallback);
            }
        }
    };
    Credits.prototype.render = function () {
        var _a = this, _b = _a.props, payMode = _b.payMode, cartId = _b.cartId, appliedGC = _b.appliedGC, appliedLP = _b.appliedLP, giftcardApplicable = _b.giftcardApplicable, loyaltyPointsApplicable = _b.loyaltyPointsApplicable, deviceMode = _b.deviceMode, cartTotal = _b.cartTotal, isExchangeCart = _b.isExchangeCart, isRefund = _b.isRefund, _c = _b.show, mcShow = _c.mcShow, lpShow = _c.lpShow, _d = _c.scShow, scShow = _d === void 0 ? false : _d, _e = _a.state, gcBalance = _e.gcBalance, lpBalance = _e.lpBalance, scBalance = _e.scBalance, showSCCredits = _e.showSCCredits;
        var totalGCBalance = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(gcBalance, 'totalBalance');
        var totalGCBalancePresent = totalGCBalance !== undefined;
        var gcSellerDisabled = !giftcardApplicable.value && !(0,commonUtils_helper__WEBPACK_IMPORTED_MODULE_6__.isGiftcardContext)() && payMode !== 'retry';
        var lpSellerDisabled = !loyaltyPointsApplicable.value &&
            !(0,commonUtils_helper__WEBPACK_IMPORTED_MODULE_6__.isGiftcardContext)() &&
            payMode !== 'retry';
        // show GC option if:
        // autogc fg is enabled and
        // (giftcardApplicable flag is true or giftcard seller is disabled) and
        // (user has some gc balance or the lazy fg is enabled)
        var autoAppliedBalance = appliedGC && (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__.isValidAmount)(appliedGC.value);
        var lpAppliedBalance = appliedLP && (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__.isValidAmount)(appliedLP.value);
        var showGC = mcShow &&
            !isRefund &&
            (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__.isFeatureEnabled)('AUTOGC_ENABLED') &&
            (giftcardApplicable.value || gcSellerDisabled) &&
            (isExchangeCart && Number(cartTotal) === 0
                ? autoAppliedBalance || lpAppliedBalance
                : true) &&
            ((totalGCBalancePresent && (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__.isValidAmount)(totalGCBalance)) ||
                autoAppliedBalance ||
                (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__.isFeatureEnabled)('AUTOGC_BALANCE_LAZYLOAD'));
        var totalActivePoints = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(lpBalance, 'activePoints');
        var lpBalancePresent = totalActivePoints !== undefined;
        var showLP = lpShow &&
            !isRefund &&
            (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__.isFeatureEnabled)('LP_ENABLED') &&
            (loyaltyPointsApplicable.value || lpSellerDisabled) &&
            (isExchangeCart && Number(cartTotal) === 0
                ? autoAppliedBalance || lpAppliedBalance
                : true) &&
            (lpAppliedBalance ||
                totalActivePoints ||
                (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__.isFeatureEnabled)('LP_BALANCE_LAZYLOAD'));
        var redeemableSupercoins = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(scBalance, 'redeemableSupercoins', 0);
        var equivalentMyntraCredit = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(scBalance, 'equivalentMyntraCredit', 0);
        var showSuperCoins = showSCCredits && scShow && redeemableSupercoins > 0;
        var disableSuperCoins = (0,commonUtils_helper__WEBPACK_IMPORTED_MODULE_6__.isGiftcardContext)() && payMode === 'retry';
        return showGC || showLP || showSuperCoins ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_credits_base_css__WEBPACK_IMPORTED_MODULE_12__.default.creditsContainer, " ").concat(deviceMode === 'desktop' ? _credits_base_css__WEBPACK_IMPORTED_MODULE_12__.default.desktopCreditsContainer : '') },
            showGC ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_MyntraCredit__WEBPACK_IMPORTED_MODULE_2__.default, { cartId: cartId, appliedGC: appliedGC, totalGCBalance: totalGCBalance, totalGCBalancePresent: totalGCBalancePresent, gcSellerDisabled: gcSellerDisabled, giftcardApplicable: giftcardApplicable, toggleGC: this.toggleGC, showBalance: this.showGiftCardBalance })) : null,
            showGC && showSuperCoins && react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_12__.default.separator }),
            showSuperCoins && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_SuperCoinsCredit__WEBPACK_IMPORTED_MODULE_4__.default, { redeemableSupercoins: redeemableSupercoins, equivalentMyntraCredit: equivalentMyntraCredit, applySupercoinsCb: this.redeemSuperCoins, cartId: cartId, disableSuperCoins: disableSuperCoins })),
            showLP && (showGC || showSuperCoins) && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _credits_base_css__WEBPACK_IMPORTED_MODULE_12__.default.separator })),
            showLP ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_LoyaltyPoints__WEBPACK_IMPORTED_MODULE_3__.default, { cartId: cartId, appliedLP: appliedLP, totalActivePoints: totalActivePoints, lpBalancePresent: lpBalancePresent, lpSellerDisabled: lpSellerDisabled, lpBalance: lpBalance, loyaltyPointsApplicable: loyaltyPointsApplicable, toggleLP: this.toggleLP, showBalance: this.showLPBalance })) : null)) : null;
    };
    return Credits;
}(react__WEBPACK_IMPORTED_MODULE_0__.default.PureComponent));
Credits.defaultProps = {
    addMyntraInstrumentsData: function () { }
};
Credits.propTypes = {
    balance: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),
    appliedGC: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),
    appliedLP: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),
    isExchangeCart: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
    isRefund: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().bool),
    giftcardApplicable: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),
    loyaltyPointsApplicable: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),
    addMyntraInstrumentsData: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func),
    cartId: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string),
    cartTotal: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string),
    instrumentData: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object),
    show: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().object.isRequired),
    creditsToggleSuccessCallback: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func.isRequired),
    setLoader: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().func.isRequired),
    pagesource: (prop_types__WEBPACK_IMPORTED_MODULE_13___default().string)
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Credits);


/***/ }),

/***/ "./browser/components/common/SavingsCallout/index.js":
/*!***********************************************************!*\
  !*** ./browser/components/common/SavingsCallout/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "../node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var iconComp_SavingsCallout_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! iconComp/SavingsCallout.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/SavingsCallout.jsx");
/* harmony import */ var commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! commonBrowserUtils/Strings */ "./browser/utils/Strings.js");
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var _savingsCallout_base_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./savingsCallout.base.css */ "./browser/components/common/SavingsCallout/savingsCallout.base.css");






var SavingsCallout = function (props) {
    var isSticky = props.isSticky;
    var totalSavings = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(props, 'cartData.price.totalSavings', 0);
    return totalSavings > 0 ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_savingsCallout_base_css__WEBPACK_IMPORTED_MODULE_5__.default.container, " ").concat(!isSticky && _savingsCallout_base_css__WEBPACK_IMPORTED_MODULE_5__.default.abovePriceBlock) },
        !isSticky ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_SavingsCallout_jsx__WEBPACK_IMPORTED_MODULE_2__.default, { className: _savingsCallout_base_css__WEBPACK_IMPORTED_MODULE_5__.default.savingsCalloutIcon }))) : null,
        commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_3__.PAYMENT_SAVINGS_CALLOUT_AMT.text.split('$b').map(function (text, index) {
            if (text === 'AMOUNT') {
                return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _savingsCallout_base_css__WEBPACK_IMPORTED_MODULE_5__.default.amount, key: index }, text.replace(text, " \u20B9".concat((0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_4__.currencyValue)(totalSavings), " "))));
            }
            return text;
        }))) : null;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SavingsCallout);


/***/ }),

/***/ "./browser/components/common/TryAndBuy/index.js":
/*!******************************************************!*\
  !*** ./browser/components/common/TryAndBuy/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! prop-types */ "../node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "../node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tryAndBuy.base.css */ "./browser/components/common/TryAndBuy/tryAndBuy.base.css");
/* harmony import */ var commonComp_Image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! commonComp/Image */ "./browser/components/common/Image/index.js");
/* harmony import */ var commonComp_ImageBanner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonComp/ImageBanner */ "./browser/components/common/ImageBanner/index.js");
/* harmony import */ var commonComp_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! commonComp/Modal */ "./browser/components/common/Modal/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! commonUtils/KVPairManager */ "./utils/KVPairManager/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var commonComp_ButtonV2__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! commonComp/ButtonV2 */ "./browser/components/common/ButtonV2/index.js");
/* harmony import */ var iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! iconComp/Rupee.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/Rupee.jsx");
/* harmony import */ var iconComp_RupeeBold_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! iconComp/RupeeBold.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/RupeeBold.jsx");
/* harmony import */ var iconComp_RupeeStriked_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! iconComp/RupeeStriked.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/RupeeStriked.jsx");
/* harmony import */ var iconComp_Check_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! iconComp/Check.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/Check.jsx");
/* harmony import */ var iconComp_CheckboxActive_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! iconComp/CheckboxActive.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/CheckboxActive.jsx");
/* harmony import */ var iconComp_CheckboxInactive_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! iconComp/CheckboxInactive.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/CheckboxInactive.jsx");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



// Styles

// Components



// Utils










var HOW_IT_WORKS = 'howItWorks';
var VIEW_ITEMS = 'viewItems';
var IMAGE_WIDTH = 36;
var IMAGE_HEIGHT = 48;
var ViewItemsButton = function (_a) {
    var onClick = _a.onClick;
    return (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_6__.isVariantEnabled)('AOC_V2_VARIANT3') ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { onClick: onClick, className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.viewItems }, "View Items")) : null;
};
var InfoBlock = function (_a) {
    var remark = _a.remark, tnbMaxCount = _a.tnbMaxCount, tnbMinAmount = _a.tnbMinAmount, isNewUser = _a.isNewUser, tnbMessage = _a.tnbMessage, openViewItemsModal = _a.openViewItemsModal, isCODAvailable = _a.isCODAvailable;
    switch (remark) {
        case 'NO_ISSUE': {
            var tnbConfig = (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_7__.getKVPairValue)('TNB_DETAILS') || {};
            var tnbPrice = Number((0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_7__.getKVPairValue)('TNB_PRICE') || 0);
            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.subTitle }, "Try items at the time of delivery."),
                isNewUser ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.messageContainer },
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.message },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Check_jsx__WEBPACK_IMPORTED_MODULE_13__.default, { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.checkIcon }),
                        tnbPrice ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_RupeeStriked_jsx__WEBPACK_IMPORTED_MODULE_12__.default, { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.rupeeIcon }),
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.strike }, tnbPrice),
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
                                " ",
                                tnbConfig.firstUser))) : (tnbConfig.firstUser)),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.message },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Check_jsx__WEBPACK_IMPORTED_MODULE_13__.default, { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.checkIcon }),
                        tnbMessage,
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(ViewItemsButton, { onClick: openViewItemsModal })),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.message },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Check_jsx__WEBPACK_IMPORTED_MODULE_13__.default, { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.checkIcon }),
                        isCODAvailable
                            ? 'Available for Pay on delivery'
                            : tnbConfig.codNotAvailable))) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.messageContainer },
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.message },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Check_jsx__WEBPACK_IMPORTED_MODULE_13__.default, { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.checkIcon }),
                        tnbMessage,
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(ViewItemsButton, { onClick: openViewItemsModal })),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.message },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Check_jsx__WEBPACK_IMPORTED_MODULE_13__.default, { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.checkIcon }),
                        isCODAvailable
                            ? 'Available for Pay on delivery'
                            : tnbConfig.codNotAvailable)))));
        }
        case 'TOO_MANY_ITEMS': {
            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, "Orders with "),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
                    "more than ",
                    tnbMaxCount,
                    " items "),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, "are not eligible.")));
        }
        case 'AMOUNT_IS_LESS_THAN_ALLOWED': {
            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, "Orders below "),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Rupee_jsx__WEBPACK_IMPORTED_MODULE_10__.default, { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.rupeeIcon }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null,
                    tnbMinAmount,
                    " are not eligible.")));
        }
        case 'NO_TNB_WITH_EXPRESS_DELIVERY': {
            return react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null, "Available only with standard delivery.");
        }
        case 'SELLER_NOT_ALLOWING': {
            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, "This order is not eligible for "),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", null, "Try & Buy.")));
        }
    }
};
var HowItWorksModal = function (_a) {
    var tryNBuyImage = _a.tryNBuyImage, closeModal = _a.closeModal;
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Modal__WEBPACK_IMPORTED_MODULE_5__.default, { cancelCallback: closeModal, className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.howItWorksModal, cancelIconConfig: { show: true } },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.modalHeader },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null, "How does Try & Buy work?")),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.modalBody },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("img", { src: tryNBuyImage, className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.tryNBuyImage }))));
};
var TryNBuyEligibleItems = function (_a) {
    var images = _a.images, name = _a.name;
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.eligibleProducts },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Image__WEBPACK_IMPORTED_MODULE_3__.default, { src: lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(images, '[0].secureSrc'), width: IMAGE_WIDTH, height: IMAGE_HEIGHT, showBackgroundColor: "true" }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.productName }, name)));
};
var ViewMoreModal = function (_a) {
    var totalItemsCount = _a.totalItemsCount, closeModal = _a.closeModal, tnbEligibleItems = _a.tnbEligibleItems;
    var tnbEligibleItemsCount = tnbEligibleItems.length;
    var message = tnbEligibleItemsCount === totalItemsCount
        ? 'All items are eligible for Try & Buy'
        : "".concat(tnbEligibleItemsCount, " of ").concat(totalItemsCount, " items in this order are eligible.");
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Modal__WEBPACK_IMPORTED_MODULE_5__.default, { cancelCallback: closeModal, halfCard: true, className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.viewItemsModal, cancelIconConfig: { show: false } },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.modalHeader }, "Try & Buy"),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.viewItemsMessage }, message),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.eligibleProductsContainer }, tnbEligibleItems.map(function (item) { return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(TryNBuyEligibleItems, __assign({}, item))); })),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_ButtonV2__WEBPACK_IMPORTED_MODULE_9__.default, { onClick: closeModal, classname: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.ctaOnViewItemsModal },
            ' ',
            "GOT IT",
            ' ')));
};
var TryAndBuy = /** @class */ (function (_super) {
    __extends(TryAndBuy, _super);
    function TryAndBuy(props) {
        var _this = _super.call(this, props) || this;
        _this.state = { showModal: false, modalType: '' };
        [
            'openHowItWorksModal',
            'closeModal',
            'toggleTryNBuy',
            'openViewItemsModal'
        ].forEach(function (method) { return (_this[method] = _this[method].bind(_this)); });
        return _this;
    }
    TryAndBuy.prototype.componentDidMount = function () {
        var pageSource = this.props.pageSource;
        triggerEvent('TRY_AND_BUY_WIDGET_LOAD', { pageSource: pageSource });
    };
    TryAndBuy.prototype.closeModal = function () {
        var pageSource = this.props.pageSource;
        triggerEvent(this.state.modalType === HOW_IT_WORKS
            ? 'HOW_IT_WORKS_HIDE'
            : 'VIEW_MORE_HIDE', { pageSource: pageSource });
        this.setState(function (prevState) { return ({
            showModal: !prevState.showModal,
            modalType: ''
        }); });
    };
    TryAndBuy.prototype.openHowItWorksModal = function () {
        var pageSource = this.props.pageSource;
        triggerEvent('HOW_IT_WORKS_CLICKED', { pageSource: pageSource });
        this.setState({ showModal: true, modalType: HOW_IT_WORKS });
    };
    TryAndBuy.prototype.openViewItemsModal = function () {
        var pageSource = this.props.pageSource;
        triggerEvent('VIEW_MORE_CLICKED', { pageSource: pageSource });
        this.setState({ showModal: true, modalType: VIEW_ITEMS });
    };
    TryAndBuy.prototype.toggleTryNBuy = function () {
        var _this = this;
        var data = [];
        var pageSource = this.props.pageSource;
        this.props.products.forEach(function (product) {
            lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(product, 'productServiceabilityInfo.tryNBuyAvailable') &&
                lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(product, 'productServiceabilityInfo.pincodeInfo.serviceable') &&
                data.push({
                    itemId: product.itemId,
                    tryAndBuyOpted: !_this.tryAndBuyOpted
                });
        });
        this.props.handleCartAction('applyTryNBuy', data);
        triggerEvent(this.tryAndBuyOpted ? 'TRY_AND_BUY_UNCHECKED' : 'TRY_AND_BUY_CHECKED', { pageSource: pageSource });
    };
    TryAndBuy.prototype.render = function () {
        var _a = this.props, remark = _a.tryNBuyApplicable.remark, isNewUser = _a.isNewUser, products = _a.products, headerClassName = _a.headerClassName, selectedShippingData = _a.selectedShippingData;
        var enabled = (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_6__.isFeatureEnabled)('TRY_AND_BUY') && remark !== 'UNSERVICEABLE';
        var tryNBuyImage = 'https://constant.myntassets.com/checkout/assets/img/how_it_works_screen_v2.png';
        var title = react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.title }, "Try & Buy not available");
        var tnbMessage = '';
        var _b = (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__.getTryAndBuyDetails)(products), tnbEligibleItems = _b.tnbEligibleItems, tnbEligibleTotalQuantity = _b.tnbEligibleTotalQuantity, count = _b.count;
        var tnbEligibleItemsCount = tnbEligibleItems.length;
        if (tnbEligibleItemsCount === products.length) {
            tnbMessage = 'All items are eligible for Try & Buy';
        }
        else {
            tnbMessage = "".concat(tnbEligibleTotalQuantity, " out of ").concat(count, " items in your order are eligible");
        }
        var checkBoxIcon = react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_ImageBanner__WEBPACK_IMPORTED_MODULE_4__.default, { name: "trynbuy-unavailable" });
        this.tryAndBuyOpted = (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_8__.getTryAndBuyOpted)(products);
        if (remark === 'NO_ISSUE') {
            checkBoxIcon = this.tryAndBuyOpted ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_CheckboxActive_jsx__WEBPACK_IMPORTED_MODULE_14__.default, { className: "".concat(_tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.checkboxIcon, " ").concat(_tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.selected), onClick: this.toggleTryNBuy })) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_CheckboxInactive_jsx__WEBPACK_IMPORTED_MODULE_15__.default, { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.checkboxIcon, onClick: this.toggleTryNBuy }));
            var tnbPrice = Number((0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_7__.getKVPairValue)('TNB_PRICE') || 0);
            if (isNewUser || !tnbPrice) {
                title = (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.title },
                    'Try & Buy for ',
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.freeTag }, "Free")));
            }
            else {
                title = (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.title },
                    'Try & Buy for ',
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_RupeeBold_jsx__WEBPACK_IMPORTED_MODULE_11__.default, { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.rupeeIcon }),
                    (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_7__.getKVPairValue)('TNB_PRICE')));
            }
        }
        var isCODAvailable = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(selectedShippingData, 'flags.cardOnDelivery.value') ||
            lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(selectedShippingData, 'flags.cashOnDelivery.value');
        return enabled ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.cardHeader, " ").concat(headerClassName) }, "ADDITIONAL SERVICE"),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.container },
                checkBoxIcon,
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.details },
                    title,
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(InfoBlock, { remark: remark, isNewUser: isNewUser, tnbMaxCount: parseInt((0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_7__.getKVPairValue)('TNB_MAX_COUNT')), tnbMinAmount: parseInt((0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_7__.getKVPairValue)('TNB_MIN_AMOUNT')), tnbMessage: tnbMessage, isCODAvailable: isCODAvailable, openViewItemsModal: this.openViewItemsModal }),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _tryAndBuy_base_css__WEBPACK_IMPORTED_MODULE_2__.default.how, onClick: this.openHowItWorksModal }, "How it works"),
                    this.state.showModal &&
                        (this.state.modalType === HOW_IT_WORKS ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(HowItWorksModal, { tryNBuyImage: tryNBuyImage, closeModal: this.closeModal })) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(ViewMoreModal, { closeModal: this.closeModal, tnbEligibleItems: tnbEligibleItems, totalItemsCount: products.length, count: count }))))))) : null;
    };
    return TryAndBuy;
}(react__WEBPACK_IMPORTED_MODULE_0__.default.Component));
TryAndBuy.propTypes = {
    tryNBuyApplicable: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().object),
    products: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().array),
    count: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().number),
    handleCartAction: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().func),
    pageSource: (prop_types__WEBPACK_IMPORTED_MODULE_16___default().string)
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TryAndBuy);


/***/ }),

/***/ "./browser/components/payment/desktop/PaymentRetryUI.js":
/*!**************************************************************!*\
  !*** ./browser/components/payment/desktop/PaymentRetryUI.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "../node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var commonComp_TabBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! commonComp/TabBar */ "./browser/components/common/TabBar/index.js");
/* harmony import */ var commonComp_BankOffers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! commonComp/BankOffers */ "./browser/components/common/BankOffers/index.js");
/* harmony import */ var commonComp_OffersV2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonComp/OffersV2 */ "./browser/components/common/OffersV2/index.js");
/* harmony import */ var commonComp_PriceBlock__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! commonComp/PriceBlock */ "./browser/components/common/PriceBlock/index.js");
/* harmony import */ var commonComp_Loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonComp/Loader */ "./browser/components/common/Loader/index.js");
/* harmony import */ var commonComp_ErrorPage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! commonComp/ErrorPage */ "./browser/components/common/ErrorPage/index.js");
/* harmony import */ var _common_PaymentOptions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/PaymentOptions */ "./browser/components/payment/common/PaymentOptions/index.js");
/* harmony import */ var _common_TwoFactorAuthentication__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/TwoFactorAuthentication */ "./browser/components/payment/common/TwoFactorAuthentication/index.js");
/* harmony import */ var _common_PaymentError__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/PaymentError */ "./browser/components/payment/common/PaymentError/index.js");
/* harmony import */ var _common_RetryTimer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/RetryTimer */ "./browser/components/payment/common/RetryTimer/index.js");
/* harmony import */ var _common_RetrySessionExpiryModal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../common/RetrySessionExpiryModal */ "./browser/components/payment/common/RetrySessionExpiryModal/index.js");
/* harmony import */ var _common_RetryBackConfirmationModal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/RetryBackConfirmationModal */ "./browser/components/payment/common/RetryBackConfirmationModal/index.js");
/* harmony import */ var commonBrowserUtils_WithStyles__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! commonBrowserUtils/WithStyles */ "./browser/utils/WithStyles/index.js");
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var commonBrowserUtils_PaymentHelper__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! commonBrowserUtils/PaymentHelper */ "./browser/utils/PaymentHelper/index.js");
/* harmony import */ var commonBrowserUtils_priceBreakupFields__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! commonBrowserUtils/priceBreakupFields */ "./browser/utils/priceBreakupFields.js");
/* harmony import */ var commonBrowserUtils_PaymentConstants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! commonBrowserUtils/PaymentConstants */ "./browser/utils/PaymentConstants.js");
/* harmony import */ var commonUtils_constants__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! commonUtils/constants */ "./utils/constants.js");
/* harmony import */ var commonUtils_constants__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(commonUtils_constants__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var commonBrowserUtils_transformPriceDetails__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! commonBrowserUtils/transformPriceDetails */ "./browser/utils/transformPriceDetails.js");
/* harmony import */ var commonBrowserUtils_DiscountUtil__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! commonBrowserUtils/DiscountUtil */ "./browser/utils/DiscountUtil/index.js");
/* harmony import */ var _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./paymentDesktop.base.css */ "./browser/components/payment/desktop/paymentDesktop.base.css");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_23__);
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};


// Common components.




















// Style Imports.


var PaymentRetryUI = function (props) {
    var paymentOptions = props.paymentOptions, _a = props.errorAttribute, errorAttribute = _a === void 0 ? {} : _a, bankDiscount = props.bankDiscount, loading = props.loading, error = props.error, errorOptionNode = props.errorOptionNode, referrer = props.referrer, analytics = props.analytics, offersConfig = props.offersConfig, twoFA = props.twoFA, backConfirmationModalShown = props.backConfirmationModalShown, retryGCapplied = props.retryGCapplied, retryTimerDisabled = props.retryTimerDisabled, creditsBalance = props.creditsBalance, retrySessionEnabled = props.retrySessionEnabled, disableRetrySession = props.disableRetrySession, enableRetryTimer = props.enableRetryTimer, disableRetryTimer = props.disableRetryTimer, stayHere = props.stayHere, tryLater = props.tryLater, setRef = props.setRef, switchTab = props.switchTab, triggerWebengageEvent = props.triggerWebengageEvent, setPaymentFailureAttributes = props.setPaymentFailureAttributes, closeTwoFA = props.closeTwoFA, handlePaymentAction = props.handlePaymentAction, handleTwoFASubmit = props.handleTwoFASubmit, disableTwoFA = props.disableTwoFA, showSaveCardConsent = props.showSaveCardConsent;
    if (paymentOptions) {
        var paymentErrorCode = errorAttribute.paymentErrorCode, paymentErrorCodeOverride = errorAttribute.paymentErrorCodeOverride, cartContext = errorAttribute.cartContext, updateCounter = errorAttribute.updateCounter;
        var _b = paymentOptions.price, price = _b === void 0 ? {} : _b;
        var retryGCappliedValue = retryGCapplied
            ? (0,commonBrowserUtils_PaymentHelper__WEBPACK_IMPORTED_MODULE_16__.getRetryGCappliedValue)(lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(creditsBalance, 'gcBalance.totalBalance'), price.total)
            : 0;
        var creditsAdjustedOutstandingAmount = retryGCapplied
            ? price.total - retryGCappliedValue
            : price.total;
        var formattedFinalOutstanding = (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_15__.currencyValue)(creditsAdjustedOutstandingAmount);
        var priceWithGCAndBankDiscount = __assign(__assign({}, price), { instruments: {
                data: (0,commonBrowserUtils_PaymentHelper__WEBPACK_IMPORTED_MODULE_16__.consolidatePriceInstruments)(lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(price, 'instruments.data', []), {
                    giftcard: retryGCappliedValue,
                    bank: bankDiscount
                })
            } });
        var total = (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_15__.roundNumber)((0,commonBrowserUtils_transformPriceDetails__WEBPACK_IMPORTED_MODULE_20__.getTotal)(commonBrowserUtils_DiscountUtil__WEBPACK_IMPORTED_MODULE_21__.default.getPrice(priceWithGCAndBankDiscount), (0,commonBrowserUtils_priceBreakupFields__WEBPACK_IMPORTED_MODULE_17__.getPaymentFields)()), 0);
        var PaymentModes = (0,commonBrowserUtils_WithStyles__WEBPACK_IMPORTED_MODULE_14__.default)(_paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_22__.default)(_common_PaymentOptions__WEBPACK_IMPORTED_MODULE_8__.default, __assign({ defaultSelect: true, mode: 'desktop', LayoutClass: commonComp_TabBar__WEBPACK_IMPORTED_MODULE_2__.default, setRef: setRef, switchTab: switchTab, bankDiscount: bankDiscount, triggerWebengageEvent: triggerWebengageEvent, setPaymentFailureAttributes: setPaymentFailureAttributes, retryGCappliedValue: retryGCappliedValue, totalPayable: total, outstandingAmount: formattedFinalOutstanding }, props));
        return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Loader__WEBPACK_IMPORTED_MODULE_6__.default, { show: loading, backdrop: true }),
            referrer !== commonUtils_constants__WEBPACK_IMPORTED_MODULE_19__.orderStates.PENDING && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_RetryTimer__WEBPACK_IMPORTED_MODULE_11__.default, { mode: "desktop", sessionEnabled: retrySessionEnabled, stopTimer: disableRetrySession, disabled: retryTimerDisabled })),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_22__.default.paymentLayout },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_22__.default.left },
                    paymentErrorCode && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_22__.default.paymentErrorBlock },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { ref: errorOptionNode },
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_PaymentError__WEBPACK_IMPORTED_MODULE_10__.default, __assign({ id: commonBrowserUtils_PaymentConstants__WEBPACK_IMPORTED_MODULE_18__.default.PAYMENT_ERROR_OPTIONS_ID, errorAttributes: {
                                    code: paymentErrorCode,
                                    codeDisplayOverride: paymentErrorCodeOverride,
                                    cartContext: cartContext,
                                    updateCounter: updateCounter
                                }, analytics: analytics, mode: "desktop", showPaymentFailureHalfCard: false }, props))))),
                    offersConfig.enabled ? ((0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_23__.isFeatureEnabled)('VISUAL_OFFER') ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_BankOffers__WEBPACK_IMPORTED_MODULE_3__.default, { messages: offersConfig.messages, currentPage: commonUtils_constants__WEBPACK_IMPORTED_MODULE_19__.checkoutPage.PAYMENT, total: total, mode: "desktop", titleInCaptital: false, bankOfferTitleStyle: _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_22__.default.bankOfferTitle })) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_OffersV2__WEBPACK_IMPORTED_MODULE_4__.default, { title: offersConfig.heading, messages: offersConfig.messages, defaultMessageCount: 1, enabled: offersConfig.messages.length > 0 }))) : null,
                    PaymentModes,
                    twoFA.display ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_TwoFactorAuthentication__WEBPACK_IMPORTED_MODULE_9__.default, { showSaveCardConsent: showSaveCardConsent, email: twoFA.enableEmailOtp ? (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_15__.getProfileEmail)() : '', numbers: twoFA.mobileNumbers, paymentModes: twoFA.paymentModes, payMode: "retry", close: closeTwoFA, handlePaymentAction: handlePaymentAction, submit: handleTwoFASubmit, errorCallback: disableTwoFA, enableRetryTimer: enableRetryTimer, disableRetryTimer: disableRetryTimer, mode: "desktop" })) : null),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_22__.default.right },
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_PriceBlock__WEBPACK_IMPORTED_MODULE_5__.default, { payMode: "retry", price: priceWithGCAndBankDiscount, getFields: commonBrowserUtils_priceBreakupFields__WEBPACK_IMPORTED_MODULE_17__.getPaymentFields, total: total }),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_RetrySessionExpiryModal__WEBPACK_IMPORTED_MODULE_12__.default, { show: !retrySessionEnabled, mode: "desktop" }),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_RetryBackConfirmationModal__WEBPACK_IMPORTED_MODULE_13__.default, { mode: "desktop", show: backConfirmationModalShown, stayHere: stayHere, tryLater: tryLater })))));
    }
    else if (error) {
        return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_ErrorPage__WEBPACK_IMPORTED_MODULE_7__.default, { message: 'Something went wrong. Please reload', reload: true }));
    }
    else {
        return react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Loader__WEBPACK_IMPORTED_MODULE_6__.default, { show: loading, backdrop: true });
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentRetryUI);


/***/ }),

/***/ "./browser/components/payment/desktop/PaymentUI.js":
/*!*********************************************************!*\
  !*** ./browser/components/payment/desktop/PaymentUI.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "../node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/isEmpty */ "../node_modules/lodash/isEmpty.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var commonComp_TabBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! commonComp/TabBar */ "./browser/components/common/TabBar/index.js");
/* harmony import */ var commonComp_BankOffers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonComp/BankOffers */ "./browser/components/common/BankOffers/index.js");
/* harmony import */ var commonComp_OffersV2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! commonComp/OffersV2 */ "./browser/components/common/OffersV2/index.js");
/* harmony import */ var commonComp_PriceBlock__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonComp/PriceBlock */ "./browser/components/common/PriceBlock/index.js");
/* harmony import */ var commonComp_Loader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! commonComp/Loader */ "./browser/components/common/Loader/index.js");
/* harmony import */ var commonComp_ErrorPage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! commonComp/ErrorPage */ "./browser/components/common/ErrorPage/index.js");
/* harmony import */ var commonComp_SaleTimer_Desktop__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! commonComp/SaleTimer/Desktop */ "./browser/components/common/SaleTimer/Desktop/index.js");
/* harmony import */ var commonComp_SavingsFomo__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! commonComp/SavingsFomo */ "./browser/components/common/SavingsFomo/index.js");
/* harmony import */ var commonUtils_constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! commonUtils/constants */ "./utils/constants.js");
/* harmony import */ var commonUtils_constants__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(commonUtils_constants__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var commonComp_ShimmerPlaceholder__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! commonComp/ShimmerPlaceholder */ "./browser/components/common/ShimmerPlaceholder/index.js");
/* harmony import */ var _common_PaymentOptions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/PaymentOptions */ "./browser/components/payment/common/PaymentOptions/index.js");
/* harmony import */ var _common_TwoFactorAuthentication__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../common/TwoFactorAuthentication */ "./browser/components/payment/common/TwoFactorAuthentication/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! commonUtils/KVPairManager */ "./utils/KVPairManager/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var commonBrowserUtils_WithStyles__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! commonBrowserUtils/WithStyles */ "./browser/utils/WithStyles/index.js");
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var commonBrowserUtils_priceBreakupFields__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! commonBrowserUtils/priceBreakupFields */ "./browser/utils/priceBreakupFields.js");
/* harmony import */ var commonBrowserUtils_PaymentConstants__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! commonBrowserUtils/PaymentConstants */ "./browser/utils/PaymentConstants.js");
/* harmony import */ var commonBrowserUtils_transformPriceDetails__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! commonBrowserUtils/transformPriceDetails */ "./browser/utils/transformPriceDetails.js");
/* harmony import */ var commonBrowserUtils_DiscountUtil__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! commonBrowserUtils/DiscountUtil */ "./browser/utils/DiscountUtil/index.js");
/* harmony import */ var _common_PaymentError__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../common/PaymentError */ "./browser/components/payment/common/PaymentError/index.js");
/* harmony import */ var _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./paymentDesktop.base.css */ "./browser/components/payment/desktop/paymentDesktop.base.css");
/* harmony import */ var _common_OrderReview__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../common/OrderReview */ "./browser/components/payment/common/OrderReview/index.js");
/* harmony import */ var _cart_common_AddressStrip__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../cart/common/AddressStrip */ "./browser/components/cart/common/AddressStrip/index.js");
/* harmony import */ var commonBrowserUtils_DataStore__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! commonBrowserUtils/DataStore */ "./browser/utils/DataStore/index.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};



// Common components.





















// Style Imports.




var PaymentUI = function (props) {
    var _a;
    var error = props.error, cartData = props.cartData, paymentOptions = props.paymentOptions, loading = props.loading, handlePaymentAction = props.handlePaymentAction, _b = props.twoFA, twoFA = _b === void 0 ? {} : _b, disableTwoFA = props.disableTwoFA, handleTwoFASubmit = props.handleTwoFASubmit, bankDiscount = props.bankDiscount, analytics = props.analytics, setPaymentFailureAttributes = props.setPaymentFailureAttributes, _c = props.errorAttribute, errorAttribute = _c === void 0 ? {} : _c, errorOptionNode = props.errorOptionNode, setRef = props.setRef, switchTab = props.switchTab, closeTwoFA = props.closeTwoFA, triggerWebengageEvent = props.triggerWebengageEvent, paymentFailureHalfCardContext = props.paymentFailureHalfCardContext, kvpairs = props.kvpairs, paymentFailureHalfCardConfig = props.paymentFailureHalfCardConfig, offersConfig = props.offersConfig, showSaveCardConsent = props.showSaveCardConsent, myntraInstrumentsData = props.myntraInstrumentsData;
    var paymentErrorCode = errorAttribute.paymentErrorCode, paymentErrorCodeOverride = errorAttribute.paymentErrorCodeOverride, cartContext = errorAttribute.cartContext, updateCounter = errorAttribute.updateCounter;
    var paymentErrorCodeConfig = (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_16__.getKVPairValue)('PAYMENT_ERROR');
    if (cartData && !error) {
        var flags = cartData.flags, price = cartData.price, shippingData = cartData.shippingData, coverFeeOpted = cartData.coverFeeOpted, coverFeeApplicableCharge = cartData.coverFeeApplicableCharge, products = cartData.products, userDetails = cartData.userDetails, orderAddressId = cartData.orderAddressId, unifiedAddressId = cartData.unifiedAddressId;
        var paymentConfig = props.paymentConfig;
        var instrumentData = (paymentConfig || {}).instrumentData;
        var addressData = props.addressData;
        var selectedProducts = (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_18__.getSelectedProducts)(products);
        var count = (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_18__.getSelectedProductsCount)(selectedProducts);
        var outstandingAmount = (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_18__.currencyValue)(lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(cartData, 'price.total', 0));
        var priceWithBankDiscount = __assign(__assign({}, price), { instruments: {
                data: __spreadArray(__spreadArray([], price.instruments.data, true), [{ name: 'bank', value: bankDiscount }], false)
            } });
        var total = (0,commonBrowserUtils_transformPriceDetails__WEBPACK_IMPORTED_MODULE_21__.getTotal)(commonBrowserUtils_DiscountUtil__WEBPACK_IMPORTED_MODULE_22__.default.getPrice(priceWithBankDiscount), (0,commonBrowserUtils_priceBreakupFields__WEBPACK_IMPORTED_MODULE_19__.getPaymentFields)());
        var showPaymentFailureHalfCard = false;
        var codEligible = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(instrumentData, "".concat(commonBrowserUtils_PaymentConstants__WEBPACK_IMPORTED_MODULE_20__.default.COD, ".code")) ===
            commonBrowserUtils_PaymentConstants__WEBPACK_IMPORTED_MODULE_20__.default.INSTRUMENT_ELIGIBLE_CODE;
        if (paymentFailureHalfCardContext === 'dope_consent' &&
            paymentErrorCode &&
            codEligible &&
            lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(paymentErrorCodeConfig[paymentErrorCode], 'dopeUserConsentEnabled') !== false
        // check if need to put a condition for online failure only
        ) {
            showPaymentFailureHalfCard = true;
        }
        var PaymentModes = paymentOptions
            ? (0,commonBrowserUtils_WithStyles__WEBPACK_IMPORTED_MODULE_17__.default)(_paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_24__.default)(_common_PaymentOptions__WEBPACK_IMPORTED_MODULE_13__.default, __assign({ defaultSelect: true, mode: 'desktop', LayoutClass: commonComp_TabBar__WEBPACK_IMPORTED_MODULE_3__.default, setRef: setRef, switchTab: switchTab, bankDiscount: bankDiscount, triggerWebengageEvent: triggerWebengageEvent, setPaymentFailureAttributes: setPaymentFailureAttributes, totalPayable: total, outstandingAmount: outstandingAmount, orderAddressId: orderAddressId, showPaymentFailureHalfCard: showPaymentFailureHalfCard }, props))
            : null;
        var address_1 = (0,commonBrowserUtils_DataStore__WEBPACK_IMPORTED_MODULE_27__.getAddressData)();
        addressData = addressData
            ? addressData
            : (_a = address_1 === null || address_1 === void 0 ? void 0 : address_1.addressData) === null || _a === void 0 ? void 0 : _a.filter(function (add) { return add.id === address_1.selectedAddressId; })[0];
        var isPaymentOptionsLoading = !paymentOptions;
        return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Loader__WEBPACK_IMPORTED_MODULE_7__.default, { show: loading, backdrop: true }),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_SaleTimer_Desktop__WEBPACK_IMPORTED_MODULE_9__.default, { saleBannerData: kvpairs.saleBanner, priceRevealData: kvpairs.priceReveal, enabled: (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_15__.isFeatureEnabled)('SALE_TIMER', { type: 'payment' }) }),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_24__.default.paymentLayout },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_24__.default.left },
                    !isPaymentOptionsLoading &&
                        paymentErrorCode &&
                        !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2___default()(myntraInstrumentsData) && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_24__.default.paymentErrorBlock },
                        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { ref: errorOptionNode },
                            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_PaymentError__WEBPACK_IMPORTED_MODULE_23__.default, __assign({ id: commonBrowserUtils_PaymentConstants__WEBPACK_IMPORTED_MODULE_20__.default.PAYMENT_ERROR_OPTIONS_ID, errorAttributes: {
                                    code: paymentErrorCode,
                                    codeDisplayOverride: paymentErrorCodeOverride,
                                    cartContext: cartContext,
                                    updateCounter: updateCounter
                                }, analytics: analytics, mode: "desktop", showPaymentFailureHalfCard: showPaymentFailureHalfCard, halfCardConfig: paymentFailureHalfCardConfig, instrumentDataMap: instrumentData || [], outstandingAmount: outstandingAmount, switchTab: switchTab, totalPayable: total }, props))))),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
                        (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_15__.isFeatureEnabled)('ORDER_REVIEW') &&
                            addressData &&
                            lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(cartData, 'context', '') == 'DEFAULT' && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_cart_common_AddressStrip__WEBPACK_IMPORTED_MODULE_26__.default, { addressInfo: addressData, pincode: lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(addressData, 'pincode', ''), mode: "desktop", isPaymentPage: true })),
                        offersConfig.enabled ? ((0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_15__.isFeatureEnabled)('VISUAL_OFFER') ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_BankOffers__WEBPACK_IMPORTED_MODULE_4__.default, { messages: offersConfig.messages, currentPage: commonUtils_constants__WEBPACK_IMPORTED_MODULE_11__.checkoutPage.PAYMENT, total: total, mode: "desktop", titleInCaptital: false, bankOfferTitleStyle: _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_24__.default.bankOfferTitle })) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_OffersV2__WEBPACK_IMPORTED_MODULE_5__.default, { title: offersConfig.heading, messages: offersConfig.messages, defaultMessageCount: 1, enabled: offersConfig.messages.length > 0 }))) : null,
                        (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_15__.isFeatureEnabled)('ORDER_REVIEW') &&
                            addressData &&
                            lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(cartData, 'context', '') == 'DEFAULT' && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_OrderReview__WEBPACK_IMPORTED_MODULE_25__.default, { cartData: cartData, mode: "desktop" }))),
                    isPaymentOptionsLoading && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_ShimmerPlaceholder__WEBPACK_IMPORTED_MODULE_12__.default, { type: "payment", mode: "desktop", container: "left" })),
                    PaymentModes,
                    twoFA.display ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_common_TwoFactorAuthentication__WEBPACK_IMPORTED_MODULE_14__.default, { showSaveCardConsent: showSaveCardConsent, email: twoFA.enableEmailOtp ? (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_18__.getProfileEmail)() : '', numbers: twoFA.mobileNumbers, paymentModes: twoFA.paymentModes, orderAddressId: orderAddressId, unifiedAddressId: unifiedAddressId, close: closeTwoFA, handlePaymentAction: handlePaymentAction, submit: handleTwoFASubmit, errorCallback: disableTwoFA, mode: "desktop" })) : null,
                    !isPaymentOptionsLoading && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_SavingsFomo__WEBPACK_IMPORTED_MODULE_10__.default, { price: price, products: selectedProducts, currentPage: commonUtils_constants__WEBPACK_IMPORTED_MODULE_11__.checkoutPage.PAYMENT }))),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _paymentDesktop_base_css__WEBPACK_IMPORTED_MODULE_24__.default.right },
                    isPaymentOptionsLoading && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_ShimmerPlaceholder__WEBPACK_IMPORTED_MODULE_12__.default, { type: "payment", mode: "desktop", container: "right" })),
                    !isPaymentOptionsLoading && (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_PriceBlock__WEBPACK_IMPORTED_MODULE_6__.default, { price: priceWithBankDiscount, count: count, flags: flags, getFields: commonBrowserUtils_priceBreakupFields__WEBPACK_IMPORTED_MODULE_19__.getPaymentFields, shippingData: shippingData, coverFeeOpted: coverFeeOpted, coverFeeApplicableCharge: coverFeeApplicableCharge, tryAndBuyOpted: (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_18__.getTryAndBuyOpted)(products), total: total, userDetails: userDetails }))))));
    }
    else if (error) {
        return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_ErrorPage__WEBPACK_IMPORTED_MODULE_8__.default, { message: 'Something went wrong. Please reload', reload: true }));
    }
    else {
        return react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Loader__WEBPACK_IMPORTED_MODULE_7__.default, { show: loading, backdrop: true });
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_0__.default.memo(PaymentUI));


/***/ }),

/***/ "./browser/components/payment/desktop/index.js":
/*!*****************************************************!*\
  !*** ./browser/components/payment/desktop/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ "../node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "../node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _PaymentRetryUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PaymentRetryUI */ "./browser/components/payment/desktop/PaymentRetryUI.js");
/* harmony import */ var _PaymentUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PaymentUI */ "./browser/components/payment/desktop/PaymentUI.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonUtils/KVPairManager */ "./utils/KVPairManager/index.js");
/* harmony import */ var commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var commonBrowserUtils_PaymentConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonBrowserUtils/PaymentConstants */ "./browser/utils/PaymentConstants.js");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};








var Payment = /** @class */ (function (_super) {
    __extends(Payment, _super);
    function Payment(props) {
        var _this = _super.call(this, props) || this;
        _this.state = {
            myntraInstrumentsData: {}
        };
        _this.errorOptionNode = react__WEBPACK_IMPORTED_MODULE_0__.default.createRef();
        _this.setRef = _this.setRef.bind(_this);
        _this.switchTab = _this.switchTab.bind(_this);
        _this.onClickEligibility = _this.onClickEligibility.bind(_this);
        _this.closeTwoFA = _this.closeTwoFA.bind(_this);
        _this.triggerWebengageEvent = _this.triggerWebengageEvent.bind(_this);
        _this.addMyntraInstrumentsData = _this.addMyntraInstrumentsData.bind(_this);
        _this.paymentFailureHalfCardContext = (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__.isFeatureEnabled)('DOPE_USER_CONSENT')
            ? 'dope_consent'
            : '';
        if (_this.paymentFailureHalfCardContext === 'dope_consent') {
            _this.paymentFailureHalfCardConfig = (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_4__.getKVPairValue)('DOPE_CONSENT_HALFCARD_CONFIG');
        }
        _this.kvpairs = {
            saleBanner: (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_4__.getKVPairValue)('SALE_BANNER_DATA'),
            priceReveal: (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_4__.getKVPairValue)('PRICE_REVEAL_DATA'),
            configMessage: (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_4__.getKVPairValue)('PAYMENT_OFFER_MESSAGES'),
            inlineOffer: (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_5__.isFeatureEnabled)('INLINE_OFFER')
                ? (0,commonUtils_KVPairManager__WEBPACK_IMPORTED_MODULE_4__.getKVPairValue)('INLINE_OFFERS')
                : {}
        };
        _this.offersConfig = _this.kvpairs.configMessage || {
            messages: []
        };
        _this.inlineOffer = _this.kvpairs.inlineOffer || {};
        _this.offersConfig.messages.forEach(function (message) {
            message.icb &&
                (message.link = {
                    text: message.btnText,
                    onClick: _this.onClickEligibility
                });
        });
        return _this;
    }
    Payment.prototype.componentDidMount = function () {
        SHELL.setActivePage('PAYMENT', {
            hideStepNumber: this.props.isExchangeCart
        });
    };
    Payment.prototype.componentDidUpdate = function () {
        SHELL.setActivePage('PAYMENT', {
            hideStepNumber: this.props.isExchangeCart
        });
    };
    Payment.prototype.addMyntraInstrumentsData = function (data) {
        this.setState({
            myntraInstrumentsData: __assign(__assign({}, this.state.myntraInstrumentsData), data)
        });
    };
    Payment.prototype.setRef = function (node) {
        this.tabBar = node;
    };
    Payment.prototype.switchTab = function (tabId) {
        if (tabId === void 0) { tabId = ''; }
        this.tabBar && this.tabBar.switchTab(null, tabId);
    };
    Payment.prototype.onClickEligibility = function () {
        this.switchTab(commonBrowserUtils_PaymentConstants__WEBPACK_IMPORTED_MODULE_6__.default.CARD_TYPE);
        lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(this, 'tabBar.base.scrollIntoView') &&
            this.tabBar.base.scrollIntoView({ behavior: 'smooth' });
    };
    Payment.prototype.closeTwoFA = function () {
        this.props.toggleTwoFA();
        this.tabBar && this.tabBar.selectDefaultTab();
    };
    Payment.prototype.getPaymentAttributes = function () {
        var paymentModeSelected = '';
        if (this.tabBar) {
            paymentModeSelected = this.tabBar.getSelected();
        }
        else if (this.state.myntraInstrumentsData) {
            paymentModeSelected = commonBrowserUtils_PaymentConstants__WEBPACK_IMPORTED_MODULE_6__.default.FREE_PURCHASE;
        }
        var paymentModeAction = document.getElementById("action-".concat(paymentModeSelected || 'savedcard'));
        return { paymentModeSelected: paymentModeSelected, paymentModeAction: paymentModeAction };
    };
    Payment.prototype.triggerWebengageEvent = function (data) {
        var _a = this.getPaymentAttributes(), paymentModeSelected = _a.paymentModeSelected, paymentModeAction = _a.paymentModeAction;
        this.props.analytics('triggerWebengage')('PAYMENT_VIEWED', __assign(__assign({}, data), { state_of_pay_now_cta: lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(paymentModeAction, 'attributes.disabled')
                ? 'inactive'
                : 'active', paymentMode: paymentModeSelected || '' }));
    };
    Payment.prototype.render = function () {
        var _a = this, errorOptionNode = _a.errorOptionNode, setRef = _a.setRef, switchTab = _a.switchTab, closeTwoFA = _a.closeTwoFA, triggerWebengageEvent = _a.triggerWebengageEvent, paymentFailureHalfCardContext = _a.paymentFailureHalfCardContext, paymentFailureHalfCardConfig = _a.paymentFailureHalfCardConfig, kvpairs = _a.kvpairs, offersConfig = _a.offersConfig, inlineOffer = _a.inlineOffer, addMyntraInstrumentsData = _a.addMyntraInstrumentsData;
        if (this.props.payMode === 'retry') {
            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_PaymentRetryUI__WEBPACK_IMPORTED_MODULE_2__.default, __assign({}, this.props, this.state, { addMyntraInstrumentsData: addMyntraInstrumentsData, errorOptionNode: errorOptionNode, setRef: setRef, switchTab: switchTab, closeTwoFA: closeTwoFA, triggerWebengageEvent: triggerWebengageEvent, offersConfig: offersConfig, inlineOffer: inlineOffer })));
        }
        else {
            return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_PaymentUI__WEBPACK_IMPORTED_MODULE_3__.default, __assign({}, this.props, this.state, { addMyntraInstrumentsData: addMyntraInstrumentsData, errorOptionNode: errorOptionNode, setRef: setRef, switchTab: switchTab, closeTwoFA: closeTwoFA, triggerWebengageEvent: triggerWebengageEvent, paymentFailureHalfCardContext: paymentFailureHalfCardContext, paymentFailureHalfCardConfig: paymentFailureHalfCardConfig, kvpairs: kvpairs, offersConfig: offersConfig, inlineOffer: inlineOffer })));
        }
    };
    return Payment;
}(react__WEBPACK_IMPORTED_MODULE_0__.default.PureComponent));
Payment.propTypes = {
    cartData: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().object),
    error: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().object),
    paymentOptions: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().object),
    loading: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool),
    bankDiscount: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().number)
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Payment);


/***/ }),

/***/ "./browser/utils/CreditsManager.js":
/*!*****************************************!*\
  !*** ./browser/utils/CreditsManager.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var commonUtils_RequestManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! commonUtils/RequestManager */ "./utils/RequestManager.js");
/* harmony import */ var commonUtils_requestConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! commonUtils/requestConfig */ "./utils/requestConfig.js");
/* harmony import */ var commonUtils_requestConfig__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(commonUtils_requestConfig__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var commonBrowserUtils_CartHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! commonBrowserUtils/CartHelper */ "./browser/utils/CartHelper/index.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/get */ "../node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var commonUtils_helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonUtils/helper */ "./utils/helper/index.js");
/* harmony import */ var commonUtils_helper__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(commonUtils_helper__WEBPACK_IMPORTED_MODULE_4__);
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};





var config = __webpack_require__(/*! ../../config */ "./config/index.js");
var handleRequest = function (method, path, data, successCallback, errorCallback) {
    var clientUrl = config('cart').clientUrl;
    //For express checkout
    var pagesource = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(data, 'pagesource', 'cart');
    var payload = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(data, 'data', null);
    var headers = __assign(__assign({}, (0,commonUtils_requestConfig__WEBPACK_IMPORTED_MODULE_1__.getConfig)().headers), { pagesource: pagesource });
    commonUtils_RequestManager__WEBPACK_IMPORTED_MODULE_0__.default.handle({
        method: method,
        url: "".concat(clientUrl).concat((0,commonBrowserUtils_CartHelper__WEBPACK_IMPORTED_MODULE_2__.getCartContext)()).concat(path),
        data: payload,
        headers: headers
    }, successCallback, errorCallback);
};
var CreditsManager = (function () {
    return {
        applyGiftCard: function (data, successCallback, errorCallback) {
            var unselected = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(data, 'pagesource') === 'cart';
            handleRequest('put', "/giftcard/apply?unselected=".concat(unselected), data, successCallback, errorCallback);
        },
        removeGiftCard: function (data, successCallback, errorCallback) {
            var unselected = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(data, 'pagesource') === 'cart';
            handleRequest('put', "/giftcard/remove?unselected=".concat(unselected), data, successCallback, errorCallback);
        },
        applyLoyaltyPoints: function (data, successCallback, errorCallback) {
            var unselected = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(data, 'pagesource') === 'cart';
            handleRequest('put', "/loyaltypoints/apply?unselected=".concat(unselected), data, successCallback, errorCallback);
        },
        removeLoyaltyPoints: function (data, successCallback, errorCallback) {
            var unselected = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(data, 'pagesource') === 'cart';
            handleRequest('put', "/loyaltypoints/remove?unselected=".concat(unselected), data, successCallback, errorCallback);
        },
        redeemSuperCoins: function (data, successCallback, errorCallback) {
            var clientUrl = config('supercoinsCreditBalance').clientUrl;
            var payload = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(data, 'data', null);
            commonUtils_RequestManager__WEBPACK_IMPORTED_MODULE_0__.default.handle({
                method: 'post',
                url: "".concat(clientUrl, "/redeemCoins"),
                data: payload,
                headers: {
                    clientid: 'cart'
                }
            }, successCallback, errorCallback);
        },
        getGiftCardBalance: function (data, successCallback, errorCallback) {
            var clientUrl = config('profile').clientUrl;
            var payload = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(data, 'data', null);
            commonUtils_RequestManager__WEBPACK_IMPORTED_MODULE_0__.default.handle({
                method: 'get',
                url: "".concat(clientUrl, "/getMyntraCreditBalance"),
                data: payload,
                headers: (0,commonUtils_requestConfig__WEBPACK_IMPORTED_MODULE_1__.getConfig)().headers
            }, successCallback, errorCallback);
        },
        getLoyaltyPointsBalance: function (data, successCallback, errorCallback) {
            var clientUrl = config('user').clientUrl;
            var payload = lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(data, 'data', null);
            commonUtils_RequestManager__WEBPACK_IMPORTED_MODULE_0__.default.handle({
                method: 'get',
                url: "".concat(clientUrl, "loyaltypoints/balance"),
                data: payload
            }, successCallback, errorCallback);
        },
        getSupercoinsBalance: function (data, successCallback, errorCallback) {
            var clientUrl = config('supercoinsCreditBalance').clientUrl;
            commonUtils_RequestManager__WEBPACK_IMPORTED_MODULE_0__.default.handle({
                method: 'get',
                url: (0,commonUtils_helper__WEBPACK_IMPORTED_MODULE_4__.getURLWithQueryParams)("".concat(clientUrl, "/redeemableCoins"), data),
                headers: {
                    clientid: 'cart'
                }
            }, successCallback, errorCallback);
        }
    };
})();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreditsManager);


/***/ }),

/***/ "./utils/loadComponent.js":
/*!********************************!*\
  !*** ./utils/loadComponent.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var commonComp_Loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! commonComp/Loader */ "./browser/components/common/Loader/index.js");
/* harmony import */ var commonComp_Loadable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! commonComp/Loadable */ "./browser/components/common/Loadable/index.js");
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonBrowserUtils/Strings */ "./browser/utils/Strings.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};





function loadComponent(_a) {
    var loader = _a.loader, loading = _a.loading, errorCallback = _a.errorCallback, _b = _a.loaderProperties, loaderProperties = _b === void 0 ? {} : _b;
    var _c = loaderProperties.show, show = _c === void 0 ? false : _c, _d = loaderProperties.backdrop, backdrop = _d === void 0 ? false : _d;
    return (0,commonComp_Loadable__WEBPACK_IMPORTED_MODULE_2__.default)({
        loader: loader,
        loading: loading ||
            (function (props) {
                if (props === void 0) { props = {}; }
                return react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Loader__WEBPACK_IMPORTED_MODULE_1__.default, __assign({ show: show, backdrop: backdrop }, props));
            }),
        errorCallback: errorCallback ||
            (function () { return (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_3__.errorNotification)({ message: commonBrowserUtils_Strings__WEBPACK_IMPORTED_MODULE_4__.default.BUNDLE_LOAD_ERROR }); })
    });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (loadComponent);


/***/ })

}]);
//# sourceMappingURL=apd.js.map