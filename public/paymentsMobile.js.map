{"version":3,"sources":["webpack:///./browser/components/common/ErrorPage/index.js","webpack:///./browser/components/common/OtpScanner/contextConfig.js","webpack:///./browser/components/common/OtpScanner/index.js","webpack:///./browser/components/common/OtpScanner/otpScannerComponents.js","webpack:///./browser/components/payment/common/OtpPage/index.js","webpack:///./browser/components/payment/common/PaymentOTPContainer/index.js","webpack:///./browser/components/payment/common/PaymentOTPContainer/paymentOTPComponents.js","webpack:///./browser/components/payment/common/PaymentPage/PaymentPage.js","webpack:///./browser/components/payment/common/PaymentPage/index.js","webpack:///./browser/components/payment/common/Timer/index.js","webpack:///./browser/components/payment/mobile/PaymentOTP/index.js","webpack:///./browser/components/payment/mobile/PaymentRetryUI.js","webpack:///./browser/components/payment/mobile/PaymentUI.js","webpack:///./browser/components/payment/mobile/index.js","webpack:///./browser/utils/WithStyles/index.js","webpack:///./browser/utils/maHelper.js"],"names":[],"mappings":"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","file":"paymentsMobile.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageBanner from 'commonComp/ImageBanner';\n\nimport Styles from './errorPage.base.css';\n\nconst onReload = () => window.location.reload();\n\nconst ErrorPage = ({ message, reload = false }) => (\n  <div data-testid=\"errorpage\" className={Styles.mainContainer}>\n    <div className={Styles.subContainer}>\n      <ImageBanner name=\"error\" />\n      <div className={Styles.errorText}>{message}</div>\n      {reload && (\n        <div className={Styles.reload} onClick={onReload}>\n          Reload\n        </div>\n      )}\n    </div>\n  </div>\n);\n\nErrorPage.defaultProps = {\n  message: 'Something went wrong! Please reload.',\n  reload: false\n};\n\nErrorPage.propTypes = {\n  message: PropTypes.string,\n  reload: PropTypes.bool\n};\n\nexport default ErrorPage;\n","const getContextConfig = ({ mobileNumber = '' }) => ({\n  bnpl: {\n    desc: `Flipkart has sent you an OTP on your registered mobile number${\n      mobileNumber ? ` +91-${mobileNumber}` : ''\n    }`,\n    partnerText: '',\n    otpImage: true,\n    otpInputMaxLength: 6,\n    buttonText: 'CONFIRM'\n  },\n  paymentOTP: {\n    desc: 'Your bank has sent you an OTP on your registered mobile number',\n    partnerText:\n      'We have partnered with payment partners to provide you fast and secure OTP experience.',\n    otpImage: false,\n    otpInputMaxLength: 10,\n    buttonText: 'PAY NOW'\n  }\n});\n\nexport default getContextConfig;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pick from 'lodash/pick';\n\nimport { AmountPayable, ScanContainer } from './otpScannerComponents';\nimport getContextConfig from './contextConfig';\n\nimport { errorNotification } from 'commonBrowserUtils/Helper';\n\nconst boundFns = [\n  'setOtpValue',\n  'stopTimer',\n  'setInputRef',\n  'onResendClick',\n  'onResendSuccess',\n  'onResendError',\n  'submitWithOTP'\n];\n\nclass OTPScanner extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      otpValue: '',\n      timer: true,\n      resendDisabled: true,\n      resendAttempts: -1,\n      payEnabled: false\n    };\n\n    boundFns.forEach(method => (this[method] = this[method].bind(this)));\n    this.contextConfig = getContextConfig(props)[props.context];\n  }\n\n  componentDidMount() {\n    this.otpField = document.getElementById('otpField');\n    if (this.otpField) {\n      this.otpField.addEventListener('keydown', e => {\n        const code = e.keyCode || e.charCode;\n        const char = String.fromCharCode(code);\n        if (!/^\\d+$/.test(char) && code !== 8) {\n          // 8 is for backspace\n          e.preventDefault();\n        }\n      });\n\n      this.otpField.focus && this.otpField.focus();\n    }\n  }\n\n  setOtpValue(e) {\n    const otpValue = e.currentTarget.value || '';\n\n    this.setState({\n      otpValue,\n      payEnabled: otpValue.length >= 4\n    });\n  }\n\n  stopTimer() {\n    this.setState({\n      timer: false,\n      resendDisabled: false\n    });\n  }\n\n  setInputRef(node) {\n    this.inputField = node;\n  }\n\n  onResendClick() {\n    this.props.setLoader(true);\n    this.props.resendOtp(this.onResendSuccess, this.onResendError);\n  }\n\n  onResendSuccess(res) {\n    this.props.setLoader(false);\n    if (res.code) {\n      errorNotification();\n    } else if (Number(res.attemptsLeft) === 0) {\n      this.setState({ resendAttempts: 0, resendDisabled: true });\n    } else {\n      this.setState({\n        timer: true,\n        resendDisabled: true,\n        resendAttempts: Number(res.attemptsLeft)\n      });\n    }\n  }\n\n  onResendError() {\n    this.props.setLoader(false);\n    errorNotification();\n  }\n\n  submitWithOTP() {\n    const otpValue = this.state.otpValue || get(this, 'otpField.value');\n    this.props.onSubmit(otpValue);\n  }\n\n  render() {\n    const {\n      props: { amount, deviceMode },\n      state,\n      contextConfig\n    } = this;\n\n    return (\n      <div>\n        {amount && <AmountPayable amount={amount} deviceMode={deviceMode} />}\n        <ScanContainer\n          {...state}\n          {...pick(this, boundFns)}\n          contextConfig={contextConfig}\n          deviceMode={deviceMode}\n        />\n      </div>\n    );\n  }\n}\n\nOTPScanner.propTypes = {\n  context: PropTypes.string,\n  deviceMode: PropTypes.string,\n  amount: PropTypes.string,\n  resendOtp: PropTypes.func,\n  setLoader: PropTypes.func,\n  onSubmit: PropTypes.func\n};\n\nOTPScanner.defaultProps = {\n  setLoader: () => {}\n};\n\nexport default OTPScanner;\n","import React from 'react';\nimport get from 'lodash/get';\n\nimport Timer from '../../payment/common/Timer';\nimport Button from 'commonComp/Button';\nimport ImageBanner from 'commonComp/ImageBanner';\n\nimport { getKVPairValue } from 'commonUtils/KVPairManager';\n\nimport Styles from './otpScannerComponents.base.css';\n\nimport Rupee from 'iconComp/Rupee.jsx';\n\nconst AmountPayable = ({ amount, deviceMode }) => (\n  <div\n    className={`${Styles.amountPayable} ${\n      deviceMode !== 'mobile' ? Styles.amountPayableDesktop : ''\n    }`}\n  >\n    <span>Amount Payable:</span>\n    <Rupee className={Styles.rupeeIcon} />\n    <span className={Styles.amountValue}>{amount}</span>\n  </div>\n);\n\nconst ResendOTP = ({ resendAttempts, onClick }) => (\n  <div>\n    <div className={`${Styles.otpScannerButton} resendOTP`} onClick={onClick}>\n      Resend OTP\n    </div>\n    {resendAttempts > 0 ? (\n      <div className={Styles.resendAttemptsText}>\n        ({resendAttempts} {resendAttempts === 1 ? 'attempt' : 'attempts'} left)\n      </div>\n    ) : null}\n  </div>\n);\n\nconst PartnerText = ({ contextConfig, deviceMode }) => (\n  <div\n    className={`${Styles.partnerTextBlock} ${\n      deviceMode === 'mobile'\n        ? Styles.partnerTextBlockMobile\n        : Styles.partnerTextBlockDesktop\n    }`}\n  >\n    <ImageBanner name=\"secureNew\" className={Styles.secureIcon} />\n    <div className={Styles.partnerTextContent}>{contextConfig.partnerText}</div>\n  </div>\n);\n\nclass ScanContainer extends React.PureComponent {\n  render() {\n    const {\n      props: {\n        deviceMode,\n        contextConfig,\n        setInputRef,\n        setOtpValue,\n        otpValue,\n        payEnabled,\n        submitWithOTP,\n        timer,\n        stopTimer,\n        resendDisabled,\n        resendAttempts,\n        onResendClick\n      }\n    } = this;\n\n    const timerStart = getKVPairValue('OTP_TIMER_START');\n\n    return (\n      <div\n        className={`${Styles.scanContainer} ${\n          deviceMode === 'mobile'\n            ? Styles.mobileScanContainer\n            : Styles.desktopScanContainer\n        }`}\n      >\n        {contextConfig.otpImage && (\n          <div className={Styles.otpImage}>\n            <ImageBanner name=\"otp\" />\n          </div>\n        )}\n        <div className={Styles.scanBlock}>\n          <div className={Styles.otpScannerHeading}>\n            Enter One Time Password (OTP)\n          </div>\n          <div className={Styles.otpScannerDesc}>{contextConfig.desc}</div>\n          <div>\n            <input\n              id=\"otpField\"\n              className={`${Styles.otpInput} cod-input-numpad`}\n              placeholder=\"Enter OTP here\"\n              type=\"tel\"\n              maxLength={contextConfig.otpInputMaxLength}\n              autoComplete=\"off\"\n              align=\"right\"\n              ref={setInputRef}\n              onChange={setOtpValue}\n              value={otpValue || get(this, 'otpField.value') || ''}\n            />\n          </div>\n          <Button\n            onClick={payEnabled ? submitWithOTP : null}\n            className={`${Styles.sendButton} ${\n              !payEnabled ? Styles.disabled : ''\n            }`}\n          >\n            {contextConfig.buttonText}\n          </Button>\n          {timer ? (\n            <div className={Styles.timerBlock}>\n              <span>Resend OTP in </span>\n              <Timer\n                seconds={timerStart.seconds}\n                minutes={timerStart.minutes}\n                stopCallback={stopTimer}\n              />\n            </div>\n          ) : null}\n          {!resendDisabled ? (\n            <ResendOTP\n              resendAttempts={resendAttempts}\n              onClick={onResendClick}\n            />\n          ) : null}\n          {resendAttempts === 0 ? (\n            <div className={Styles.resendAllAttemptsText}>\n              You have used all Resend OTP attempts.\n            </div>\n          ) : null}\n          {contextConfig.partnerText && (\n            <PartnerText\n              contextConfig={contextConfig}\n              deviceMode={deviceMode}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport { AmountPayable, ScanContainer };\n","import React from 'react';\n\nimport Styles from './otpPage.base.css';\n\nimport { getXMetaApp } from 'commonBrowserUtils/Helper';\n\nimport config from '../../../../../config';\n\nimport OTPScanner from 'commonComp/OtpScanner';\nimport Loader from 'commonComp/Loader';\nimport PaymentsManager from 'commonBrowserUtils/PaymentsManager';\n\nimport { getQueryParam } from 'commonUtils/helper';\nimport { setDocTitleInMobile } from 'commonBrowserUtils/Helper';\nimport { isFeatureEnabled } from 'commonUtils/FeaturesManager';\n\nclass OtpPage extends React.PureComponent {\n  constructor() {\n    super();\n    this.state = { otp: '', loading: false };\n\n    this.queryParams = {\n      mobile: getQueryParam({ name: 'mobile' }),\n      transactionId: getQueryParam({ name: 'transactionId' }),\n      instrumentType: getQueryParam({ name: 'type' })\n    };\n\n    ['resendOtp', 'setLoader', 'onFormSubmit', 'setFormRef'].forEach(\n      method => (this[method] = this[method].bind(this))\n    );\n  }\n\n  componentDidMount() {\n    const { deviceMode } = this.props;\n    deviceMode === 'mobile'\n      ? setDocTitleInMobile('PAYMENT', {\n          hideStepNumber: isFeatureEnabled('CHECKOUT_STEPS_MWEB')\n        })\n      : SHELL.setActivePage('PAYMENT');\n  }\n\n  resendOtp(successCallback, errorCallback) {\n    PaymentsManager.resendBNPLOTP(\n      this.queryParams.transactionId,\n      res => successCallback(res),\n      errorCallback\n    );\n  }\n\n  setLoader(loadingState) {\n    this.setState({ loading: loadingState });\n  }\n\n  setFormRef(node) {\n    this.form = node;\n  }\n\n  onFormSubmit(otp) {\n    this.setLoader(true);\n    this.setState({ otp }, () => {\n      this.form.submit();\n    });\n  }\n\n  render() {\n    const {\n      state: { loading, otp },\n      props: { deviceMode },\n      resendOtp,\n      onFormSubmit,\n      setLoader,\n      setFormRef,\n      queryParams: { transactionId, instrumentType, mobile }\n    } = this;\n    return (\n      <div className={Styles.pageBackground}>\n        <div className={Styles.container}>\n          <Loader show={loading} backdrop={true} />\n          <form\n            method=\"POST\"\n            action={`${config('ppsClient').clientUrl}v2/verifyPayment`}\n            ref={setFormRef}\n            className={Styles.form}\n          >\n            <input type=\"hidden\" name=\"transactionId\" value={transactionId} />\n            <input type=\"hidden\" name=\"otp\" value={otp} />\n            <input type=\"hidden\" name=\"instrumentType\" value={instrumentType} />\n            <input type=\"hidden\" name=\"xMetaApp\" value={getXMetaApp()} />\n            <OTPScanner\n              context=\"bnpl\"\n              deviceMode={deviceMode}\n              resendOtp={resendOtp}\n              mobileNumber={mobile}\n              setLoader={setLoader}\n              onSubmit={onFormSubmit}\n            />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OtpPage;\n","import React from 'react';\nimport pick from 'lodash/pick';\n\nimport config from '../../../../../config';\n\nimport { OTPSection } from './paymentOTPComponents';\n\nimport PaymentsManager from 'commonBrowserUtils/PaymentsManager';\nimport { getXMetaApp, setDocTitleInMobile } from 'commonBrowserUtils/Helper';\nimport { getQueryParam } from 'commonUtils/helper';\nimport { isFeatureEnabled } from 'commonUtils/FeaturesManager';\n\nconst boundFns = [\n  'resendOtp',\n  'setLoader',\n  'onPaymentFormSubmit',\n  'showCancelConfirmation',\n  'stayOnPage',\n  'cancelPayment',\n  'onBankRedirect',\n  'setPaymentFormRef',\n  'setBankRedirectFormRef'\n];\n\nclass PaymentOTPContainer extends React.Component {\n  constructor() {\n    super();\n    this.state = { otp: '', loading: false, cancelConfirmationShown: false };\n\n    this.queryParams = {\n      amount: getQueryParam({ name: 'amount' }),\n      transactionId: getQueryParam({ name: 'transactionId' }),\n      instrumentType: getQueryParam({ name: 'type' })\n    };\n\n    boundFns.forEach(method => (this[method] = this[method].bind(this)));\n  }\n\n  componentDidMount() {\n    const { history, deviceMode } = this.props;\n\n    deviceMode === 'mobile'\n      ? setDocTitleInMobile('PAYMENT', {\n          hideStepNumber: isFeatureEnabled('CHECKOUT_STEPS_MWEB')\n        })\n      : SHELL.setActivePage('PAYMENT');\n\n    triggerEvent('PAYMENT_OTP_LOAD');\n\n    history.push({\n      path: history.location.path,\n      search: history.location.search\n    });\n    window.addEventListener('popstate', this.showCancelConfirmation);\n  }\n\n  showCancelConfirmation() {\n    this.setState({\n      cancelConfirmationShown: true\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('popstate', this.showCancelConfirmation);\n  }\n\n  resendOtp(successCallback, errorCallback) {\n    const {\n      queryParams: { transactionId, instrumentType }\n    } = this;\n\n    triggerEvent('PAYMENT_OTP_RESEND');\n    PaymentsManager.resendPaymentOTP(\n      { transactionId, instrumentType },\n      res => successCallback(res),\n      errorCallback\n    );\n  }\n\n  setLoader(loadingState) {\n    this.setState({ loading: loadingState });\n  }\n\n  setPaymentFormRef(node) {\n    this.paymentForm = node;\n  }\n\n  setBankRedirectFormRef(node) {\n    this.bankRedirectForm = node;\n  }\n\n  onPaymentFormSubmit(otp) {\n    this.setLoader(true);\n    triggerEvent('PAYMENT_OTP_SUBMIT');\n    this.setState({ otp }, () => {\n      this.paymentForm.submit();\n    });\n  }\n\n  onBankRedirect() {\n    this.setLoader(true);\n    triggerEvent('PAYMENT_OTP_BANK_REDIRECT');\n    this.bankRedirectForm.submit();\n  }\n\n  stayOnPage() {\n    const { history } = this.props;\n\n    history.push({\n      path: history.location.path,\n      search: history.location.search\n    });\n    this.setState({\n      cancelConfirmationShown: false\n    });\n  }\n\n  cancelPayment() {\n    this.props.history.go(-2);\n  }\n\n  render() {\n    const {\n      state,\n      props: { deviceMode, styles },\n      queryParams\n    } = this;\n\n    return (\n      <OTPSection\n        styles={styles}\n        state={state}\n        params={{\n          ...queryParams,\n          deviceMode,\n          xMetaApp: getXMetaApp(),\n          paymentFormURL: `${config('ppsClient').clientUrl}v2/verifyPayment`,\n          redirectBankFormURL: `${\n            config('ppsClient').clientUrl\n          }v2/getBankRedirectTemplate/${queryParams.instrumentType}/${\n            queryParams.transactionId\n          }`\n        }}\n        actionHandlers={pick(this, boundFns)}\n      />\n    );\n  }\n}\n\nexport default PaymentOTPContainer;\n","import React from 'react';\n\nimport OTPScanner from 'commonComp/OtpScanner';\nimport Loader from 'commonComp/Loader';\nimport Modal from 'commonComp/Modal';\nimport Button from 'commonComp/ButtonV2';\n\nimport commonStyles from './paymentOTPComponents.base.css';\nimport ChevronRight from 'iconComp/ChevronRight.jsx';\n\nconst OTPSection = ({\n  styles,\n  state: { loading, otp, cancelConfirmationShown },\n  params: {\n    paymentFormURL,\n    redirectBankFormURL,\n    transactionId,\n    instrumentType,\n    xMetaApp,\n    deviceMode,\n    amount\n  },\n  actionHandlers: {\n    setPaymentFormRef,\n    setBankRedirectFormRef,\n    onBankRedirect,\n    resendOtp,\n    setLoader,\n    onPaymentFormSubmit,\n    stayOnPage,\n    cancelPayment\n  }\n}) => {\n  styles = { ...styles, ...commonStyles };\n  return (\n    <div className={styles.pageBackground}>\n      <div className={styles.container}>\n        <Loader show={loading} backdrop={true} />\n        <form\n          method=\"POST\"\n          action={paymentFormURL}\n          id=\"paymentForm\"\n          ref={setPaymentFormRef}\n        >\n          <input type=\"hidden\" name=\"transactionId\" value={transactionId} />\n          <input type=\"hidden\" name=\"otp\" value={otp} />\n          <input type=\"hidden\" name=\"instrumentType\" value={instrumentType} />\n          <input type=\"hidden\" name=\"xMetaApp\" value={xMetaApp} />\n          <OTPScanner\n            context=\"paymentOTP\"\n            deviceMode={deviceMode}\n            amount={amount}\n            resendOtp={resendOtp}\n            setLoader={setLoader}\n            onSubmit={onPaymentFormSubmit}\n          />\n        </form>\n        <RedirectToBank\n          styles={styles}\n          url={redirectBankFormURL}\n          setRef={setBankRedirectFormRef}\n          onClick={onBankRedirect}\n        />\n      </div>\n      {cancelConfirmationShown ? (\n        <CancelConfirmation\n          styles={styles}\n          stayOnPage={stayOnPage}\n          cancelPayment={cancelPayment}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nconst CancelConfirmation = ({ styles, stayOnPage, cancelPayment }) => (\n  <Modal cancelCallback={stayOnPage} className={styles.cancelConfirmModal}>\n    {onCancel => (\n      <div>\n        <div className={styles.cancelConfirmModalHeader}>Cancel Payment?</div>\n        <div className={styles.cancelConfirmModalDesc}>\n          Are you sure you want to cancel payment?\n        </div>\n        <div className={styles.cancelConfirmModalButtonGroup}>\n          <Button\n            text=\"STAY HERE\"\n            onClick={onCancel}\n            containerClassname={styles.displayInlineBlock}\n            classname={`${styles.cancelConfirmModalButton} ${styles.firstButton}`}\n          />\n          <Button\n            text=\"CANCEL PAYMENT\"\n            onClick={cancelPayment}\n            containerClassname={styles.displayInlineBlock}\n            classname={styles.cancelConfirmModalButton}\n          />\n        </div>\n      </div>\n    )}\n  </Modal>\n);\n\nconst RedirectToBank = ({ styles, url, setRef, onClick }) => (\n  <div>\n    <div className={styles.separator}>\n      <span className={styles.separatorLine}>-------------------------</span>\n      <span>OR</span>\n      <span className={styles.separatorLine}>-------------------------</span>\n    </div>\n    <form method=\"GET\" action={url} id=\"bankRedirectForm\" ref={setRef}>\n      <div className={styles.redirectToBank} onClick={onClick}>\n        <div className={styles.bankRedirectHeading}>\n          Continue payment on bank's website.\n        </div>\n        <div className={styles.bankRedirectDesc}>\n          You will be redirected to bank OTP page.\n        </div>\n        <ChevronRight className={styles.redirectIcon} />\n      </div>\n    </form>\n  </div>\n);\n\nexport { OTPSection };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\n\n// Functional Imports.\nimport {\n  isLoggedIn,\n  errorNotification,\n  navigateBack,\n  isAndroidApp,\n  getUidx,\n  isSessionStorageEnabled,\n  setCookie,\n  getCookie,\n  isMyntAppEnabled\n} from 'commonBrowserUtils/Helper';\nimport {\n  isValidCart,\n  checkExchangeCart,\n  isCartCodServiceable,\n  getShippingInfo\n} from 'commonBrowserUtils/CartHelper';\nimport {\n  getPaymentLoginUrl,\n  getCodFallbackResponse,\n  getPaymentConfig\n} from 'commonBrowserUtils/PaymentHelper';\nimport PaymentsManager from 'commonBrowserUtils/PaymentsManager';\nimport ProfileManager from 'commonBrowserUtils/ProfileManager';\nimport TokenManager from 'commonBrowserUtils/TokenManager';\nimport {\n  isFeatureEnabled,\n  isVariantEnabled\n} from 'commonUtils/FeaturesManager';\nimport { getKVPairValue } from 'commonUtils/KVPairManager';\nimport {\n  sessionStorageKeys,\n  cookieKeys,\n  orderStates\n} from 'commonUtils/constants';\nimport { getQueryParam } from 'commonUtils/helper';\nimport PaymentConstants from 'commonBrowserUtils/PaymentConstants';\nimport defautlMAPayloadForWeb from '../../../../utils/maHelper';\nconst DATA_KEY = '_checkout_.__myx_data__';\n\nconst boundFuncs = [\n  'initPageData',\n  'onSuccess',\n  'onError',\n  'handlePaymentOptionsError',\n  'handlePaymentAction',\n  'updatePageData',\n  'setLoader',\n  'updateBankDiscount',\n  'getPaymentData',\n  'toggleTwoFA',\n  'disableTwoFA',\n  'handleTwoFASubmit',\n  'updateDynamicStyles',\n  'setPaymentFailureAttributes',\n  'disableRetrySession',\n  'disableRetryTimer',\n  'enableRetryTimer',\n  'updateCreditsBalance',\n  'toggleRetryGC',\n  'showBackConfirmationModal',\n  'stayHere',\n  'tryLater',\n  'setTwoFADetails',\n  'getTwoFADetails',\n  'initializePhonePe',\n  'toggleSaveCardConsent',\n  'onPaymentDataSuccess',\n  'onPaymentDataFailure'\n];\n\nclass PaymentPage extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      spinner: true,\n      error: null,\n      cartData: isLoggedIn() ? this.props.getCartStoreData() : null,\n      isExchangeCart: false,\n      paymentOptions: null,\n      paymentConfig: null,\n      addressInfo: {},\n      retrySessionEnabled: true,\n      retryTimerDisabled: false,\n      retryGCapplied: false,\n      backConfirmationModalShown: false,\n      twoFA: {\n        display: false,\n        callback: () => {},\n        otp: null,\n        disabled: false,\n        mobileNumbers: null,\n        enableEmailOtp: true,\n        paymentModes: []\n      },\n      showSaveCardConsent: false,\n      twoFAResponse: {},\n      errorAttribute: {\n        paymentErrorCode: getQueryParam({ name: 'errorCode' }),\n        paymentErrorCodeOverride: getQueryParam({ name: 'overrideErrorCode' }),\n        cartContext: getQueryParam({ name: 'cartContext' }),\n        updateCounter: 0\n      },\n      bankDiscount: 0,\n      dynamicStyles: {}\n    };\n\n    boundFuncs.forEach(method => (this[method] = this[method].bind(this)));\n    this.payMode = getQueryParam({ name: 'mode' });\n    this.referrer = getQueryParam({ name: 'referrer' });\n    this.ppsId = getQueryParam({ name: 'ppsid' });\n\n    this.initializePhonePe();\n  }\n\n  componentDidMount() {\n    this.props.analytics('setPageContext')('Checkout-payment');\n    this.props.analytics('initWebengage')();\n    triggerEvent('PAYMENT_SCREEN_LOAD', defautlMAPayloadForWeb);\n    triggerEvent('PAYMENT_PAGE_VIEW');\n    setCookie(cookieKeys.ORDER_CONFIRMED, '', 0);\n    ProfileManager.fetchDetails(() =>\n      this.initPageData({\n        spinner: !isAndroidApp(),\n        prefetchedData:\n          isFeatureEnabled('PAYMENT_PREFETCH') && this.getPrefetchedData()\n      })\n    );\n\n    if (this.payMode === 'retry') {\n      triggerEvent('DOPE_RETRY_PAYMENT_PAGE_LOADED');\n      const { history } = this.props;\n      history.push({\n        path: history.location.path,\n        search: history.location.search\n      });\n      window.addEventListener('popstate', this.showBackConfirmationModal);\n    }\n  }\n\n  componentWillUnmount() {\n    const {\n      state: { cartData },\n      props: { setCartStoreData }\n    } = this;\n\n    setCartStoreData(cartData);\n    if (this.payMode === 'retry') {\n      window.removeEventListener('popstate', this.showBackConfirmationModal);\n    }\n  }\n\n  componentDidUpdate() {\n    if (!this.firstUpdate) {\n      const data = this.state.cartData;\n      if (data) {\n        this.props.analytics('pushDataLayerObjectForGTM')(data, 'payment');\n        this.firstUpdate = true;\n      }\n    }\n  }\n\n  initializePhonePe() {\n    if (isMyntAppEnabled(['initializePhonePe'])) {\n      MyntApp.initializePhonePe();\n    }\n  }\n\n  onSuccess(data) {\n    const { lpBalance, gcBalance, ...pageData } = data;\n\n    const { paymentOptions } = pageData;\n\n    if (\n      paymentOptions &&\n      isFeatureEnabled('LOW_SR_OPTIONS_REMOVE') &&\n      Array.isArray(paymentOptions.paymentInstrumentDetails)\n    ) {\n      paymentOptions.paymentInstrumentDetails = paymentOptions.paymentInstrumentDetails.filter(\n        instrument => {\n          if (\n            PaymentConstants.LOW_SR_FILTER_EXCLUSIONS.includes(instrument.type)\n          ) {\n            return true;\n          }\n          const instrumentDetails = instrument.paymentInstrumentDetails;\n          if (instrumentDetails && Array.isArray(instrumentDetails.data)) {\n            instrumentDetails.data = instrumentDetails.data.filter(\n              item => !item.lowSuccessRate\n            );\n            if (instrumentDetails.data.length === 0) {\n              return false;\n            }\n          }\n          return true;\n        }\n      );\n    }\n\n    this.creditsBalance = {\n      lpBalance,\n      gcBalance\n    };\n\n    this.setState({\n      ...pageData,\n      paymentConfig: getPaymentConfig(paymentOptions),\n      isExchangeCart: checkExchangeCart(pageData.cartData),\n      loading: false\n    });\n  }\n\n  onError(error = {}) {\n    const uidx = getUidx();\n    const { code = '', message = '' } = error;\n    triggerEvent('PAYMENT_PAGE_LOAD_ERROR', {\n      gaLabel: `${code}:${message}:${uidx}`\n    });\n    this.setState({\n      error,\n      loading: false\n    });\n    errorNotification({ message: error.message });\n  }\n\n  getPrefetchedData() {\n    const { gcBalance, lpBalance } = this.props.getPaymentStoreData() || {};\n\n    return {\n      gcBalance,\n      lpBalance\n    };\n  }\n\n  toggleSaveCardConsent(showSaveCardConsent, done = () => {}) {\n    this.setState(\n      {\n        showSaveCardConsent\n      },\n      done\n    );\n  }\n\n  setTwoFADetails(data) {\n    this.setState({\n      twoFAResponse: data\n    });\n  }\n\n  getTwoFADetails(cartData) {\n    //setting twofa details from shield\n    if (cartData) {\n      PaymentsManager.userTwoFAVerification(\n        {\n          addressId: get(cartData, 'orderAddressId'),\n          addressUnifiedId: get(cartData, 'unifiedAddressId')\n        },\n        res => {\n          this.setTwoFADetails(res);\n        },\n        () => {\n          // not throw an error in this case\n        }\n      );\n    }\n  }\n\n  toggleTwoFA(state = {}) {\n    this.state.twoFA.display && triggerEvent('CLOSE_TWOFA');\n    this.setState(prevState => ({\n      twoFA: {\n        ...prevState.twoFA,\n        ...state,\n        display: !prevState.twoFA.display\n      },\n      loading: false\n    }));\n  }\n\n  disableTwoFA() {\n    this.setState(prevState => ({\n      twoFA: {\n        ...prevState.twoFA,\n        display: false,\n        disabled: true\n      }\n    }));\n    errorNotification({ message: 'Two factor authentication is disabled' });\n  }\n\n  handleTwoFASubmit(data) {\n    this.setState(\n      prevState => ({\n        twoFA: { ...prevState.twoFA, ...data }\n      }),\n      this.state.twoFA.callback\n    );\n  }\n\n  handleRedirect(data, forceRedirect) {\n    errorNotification({ message: data.message });\n    navigateBack(this.props.history, {\n      message: true,\n      url: data.redirectUrl || '/checkout/address',\n      forceRedirect\n    });\n  }\n\n  displayCODFallback(data, errorMessage) {\n    let shippingInfo;\n    try {\n      shippingInfo = JSON.stringify(getShippingInfo(data.cartData) || {});\n    } catch (e) {\n      shippingInfo = '{}';\n    }\n\n    const codServiceable = isCartCodServiceable(data.cartData);\n    if (codServiceable) {\n      triggerEvent('COD_FALLBACK', {\n        maData: {\n          entity_type: 'cart',\n          entity_name: 'cart',\n          entity_id: get(data, 'cartData.id')\n        },\n        custom: {\n          custom: { v1: shippingInfo },\n          widget_items: {\n            data_set: {\n              data: (get(data, 'cartData.products') || []).map(product => ({\n                entity_type: 'product',\n                entity_name: product.name,\n                entity_id: product.id\n              }))\n            }\n          }\n        }\n      });\n      const paymentOptions = getCodFallbackResponse();\n      this.onSuccess({\n        ...data,\n        paymentOptions\n      });\n    } else {\n      this.onError({ message: errorMessage });\n    }\n  }\n\n  fireTwoFAEvent(data) {\n    const paymentInstruments = get(data, 'paymentInstrumentDetails', []);\n    const payload = [];\n    for (let instrument of paymentInstruments) {\n      const type = get(instrument, 'type');\n      const isMobileOtpEnabled = get(\n        instrument,\n        'paymentInstrumentDetails.enable2fa',\n        false\n      );\n      const isEmailOtpEnabled = get(\n        instrument,\n        'paymentInstrumentDetails.enableEmailOTP',\n        false\n      );\n      const aggregatedData =\n        isMobileOtpEnabled || isEmailOtpEnabled\n          ? `${type}|${isMobileOtpEnabled}|${isEmailOtpEnabled}`\n          : '';\n      aggregatedData && payload.push(aggregatedData);\n    }\n\n    if (payload.length > 0) {\n      triggerEvent('TWO_FA_ENABLED', {\n        custom: {\n          custom: {\n            v1: payload.toString()\n          }\n        }\n      });\n    }\n  }\n\n  handleCODFallback({ errorConfig, message, data }) {\n    const errorMessage = errorConfig.message || message;\n    if (isSessionStorageEnabled()) {\n      try {\n        let errorCount = Number(\n          sessionStorage.getItem(\n            sessionStorageKeys.PAYMENT_OPTIONS_ERROR_COUNT\n          ) || 0\n        );\n        const retryCount = getKVPairValue('COD_FALLBACK_CONFIG').retryCount;\n        if (errorCount < retryCount) {\n          sessionStorage.setItem(\n            sessionStorageKeys.PAYMENT_OPTIONS_ERROR_COUNT,\n            ++errorCount\n          );\n          this.onError({ message: errorMessage });\n        } else {\n          this.displayCODFallback(data, errorMessage);\n        }\n      } catch (e) {\n        this.displayCODFallback(data, errorMessage);\n      }\n    } else {\n      this.displayCODFallback(data, errorMessage);\n    }\n  }\n\n  handlePaymentOptionsError(errorData, data) {\n    const { error, message } = errorData;\n    const errorCode = get(error, 'errorCode');\n    const instrumentsFailureKV = getKVPairValue('PAYMENT_INSTRUMENTS_FAILURE');\n    const errorConfig = get(instrumentsFailureKV, errorCode, {});\n    const uidx = getUidx();\n\n    triggerEvent('GET_PAYMENT_OPTIONS_ERROR', {\n      gaLabel: `${errorCode}:${errorConfig.message || message}:${uidx}`\n    });\n\n    if (errorConfig.goBack) {\n      errorNotification({ message: errorConfig.message });\n      navigateBack(this.props.history, {\n        message: true,\n        url: errorConfig.url || '/checkout/cart',\n        forceRedirect: errorConfig.forceRedirect\n      });\n    } else if (errorConfig.forceLogin) {\n      SHELL.redirectTo(getPaymentLoginUrl({ force: true }));\n    } else if (\n      isFeatureEnabled('COD_FALLBACK_ENABLED') &&\n      this.payMode !== 'retry'\n    ) {\n      this.handleCODFallback({ errorConfig, message, data });\n    } else {\n      this.onError({ message: errorConfig.message || message });\n    }\n  }\n\n  initPageData(options) {\n    if (isLoggedIn()) {\n      const data = get(window, DATA_KEY, null);\n      if (data) {\n        if (data.httpStatus === 200) {\n          this.setState({\n            cartData: data.cartData,\n            addressData: data.addressData,\n            loading: false\n          });\n          this.getPaymentOptions(data)\n            .then(paymentOptions => {\n              this.onSuccess({ ...data, paymentOptions });\n            })\n            .catch(err => {\n              this.onPaymentDataFailure(err, data.cartData);\n            });\n          this.getTwoFADetails(data.cartData);\n        } else if (data.status === 'UPDATE_TOKENS') {\n          TokenManager.refreshToken(this.getPaymentData);\n        } else if (data.status === 'AUTHNZ_FAIL') {\n          this.onError(data);\n        } else if (data.httpStatus === 401) {\n          SHELL.redirectTo(getPaymentLoginUrl({}));\n        } else if (data.httpStatus === 302) {\n          this.handleRedirect(data);\n        } else {\n          this.onError(data);\n        }\n        window._checkout_.__myx_data__ = null;\n      } else {\n        this.getPaymentData(options);\n      }\n    } else {\n      SHELL.redirectTo(getPaymentLoginUrl({ force: true }));\n    }\n  }\n\n  deferredPaymentOptionsHandler(data) {\n    return new Promise((resolve, reject) => {\n      PaymentsManager.getDeferredPaymentOptions(\n        { ppsId: this.ppsId },\n        paymentOptions => {\n          resolve(paymentOptions);\n        },\n        error => {\n          this.handlePaymentOptionsError(error, data);\n          reject(error);\n        }\n      );\n    });\n  }\n\n  paymentOptionsHandler(data) {\n    return new Promise((resolve, reject) => {\n      if (isValidCart(data.cartData)) {\n        PaymentsManager.getPaymentOptions(\n          {\n            cartId: data.cartData.id,\n            isExchangeCart: checkExchangeCart(data.cartData)\n          },\n          paymentOptions => {\n            isSessionStorageEnabled() &&\n              sessionStorage.setItem(\n                sessionStorageKeys.PAYMENT_OPTIONS_ERROR_COUNT,\n                0\n              );\n            this.fireTwoFAEvent(paymentOptions);\n            resolve(paymentOptions);\n          },\n          error => {\n            // the error handling is already there\n            reject({ ...error, isPaymentOptions: true });\n          }\n        );\n      } else {\n        const checkoutReady = get(data, 'cartData.flags.checkoutReady');\n        let message = 'Bag is empty or invalid. Redirecting back...';\n        let url = '/checkout/cart';\n        let steps = 1;\n        if (\n          !get(checkoutReady, 'value') &&\n          get(checkoutReady, 'remark') === 'ADDRESS_NOT_FOUND'\n        ) {\n          message =\n            get(\n              getKVPairValue('PAYMENT_NOT_READY_ERROR'),\n              'message.OEE_ADDRESS_NOT_FOUND'\n            ) || 'Something went wrong! Please try again';\n\n          //normal cart flow\n          if (!checkExchangeCart(data.cartData)) {\n            url = '/checkout/address';\n            message =\n              get(\n                getKVPairValue('PAYMENT_NOT_READY_ERROR'),\n                'message.ADDRESS_NOT_FOUND'\n              ) || 'Something went wrong! Please reselect the address';\n          }\n        }\n        errorNotification({\n          message\n        });\n        if (window && window.location.hash.includes('#disableBack')) {\n          steps = 2;\n        }\n        navigateBack(this.props.history, {\n          message: true,\n          url,\n          steps\n        });\n      }\n    });\n  }\n\n  getPaymentOptions(data) {\n    return this.payMode === 'retry'\n      ? this.deferredPaymentOptionsHandler(data)\n      : this.paymentOptionsHandler(data);\n  }\n\n  onPaymentDataSuccess(\n    { gcBalance, lpBalance, addressData, cartData, paymentOptions },\n    options\n  ) {\n    this.onSuccess({\n      cartData,\n      gcBalance: gcBalance || get(options, 'prefetchedData.gcBalance'),\n      lpBalance: lpBalance || get(options, 'prefetchedData.lpBalance'),\n      addressData,\n      paymentOptions\n    });\n  }\n\n  onPaymentDataFailure(error, cartData = {}) {\n    if (error.isPaymentOptions) {\n      this.handlePaymentOptionsError(error, { cartData });\n    } else if (error.status === 401) {\n      SHELL.redirectTo(getPaymentLoginUrl({}));\n    } else if (error.status === 302) {\n      this.handleRedirect(error.error, true);\n    } else if (error.status === 'UPDATE_TOKENS') {\n      TokenManager.refreshToken(this.getPaymentData);\n    } else {\n      this.onError(error);\n    }\n  }\n\n  async getPaymentData(options) {\n    const { payMode, referrer, ppsId } = this;\n    let { cartData, selectedAddress } = this.props;\n\n    if (cartData) {\n      Promise.all([\n        PaymentsManager.getPageData(\n          { payMode, referrer, ppsId, ...options },\n          cartData,\n          selectedAddress\n        ),\n        this.getPaymentOptions({ cartData })\n      ])\n        .then(\n          async ([\n            { gcBalance, lpBalance, addressData, cartData: fetchedCartData },\n            paymentOptions\n          ]) => {\n            this.onPaymentDataSuccess(\n              {\n                gcBalance,\n                lpBalance,\n                addressData,\n                cartData: fetchedCartData ? fetchedCartData : cartData,\n                paymentOptions\n              },\n              options\n            );\n          }\n        )\n        .catch(error => {\n          this.onPaymentDataFailure(error, cartData);\n        });\n      this.getTwoFADetails(cartData);\n    } else {\n      try {\n        const {\n          gcBalance,\n          lpBalance,\n          addressData,\n          cartData: fetchedCartData\n        } = await PaymentsManager.getPageData(\n          {\n            payMode,\n            referrer,\n            ppsId,\n            ...options\n          },\n          {},\n          selectedAddress\n        );\n        cartData = fetchedCartData;\n        this.getTwoFADetails(cartData);\n        const paymentOptions = await this.getPaymentOptions({\n          cartData\n        });\n\n        this.onPaymentDataSuccess(\n          {\n            gcBalance,\n            lpBalance,\n            addressData,\n            cartData,\n            paymentOptions\n          },\n          options\n        );\n      } catch (error) {\n        //Temp fix when address ID is not there when user coming from OCP or aggregator fails\n        const isAddressIDNotAvailable =\n          error.message === 'Unable to fetch address id';\n        if (isAddressIDNotAvailable) {\n          await this.getPaymentOptions({});\n        } else {\n          this.onPaymentDataFailure(error, cartData);\n        }\n      }\n    }\n  }\n\n  updatePageData(res, options) {\n    if (!options.keepPreviousState && options.updateKey) {\n      const obj = {\n        [options.updateKey]: res\n      };\n      if (options.updateKey === 'cartData') {\n        obj.isExchangeCart = checkExchangeCart(res);\n      }\n      if (options.updateKey === 'paymentOptions') {\n        this.fireTwoFAEvent(res);\n      }\n      this.setState(obj);\n    }\n  }\n\n  handlePaymentAction(action, data, options = {}, onSuccess, onError) {\n    this.setState({ loading: true, error: null });\n    PaymentsManager[action](\n      data,\n      res => {\n        this.setState({ loading: false });\n        this.updatePageData(res, options);\n        onSuccess && onSuccess(res);\n      },\n      err => {\n        this.setState({ loading: false });\n        onError ? onError(err) : errorNotification(options);\n      }\n    );\n  }\n\n  setLoader(loading, callback) {\n    this.setState({ loading }, callback);\n  }\n\n  updateBankDiscount(bankDiscount) {\n    this.setState({ bankDiscount });\n  }\n\n  updateDynamicStyles(key, value) {\n    this.setState({\n      dynamicStyles: { ...this.state.dynamicStyles, [key]: value }\n    });\n  }\n\n  setPaymentFailureAttributes(errorCode, context) {\n    this.setState(prevState => ({\n      errorAttribute: {\n        paymentErrorCode: errorCode,\n        cartContext: context,\n        updateCounter: ++prevState.errorAttribute.updateCounter\n      }\n    }));\n  }\n\n  disableRetrySession() {\n    this.setState({\n      retrySessionEnabled: false\n    });\n  }\n\n  disableRetryTimer() {\n    this.setState({\n      retryTimerDisabled: true\n    });\n  }\n\n  enableRetryTimer() {\n    this.setState({\n      retryTimerDisabled: false\n    });\n  }\n\n  updateCreditsBalance(balance) {\n    this.creditsBalance = balance;\n  }\n\n  toggleRetryGC() {\n    this.setState(prevState => ({\n      retryGCapplied: !prevState.retryGCapplied\n    }));\n  }\n\n  showBackConfirmationModal() {\n    this.setState({\n      backConfirmationModalShown: true\n    });\n  }\n\n  stayHere() {\n    const { history } = this.props;\n    history.push({\n      path: history.location.path,\n      search: history.location.search\n    });\n\n    this.setState({\n      backConfirmationModalShown: false\n    });\n  }\n\n  tryLater() {\n    const redirectConfig =\n      this.referrer === orderStates.PLACED\n        ? { steps: 2 }\n        : { url: '/', forceRedirect: true };\n\n    navigateBack(this.props.history, redirectConfig);\n  }\n\n  render() {\n    const {\n      props: {\n        render,\n        analytics,\n        cartData: savedCartData,\n        selectedAddress: savedSelectedAddress\n      },\n      payMode,\n      referrer,\n      ppsId,\n      updateBankDiscount,\n      updateDynamicStyles,\n      setLoader,\n      handlePaymentAction,\n      updatePageData,\n      toggleTwoFA,\n      disableTwoFA,\n      handleTwoFASubmit,\n      setPaymentFailureAttributes,\n      state,\n      creditsBalance,\n      disableRetrySession,\n      disableRetryTimer,\n      enableRetryTimer,\n      updateCreditsBalance,\n      toggleRetryGC,\n      stayHere,\n      tryLater,\n      setTwoFADetails,\n      toggleSaveCardConsent\n    } = this;\n    const { cartData, addressData } = state;\n    return render({\n      ...state,\n      payMode,\n      referrer,\n      ppsId,\n      updateBankDiscount,\n      handlePaymentAction,\n      updatePageData,\n      setLoader,\n      updateDynamicStyles,\n      toggleTwoFA,\n      disableTwoFA,\n      handleTwoFASubmit,\n      setPaymentFailureAttributes,\n      disableRetrySession,\n      disableRetryTimer,\n      enableRetryTimer,\n      updateCreditsBalance,\n      toggleRetryGC,\n      stayHere,\n      tryLater,\n      analytics,\n      refreshPageData: this.initPageData,\n      creditsBalance,\n      setTwoFADetails,\n      toggleSaveCardConsent,\n      cartData: cartData ? cartData : savedCartData,\n      addressData: addressData ? addressData : savedSelectedAddress\n    });\n  }\n}\n\nPaymentPage.propTypes = {\n  render: PropTypes.func,\n  updateStoreData: PropTypes.func\n};\n\nexport default PaymentPage;\n","import { CheckoutConsumerHOC } from '@context/CheckoutContext';\nimport PaymentPage from './PaymentPage';\n\nexport default CheckoutConsumerHOC(PaymentPage);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { padZeros } from 'commonBrowserUtils/Helper';\n\nimport Styles from './timer.base.css';\n\nconst getExpandedDisplay = ({ minutes, seconds }) =>\n  `${padZeros(minutes)} min ${padZeros(seconds)} sec`;\n\nconst getBasicDisplay = ({ minutes, seconds }) =>\n  `${padZeros(minutes)}:${padZeros(seconds)}`;\n\nclass Timer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      seconds: props.seconds,\n      minutes: props.minutes\n    };\n  }\n\n  componentDidMount() {\n    this.setupTimer();\n  }\n\n  setupTimer() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n\n    this.timer = setInterval(() => {\n      const {\n        state: { seconds, minutes }\n      } = this;\n      if (seconds === 0 && minutes === 0) {\n        this.stopTimer();\n      } else if (seconds === 0) {\n        this.setState({\n          seconds: 59,\n          minutes: minutes - 1\n        });\n      } else {\n        this.setState({\n          seconds: seconds - 1\n        });\n      }\n    }, 1000);\n  }\n\n  disableTimer() {\n    clearInterval(this.timer);\n  }\n\n  enableTimer() {\n    this.setupTimer();\n  }\n\n  stopTimer() {\n    clearInterval(this.timer);\n    this.props.stopCallback();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.disabled !== this.props.disabled) {\n      if (this.props.disabled) {\n        this.disableTimer();\n      } else {\n        this.enableTimer();\n      }\n    }\n  }\n\n  render() {\n    const {\n      state: { seconds, minutes },\n      props: { className = '', expanded }\n    } = this;\n    return (\n      <div className={`${Styles.timer} ${className}`}>\n        {expanded\n          ? getExpandedDisplay({ minutes, seconds })\n          : getBasicDisplay({ minutes, seconds })}\n      </div>\n    );\n  }\n}\n\nTimer.propTypes = {\n  seconds: PropTypes.number,\n  minutes: PropTypes.number,\n  stopCallback: PropTypes.func,\n  disabled: PropTypes.bool\n};\n\nTimer.defaultProps = {\n  disabled: false,\n  expanded: false\n};\n\nexport default Timer;\n","import PaymentOTPContainer from '../../common/PaymentOTPContainer';\nimport WithStyles from 'commonBrowserUtils/WithStyles';\n\nimport Styles from './paymentOTP.base.css';\n\nconst PaymentOTP = props => WithStyles(Styles)(PaymentOTPContainer, props);\n\nexport default PaymentOTP;\n","import React from 'react';\nimport get from 'lodash/get';\n\n// Common Components\nimport Accordian from 'commonComp/Accordian';\nimport Offers from 'commonComp/OffersV2';\nimport PriceBlock from 'commonComp/PriceBlock';\nimport Loader from 'commonComp/Loader';\nimport StickyButton from 'commonComp/StickyButton';\nimport ErrorPage from 'commonComp/ErrorPage';\nimport BankOffers from 'commonComp/BankOffers';\n\nimport TwoFactorAuthentication from '../common/TwoFactorAuthentication';\nimport PaymentOptions from '../common/PaymentOptions';\nimport RetryTimer from '../common/RetryTimer';\nimport RetrySessionExpiryModal from '../common/RetrySessionExpiryModal';\nimport RetryBackConfirmationModal from '../common/RetryBackConfirmationModal';\nimport PaymentError from '../common/PaymentError';\n\nimport { isFeatureEnabled } from 'commonUtils/FeaturesManager';\nimport WithStyles from 'commonBrowserUtils/WithStyles';\nimport PaymentConstants from 'commonBrowserUtils/PaymentConstants';\nimport {\n  getProfileEmail,\n  currencyValue,\n  roundNumber\n} from 'commonBrowserUtils/Helper';\nimport {\n  getRetryGCappliedValue,\n  consolidatePriceInstruments\n} from 'commonBrowserUtils/PaymentHelper';\nimport { getPaymentFields } from 'commonBrowserUtils/priceBreakupFields';\nimport { getTotal } from 'commonBrowserUtils/transformPriceDetails';\nimport DiscountUtil from 'commonBrowserUtils/DiscountUtil';\nimport { checkoutPage, orderStates } from 'commonUtils/constants';\n\n// Style Imports.\nimport Style from './paymentMobile.base.css';\n\nconst PaymentRetryUI = props => {\n  const { stickyButton, ...restProps } = props;\n  const {\n    error,\n    paymentOptions,\n    errorOptionNode,\n    referrer,\n    loading,\n    handlePaymentAction,\n    twoFA = {},\n    disableTwoFA,\n    handleTwoFASubmit,\n    spinner,\n    bankDiscount,\n    updateDynamicStyles,\n    analytics,\n    backConfirmationModalShown,\n    retryGCapplied,\n    retryTimerDisabled,\n    errorAttribute = {},\n    creditsBalance,\n    setPaymentFailureAttributes,\n    retrySessionEnabled,\n    disableRetrySession,\n    enableRetryTimer,\n    disableRetryTimer,\n    stayHere,\n    tryLater,\n    setRef,\n    updateStickyButton,\n    switchTab,\n    closeTwoFA,\n    triggerWebengageEvent,\n    offersConfig,\n    onClickHandler,\n    showSaveCardConsent\n  } = restProps;\n\n  if (paymentOptions) {\n    const {\n      paymentErrorCode,\n      paymentErrorCodeOverride,\n      cartContext,\n      updateCounter\n    } = errorAttribute;\n    const { price = {} } = paymentOptions;\n    const retryGCappliedValue = retryGCapplied\n      ? getRetryGCappliedValue(\n          get(creditsBalance, 'gcBalance.totalBalance'),\n          price.total\n        )\n      : 0;\n\n    const creditsAdjustedOutstandingAmount = retryGCapplied\n      ? price.total - retryGCappliedValue\n      : price.total;\n\n    const formattedFinalOutstanding = currencyValue(\n      creditsAdjustedOutstandingAmount\n    );\n\n    const priceWithGCAndBankDiscount = {\n      ...price,\n      instruments: {\n        data: consolidatePriceInstruments(get(price, 'instruments.data', []), {\n          giftcard: retryGCappliedValue,\n          bank: bankDiscount\n        })\n      }\n    };\n\n    const total = roundNumber(\n      getTotal(\n        DiscountUtil.getPrice(priceWithGCAndBankDiscount),\n        getPaymentFields()\n      ),\n      0\n    );\n\n    const PaymentModes = WithStyles(Style)(PaymentOptions, {\n      mode: 'mobile',\n      LayoutClass: Accordian,\n      bankDiscount,\n      defaultSelect: false,\n      setRef,\n      updateStickyButton,\n      switchTab,\n      setPaymentFailureAttributes,\n      triggerWebengageEvent,\n      retryGCappliedValue,\n      totalPayable: total,\n      outstandingAmount: formattedFinalOutstanding,\n      ...restProps\n    });\n\n    return (\n      <div>\n        <div className={Style.mobileContainer}>\n          {referrer !== orderStates.PENDING && (\n            <RetryTimer\n              mode=\"mobile\"\n              sessionEnabled={retrySessionEnabled}\n              stopTimer={disableRetrySession}\n              disabled={retryTimerDisabled}\n            />\n          )}\n          <div className={`${Style.mobileLayout}`}>\n            {paymentErrorCode && (\n              <div className={Style.paymentErrorBlock}>\n                <div ref={errorOptionNode}>\n                  <PaymentError\n                    id={PaymentConstants.PAYMENT_ERROR_OPTIONS_ID}\n                    errorAttributes={{\n                      code: paymentErrorCode,\n                      codeDisplayOverride: paymentErrorCodeOverride,\n                      cartContext,\n                      updateCounter\n                    }}\n                    analytics={analytics}\n                    mode=\"mobile\"\n                    showPaymentFailureHalfCard={false}\n                    {...restProps}\n                  />\n                </div>\n              </div>\n            )}\n            {offersConfig.enabled ? (\n              isFeatureEnabled('VISUAL_OFFER') ? (\n                <BankOffers\n                  messages={offersConfig.messages}\n                  currentPage={checkoutPage.PAYMENT}\n                  total={total}\n                  mode=\"mobile\"\n                  titleInCaptital={true}\n                  bankOfferTitleStyle={Style.bankOfferTitle}\n                  bankOfferPillContainerStyle={Style.bankOfferPillContainer}\n                />\n              ) : (\n                <Offers\n                  title={offersConfig.heading}\n                  messages={offersConfig.messages}\n                  defaultMessageCount={1}\n                  enabled={offersConfig.messages.length > 0}\n                />\n              )\n            ) : null}\n            {PaymentModes}\n            {twoFA.display ? (\n              <TwoFactorAuthentication\n                showSaveCardConsent={showSaveCardConsent}\n                email={twoFA.enableEmailOtp ? getProfileEmail() : ''}\n                numbers={twoFA.mobileNumbers}\n                paymentModes={twoFA.paymentModes}\n                payMode=\"retry\"\n                close={closeTwoFA}\n                handlePaymentAction={handlePaymentAction}\n                submit={handleTwoFASubmit}\n                errorCallback={disableTwoFA}\n                enableRetryTimer={enableRetryTimer}\n                disableRetryTimer={disableRetryTimer}\n                mode=\"mobile\"\n              />\n            ) : null}\n            <div className={Style.priceBreakUp}>\n              <PriceBlock\n                payMode=\"retry\"\n                price={priceWithGCAndBankDiscount}\n                getFields={getPaymentFields}\n                total={total}\n              />\n            </div>\n            <StickyButton\n              total={total}\n              text={stickyButton.text}\n              clickHandler={stickyButton.onClick || onClickHandler}\n              enabled={stickyButton.enabled}\n              updateDynamicStyles={updateDynamicStyles}\n            />\n            <RetrySessionExpiryModal\n              show={!retrySessionEnabled}\n              mode={'mobile'}\n            />\n            <RetryBackConfirmationModal\n              mode=\"mobile\"\n              show={backConfirmationModalShown}\n              stayHere={stayHere}\n              tryLater={tryLater}\n            />\n            <Loader show={loading} backdrop={true} />\n          </div>\n        </div>\n      </div>\n    );\n  } else if (error) {\n    return (\n      <ErrorPage\n        message={'Something went wrong. Please reload'}\n        reload={true}\n      />\n    );\n  } else {\n    return <Loader show={loading} spinner={spinner} backdrop={true} />;\n  }\n};\n\nexport default PaymentRetryUI;\n","import React, { useMemo } from 'react';\nimport get from 'lodash/get';\nimport isEmpty from 'lodash/isEmpty';\n\n// Common Components\nimport Accordian from 'commonComp/Accordian';\nimport Offers from 'commonComp/OffersV2';\nimport PriceBlock from 'commonComp/PriceBlock';\nimport Loader from 'commonComp/Loader';\nimport StickyButton from 'commonComp/StickyButton';\nimport SaleTimer from 'commonComp/SaleTimer/Mobile';\nimport CheckoutSteps from 'commonComp/CheckoutSteps';\nimport MyntraValuesStrip from 'commonComp/MyntraValuesStrip';\nimport SavingsFomo from 'commonComp/SavingsFomo';\nimport AddressStripV2 from 'commonComp/AddressStripV2';\nimport ShimmerPlaceholder from 'commonComp/ShimmerPlaceholder';\n\nimport TwoFactorAuthentication from '../common/TwoFactorAuthentication';\nimport PaymentOptions from '../common/PaymentOptions';\n\nimport { getKVPairValue } from 'commonUtils/KVPairManager';\nimport { getGrowthHackConfigValue } from 'commonUtils/GrowthHackConfigManager';\nimport {\n  isFeatureEnabled,\n  isVariantEnabled\n} from 'commonUtils/FeaturesManager';\nimport WithStyles from 'commonBrowserUtils/WithStyles';\nimport PaymentConstants from 'commonBrowserUtils/PaymentConstants';\nimport {\n  getProfileEmail,\n  getTryAndBuyOpted,\n  getSelectedProducts,\n  getSelectedProductsCount,\n  currencyValue,\n  isPWA,\n  getUidx\n} from 'commonBrowserUtils/Helper';\nimport { getPaymentFields } from 'commonBrowserUtils/priceBreakupFields';\nimport { getTotal } from 'commonBrowserUtils/transformPriceDetails';\nimport loadComponent from 'commonUtils/loadComponent';\nimport DiscountUtil from 'commonBrowserUtils/DiscountUtil';\nimport {\n  checkoutPage,\n  pageMode,\n  navigationHeader\n} from 'commonUtils/constants';\n\nimport { getPaymentTriedCount } from 'commonBrowserUtils/PaymentHelper';\nimport { isPriorityCheckoutEnabled } from 'commonBrowserUtils/CartHelper';\nimport { CHECKOUT_STATES } from '../../common/CheckoutSteps';\n\n// Style Imports.\nimport Style from './paymentMobile.base.css';\nimport OrderReview from '../common/OrderReview';\nimport { getAddressData } from 'commonBrowserUtils/DataStore';\n\nconst InsiderRewards = loadComponent({\n  loader: () =>\n    import(\n      /* webpackChunkName: \"insiderRewards\" */\n      'commonComp/InsiderRewards'\n    )\n});\n\nconst ErrorPage = loadComponent({\n  loader: () =>\n    import(\n      /* webpackChunkName: \"errorPage\" */\n      'commonComp/ErrorPage'\n    )\n});\n\nconst Banner = loadComponent({\n  loader: () =>\n    import(\n      /* webpackChunkName: \"banner\" */\n      'commonComp/Banner'\n    ),\n  loaderProperties: { backdrop: false }\n});\n\nconst BankOffers = loadComponent({\n  loader: () =>\n    import(\n      /* webpackChunkName: \"bankOffers\" */\n      'commonComp/BankOffers'\n    ),\n  loaderProperties: { backdrop: false }\n});\n\nconst PaymentError = loadComponent({\n  loader: () =>\n    import(\n      /* webpackChunkName: \"paymentError\" */\n      '../common/PaymentError'\n    ),\n  loaderProperties: { backdrop: false }\n});\n\nconst GCV2_PARAMS = {\n  customStates: [\n    CHECKOUT_STATES.COMPLETED,\n    CHECKOUT_STATES.COMPLETED,\n    CHECKOUT_STATES.ACTIVE\n  ],\n  customLabels: ['Design', 'Details', 'Payment'],\n  showV2: true\n};\n\nconst fireEvent = (\n  cartData,\n  isPaymentTrustMsgBannerEnabled,\n  userDetails = {}\n) => {\n  const loadBanner =\n    isPaymentTrustMsgBannerEnabled && !userDetails.isFirstTimeCustomer;\n  const type = loadBanner ? 'banner' : '';\n  const eventName = loadBanner\n    ? 'TRUST_BANNER_LOAD'\n    : 'TRUST_BANNER_REPEAT_FLAG_LOAD';\n  // Fire default event for users who land on payment page and fire event on load of payment banner as well\n  triggerEvent(eventName, {\n    custom: {\n      custom: {\n        v1: getUidx(),\n        v2: get(cartData, 'price.subTotal', 0)\n      },\n      widget: {\n        name: loadBanner\n          ? 'payment_trust_banner_repeat_users'\n          : 'payment_trust_banner_repeat_flag',\n        type\n      }\n    }\n  });\n};\n\n// 3 cases to show the banner: ab, New user, Enabled in config and URL is present\nexport const getBannerUrl = (newUserBannerConfig, userDetails, isV2Enabled) =>\n  newUserBannerConfig.enabled &&\n  userDetails.isFirstTimeCustomer &&\n  ((isV2Enabled && newUserBannerConfig.urlV2) || newUserBannerConfig.url);\n\nconst fireSavingsCalloutEvent = cartData => {\n  triggerEvent('PAYMENT_SAVINGS_CALLOUT_FLAG', {\n    custom: {\n      custom: {\n        v1: getUidx(),\n        v2: get(cartData, 'price.total', 0),\n        v3: get(cartData, 'price.totalSavings', 0)\n      },\n      widget: {\n        name: 'payment_savings_callout_flag',\n        type: 'other'\n      }\n    }\n  });\n};\n\nconst PaymentUI = props => {\n  const { stickyButton, ...restProps } = props;\n  const {\n    error,\n    cartData,\n    paymentOptions,\n    loading,\n    errorOptionNode,\n    handlePaymentAction,\n    twoFA = {},\n    disableTwoFA,\n    handleTwoFASubmit,\n    spinner,\n    bankDiscount,\n    updateDynamicStyles,\n    dynamicStyles,\n    isExchangeCart,\n    analytics,\n    errorAttribute = {},\n    setPaymentFailureAttributes,\n    setRef,\n    updateStickyButton,\n    switchTab,\n    closeTwoFA,\n    triggerWebengageEvent,\n    paymentFailureHalfCardContext,\n    paymentFailureHalfCardConfig,\n    hasExpressCheckoutAB,\n    isNewUserPaymentBannerV2Enabled,\n    offersConfig,\n    kvpairs,\n    handleAddressAction,\n    onClickHandler,\n    showSaveCardConsent,\n    paymentConfig,\n    myntraInstrumentsData\n  } = restProps;\n\n  let { addressData } = restProps;\n  const isAocV2Variant3Enabled =\n    isVariantEnabled('AOC_V2_VARIANT3') && !isExchangeCart;\n\n  const isOrderReviewEnabled = isFeatureEnabled('ORDER_REVIEW');\n\n  const {\n    paymentErrorCode,\n    paymentErrorCodeOverride,\n    cartContext,\n    updateCounter\n  } = errorAttribute;\n  const isPaymentOptionsLoading = !paymentOptions;\n\n  if (cartData && !error) {\n    const {\n      flags,\n      price,\n      shippingData,\n      coverFeeOpted,\n      userDetails,\n      coverFeeApplicableCharge,\n      products,\n      orderAddressId,\n      unifiedAddressId\n    } = cartData;\n    const isPaymentCalloutEnabled = isFeatureEnabled('PAYMENT_SAVINGS_CALLOUT');\n    fireSavingsCalloutEvent(cartData);\n\n    const address = getAddressData();\n    addressData = addressData\n      ? addressData\n      : address?.addressData?.filter(\n          add => add.id === address.selectedAddressId\n        )[0];\n\n    const { paymentConfig } = restProps;\n\n    const { instrumentData } = paymentConfig || {};\n\n    const isPaymentTrustMsgBannerEnabled = isFeatureEnabled(\n      'PAYMENT_TRUST_MSG_BANNER'\n    );\n    const selectedProducts = getSelectedProducts(products);\n    const count = getSelectedProductsCount(selectedProducts);\n\n    const outstandingAmount = currencyValue(get(cartData, 'price.total', 0));\n    const paymentTriedCount = getPaymentTriedCount();\n    const paymentErrorCodeConfig = getKVPairValue('PAYMENT_ERROR');\n\n    let showPaymentFailureHalfCard = false;\n    const codEligible =\n      get(instrumentData, `${PaymentConstants.COD}.code`) ===\n      PaymentConstants.INSTRUMENT_ELIGIBLE_CODE;\n\n    if (\n      paymentFailureHalfCardContext === 'generic_failure' &&\n      paymentTriedCount >= paymentFailureHalfCardConfig.threshold\n    ) {\n      showPaymentFailureHalfCard = true;\n    } else if (\n      paymentFailureHalfCardContext === 'dope_consent' &&\n      paymentErrorCode &&\n      codEligible &&\n      get(\n        paymentErrorCodeConfig[paymentErrorCode],\n        'dopeUserConsentEnabled'\n      ) !== false\n      // check if need to put a condition for online failure only\n    ) {\n      showPaymentFailureHalfCard = true;\n    }\n\n    const priceWithBankDiscount = {\n      ...price,\n      instruments: {\n        data: [...price.instruments.data, { name: 'bank', value: bankDiscount }]\n      }\n    };\n\n    const { value: loyaltypoints } =\n      get(price, 'instruments.data', []).find(\n        obj => obj.name === 'loyaltypoints'\n      ) || {};\n    const total = getTotal(\n      DiscountUtil.getPrice(priceWithBankDiscount),\n      getPaymentFields()\n    );\n    const totalMRP = get(cartData, 'price.mrp');\n    const PaymentModes = paymentOptions\n      ? WithStyles(Style)(PaymentOptions, {\n          mode: 'mobile',\n          LayoutClass: Accordian,\n          bankDiscount,\n          defaultSelect: false,\n          showPaymentFailureHalfCard,\n          setRef,\n          updateStickyButton,\n          switchTab,\n          setPaymentFailureAttributes,\n          triggerWebengageEvent,\n          totalPayable: total,\n          outstandingAmount,\n          orderAddressId,\n          ...restProps\n        })\n      : null;\n\n    const newUserBannerConfig = getKVPairValue(\n      'NEW_USER_DEFAULT_PAYMENT_BANNER'\n    );\n\n    const checkoutStepsParams = isFeatureEnabled('GIFTCARD_V2')\n      ? GCV2_PARAMS\n      : {};\n\n    const showBanner =\n      get(newUserBannerConfig, 'enabled') &&\n      get(userDetails, 'isFirstTimeCustomer');\n\n    const trustMsgBannerUrl = getGrowthHackConfigValue(\n      'PAYMENT_TRUST_BANNER_URL'\n    );\n\n    fireEvent(cartData, isPaymentTrustMsgBannerEnabled, userDetails);\n\n    const isExpressCheckoutEnabled = useMemo(\n      () => hasExpressCheckoutAB && !isPriorityCheckoutEnabled(cartData),\n      [cartData]\n    );\n\n    return (\n      <div className={Style.mobileContainer}>\n        <CheckoutSteps\n          currentPage={'Payment'}\n          hideSteps={\n            isExpressCheckoutEnabled || isExchangeCart || isAocV2Variant3Enabled\n          }\n          {...checkoutStepsParams}\n        />\n\n        {isPaymentTrustMsgBannerEnabled && !userDetails.isFirstTimeCustomer ? (\n          <div className={Style.bottomMargin}>\n            <Banner bannerURL={trustMsgBannerUrl} />\n          </div>\n        ) : null}\n\n        {showBanner ? (\n          <div className={Style.bottomMargin}>\n            <Banner\n              bannerURL={getBannerUrl(\n                newUserBannerConfig,\n                userDetails,\n                isNewUserPaymentBannerV2Enabled\n              )}\n            />\n          </div>\n        ) : null}\n        <SaleTimer\n          saleBannerData={kvpairs.saleBanner}\n          priceRevealData={kvpairs.priceReveal}\n          enabled={isFeatureEnabled('SALE_TIMER', { type: 'payment' })}\n        />\n        {(isOrderReviewEnabled || isAocV2Variant3Enabled) &&\n          addressData &&\n          get(cartData, 'context', '') == 'DEFAULT' && (\n            <AddressStripV2\n              mode={pageMode.MOBILE}\n              page={checkoutPage.PAYMENT}\n              addressInfo={addressData}\n              pincode={addressData.pincode}\n              history={history}\n              topPadding={isPWA() ? navigationHeader.HEIGHT : 0}\n              handleAddressAction={handleAddressAction}\n              isOrderReview={isOrderReviewEnabled}\n            />\n          )}\n        {offersConfig.enabled ? (\n          isFeatureEnabled('VISUAL_OFFER') ? (\n            <BankOffers\n              messages={offersConfig.messages}\n              currentPage={checkoutPage.PAYMENT}\n              total={total}\n              mode=\"mobile\"\n              titleInCaptital={true}\n              bankOfferTitleStyle={Style.bankOfferTitle}\n              bankOfferPillContainerStyle={Style.bankOfferPillContainer}\n            />\n          ) : (\n            <Offers\n              title={offersConfig.heading}\n              messages={offersConfig.messages}\n              defaultMessageCount={1}\n              enabled={offersConfig.messages.length > 0}\n            />\n          )\n        ) : null}\n        {isOrderReviewEnabled && get(cartData, 'context', '') == 'DEFAULT' && (\n          <OrderReview cartData={cartData} mode=\"mobile\" />\n        )}\n        <div className={`${Style.mobileLayout}`}>\n          {!isPaymentOptionsLoading &&\n            paymentErrorCode &&\n            !isEmpty(myntraInstrumentsData) && (\n              <div\n                className={\n                  !showPaymentFailureHalfCard && Style.paymentErrorBlock\n                }\n              >\n                <div ref={errorOptionNode}>\n                  <PaymentError\n                    id={PaymentConstants.PAYMENT_ERROR_OPTIONS_ID}\n                    errorAttributes={{\n                      code: paymentErrorCode,\n                      codeDisplayOverride: paymentErrorCodeOverride,\n                      cartContext,\n                      updateCounter\n                    }}\n                    analytics={analytics}\n                    mode=\"mobile\"\n                    showPaymentFailureHalfCard={showPaymentFailureHalfCard}\n                    halfCardConfig={paymentFailureHalfCardConfig}\n                    instrumentDataMap={instrumentData || []}\n                    outstandingAmount={outstandingAmount}\n                    switchTab={switchTab}\n                    totalPayable={total}\n                    {...restProps}\n                  />\n                </div>\n              </div>\n            )}\n          {isPaymentOptionsLoading ? (\n            <ShimmerPlaceholder type=\"payment\" mode=\"mobile\" />\n          ) : null}\n          {PaymentModes}\n          {twoFA.display ? (\n            <TwoFactorAuthentication\n              showSaveCardConsent={showSaveCardConsent}\n              email={twoFA.enableEmailOtp ? getProfileEmail() : ''}\n              numbers={twoFA.mobileNumbers}\n              paymentModes={twoFA.paymentModes}\n              orderAddressId={orderAddressId}\n              unifiedAddressId={unifiedAddressId}\n              close={closeTwoFA}\n              handlePaymentAction={handlePaymentAction}\n              submit={handleTwoFASubmit}\n              errorCallback={disableTwoFA}\n              mode=\"mobile\"\n            />\n          ) : null}\n          {!isPaymentOptionsLoading && (\n            <div className={Style.priceBreakUp}>\n              <PriceBlock\n                cartData={cartData}\n                price={priceWithBankDiscount}\n                count={count}\n                flags={flags}\n                getFields={getPaymentFields}\n                shippingData={shippingData}\n                coverFeeOpted={coverFeeOpted}\n                coverFeeApplicableCharge={coverFeeApplicableCharge}\n                dynamicStyles={dynamicStyles}\n                tryAndBuyOpted={getTryAndBuyOpted(products)}\n                userDetails={userDetails}\n                isPaymentCalloutEnabled={isPaymentCalloutEnabled}\n              />\n            </div>\n          )}\n          {isFeatureEnabled('CHECKOUT_INSIDER') && (\n            <InsiderRewards\n              cartData={cartData}\n              selectedProducts={selectedProducts}\n            />\n          )}\n          <MyntraValuesStrip currentPage={checkoutPage.PAYMENT} />\n          {!isPaymentOptionsLoading && (\n            <StickyButton\n              total={total}\n              text={stickyButton.text}\n              clickHandler={stickyButton.onClick || onClickHandler}\n              points={loyaltypoints}\n              enabled={stickyButton.enabled}\n              updateDynamicStyles={updateDynamicStyles}\n              currentPage={checkoutPage.PAYMENT}\n              totalMRP={totalMRP}\n              cartData={cartData}\n              isPaymentCalloutEnabled={isPaymentCalloutEnabled}\n            />\n          )}\n        </div>\n        <Loader show={loading && !isPaymentOptionsLoading} backdrop={true} />\n        <SavingsFomo\n          price={price}\n          products={selectedProducts}\n          currentPage={checkoutPage.PAYMENT}\n        />\n      </div>\n    );\n  } else if (error) {\n    return (\n      <ErrorPage\n        message={'Something went wrong. Please reload'}\n        reload={true}\n      />\n    );\n  } else {\n    return <Loader show={loading} spinner={spinner} backdrop={true} />;\n  }\n};\n\nexport default React.memo(PaymentUI);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport pick from 'lodash/pick';\n\nimport PaymentRetryUI from './PaymentRetryUI';\nimport PaymentUI from './PaymentUI';\n\nimport { getKVPairValue } from 'commonUtils/KVPairManager';\nimport {\n  isFeatureEnabled,\n  isVariantEnabled\n} from 'commonUtils/FeaturesManager';\nimport PaymentConstants from 'commonBrowserUtils/PaymentConstants';\nimport { setDocTitleInMobile } from 'commonBrowserUtils/Helper';\nimport { getGrowthHackConfigValue } from 'commonUtils/GrowthHackConfigManager';\n\nconst boundFuncs = [\n  'onClickHandler',\n  'setRef',\n  'updateStickyButton',\n  'switchTab',\n  'onClickEligibility',\n  'closeTwoFA',\n  'triggerWebengageEvent',\n  'addMyntraInstrumentsData'\n];\n\nclass Payment extends React.Component {\n  constructor(props) {\n    super(props);\n\n    boundFuncs.forEach(method => (this[method] = this[method].bind(this)));\n\n    this.state = {\n      stickyButton: {\n        text: 'PAY NOW',\n        enabled: true,\n        onClick: null\n      },\n      myntraInstrumentsData: {}\n    };\n    this.errorOptionNode = React.createRef();\n    this.paymentFailureHalfCardContext = isFeatureEnabled('DOPE_USER_CONSENT')\n      ? 'dope_consent'\n      : isFeatureEnabled('PAYMENT_FAILURE_HALFCARD')\n      ? 'generic_failure'\n      : '';\n\n    if (this.paymentFailureHalfCardContext === 'generic_failure') {\n      this.paymentFailureHalfCardConfig = getGrowthHackConfigValue(\n        'PAYMENT_FAILURE_HALFCARD_CONFIG'\n      );\n    } else if (this.paymentFailureHalfCardContext === 'dope_consent') {\n      this.paymentFailureHalfCardConfig = getKVPairValue(\n        'DOPE_CONSENT_HALFCARD_CONFIG'\n      );\n    }\n\n    this.hasExpressCheckoutAB = isFeatureEnabled('EXPRESS_CHECKOUT');\n    this.hasAocV2Variant3 = isVariantEnabled('AOC_V2_VARIANT3');\n\n    this.kvpairs = {\n      saleBanner: getKVPairValue('SALE_BANNER_DATA'),\n      priceReveal: getKVPairValue('PRICE_REVEAL_DATA'),\n      configMessage: getKVPairValue('PAYMENT_OFFER_MESSAGES'),\n      inlineOffer: isFeatureEnabled('INLINE_OFFER')\n        ? getKVPairValue('INLINE_OFFERS')\n        : {}\n    };\n\n    this.isNewUserPaymentBannerV2Enabled = isFeatureEnabled(\n      'NEW_USER_PAYMENT_BANNER_V2'\n    );\n\n    this.offersConfig = this.kvpairs.configMessage || {\n      messages: []\n    };\n\n    this.offersConfig.messages.forEach(message => {\n      message.icb &&\n        (message.link = {\n          text: message.btnText,\n          onClick: this.onClickEligibility\n        });\n    });\n\n    this.inlineOffer = this.kvpairs.inlineOffer;\n  }\n\n  addMyntraInstrumentsData(data) {\n    this.setState({\n      myntraInstrumentsData: { ...this.state.myntraInstrumentsData, ...data }\n    });\n  }\n\n  componentDidMount() {\n    setDocTitleInMobile('PAYMENT', {\n      hideStepNumber:\n        this.props.isExchangeCart ||\n        this.hasAocV2Variant3 ||\n        isFeatureEnabled('CHECKOUT_STEPS_MWEB')\n    });\n\n    if (isFeatureEnabled('GIFTCARD_V2')) {\n      triggerEvent('GIFTCARD_CONTEXT_PAYMENT');\n    }\n  }\n\n  componentDidUpdate() {\n    setDocTitleInMobile('PAYMENT', {\n      hideStepNumber:\n        this.props.isExchangeCart ||\n        this.hasAocV2Variant3 ||\n        isFeatureEnabled('CHECKOUT_STEPS_MWEB')\n    });\n  }\n\n  setRef(node) {\n    this.accordian = node;\n  }\n\n  switchTab(tabId = '', options = {}) {\n    this.accordian &&\n      this.accordian.switchTab(null, tabId, {\n        scrollIntoView: true,\n        ...options\n      });\n  }\n\n  closeTwoFA() {\n    this.props.toggleTwoFA();\n    this.accordian && this.accordian.selectDefaultTab();\n  }\n\n  updateStickyButton(newState) {\n    this.setState(prevState => ({\n      stickyButton: { ...prevState.stickyButton, ...newState }\n    }));\n  }\n\n  onClickEligibility() {\n    this.switchTab(PaymentConstants.CARD_TYPE);\n  }\n\n  getPaymentAttributes() {\n    let paymentModeSelected = '';\n    let actionButtonId = '';\n    if (this.accordian) {\n      paymentModeSelected = this.accordian.getSelected();\n    } else if (this.state.myntraInstrumentsData) {\n      paymentModeSelected = PaymentConstants.FREE_PURCHASE;\n    }\n\n    if (paymentModeSelected) {\n      actionButtonId = paymentModeSelected;\n    } else if (\n      isFeatureEnabled('RECOMMENDED_OPTIONS') &&\n      this.props.payMode !== 'retry'\n    ) {\n      actionButtonId = PaymentConstants.RECOMMENDED_INSTRUMENT;\n    } else {\n      actionButtonId = PaymentConstants.SAVED_INSTRUMENT;\n    }\n\n    const paymentModeAction = document.getElementById(\n      `action-${actionButtonId}`\n    );\n    return { paymentModeSelected, paymentModeAction };\n  }\n\n  triggerWebengageEvent(data) {\n    const {\n      paymentModeSelected,\n      paymentModeAction\n    } = this.getPaymentAttributes();\n    this.props.analytics('triggerWebengage')('PAYMENT_VIEWED', {\n      ...data,\n      state_of_pay_now_cta: get(paymentModeAction, 'attributes.disabled')\n        ? 'inactive'\n        : 'active',\n      paymentMode: paymentModeSelected || 'savedcard'\n    });\n  }\n\n  onClickHandler() {\n    if (this.props.payMode === 'retry' && !this.props.retrySessionEnabled) {\n      return;\n    }\n\n    const { paymentModeAction } = this.getPaymentAttributes();\n    if (paymentModeAction) {\n      paymentModeAction.click();\n    } else {\n      SHELL.alert('info', {\n        message: 'Select a valid payment option to place order.',\n        styleOverrides: {\n          notifyMainDiv: `bottom: 82px;`\n        }\n      });\n    }\n  }\n\n  render() {\n    const {\n      state: { stickyButton },\n      errorOptionNode,\n      paymentFailureHalfCardContext,\n      paymentFailureHalfCardConfig,\n      hasExpressCheckoutAB,\n      isNewUserPaymentBannerV2Enabled,\n      kvpairs,\n      inlineOffer,\n      offersConfig,\n      addMyntraInstrumentsData\n    } = this;\n\n    if (this.props.payMode === 'retry') {\n      return (\n        <PaymentRetryUI\n          {...this.props}\n          {...this.state}\n          addMyntraInstrumentsData={addMyntraInstrumentsData}\n          errorOptionNode={errorOptionNode}\n          paymentFailureHalfCardContext={paymentFailureHalfCardContext}\n          stickyButton={stickyButton}\n          offersConfig={offersConfig}\n          inlineOffer={inlineOffer}\n          {...pick(this, boundFuncs)}\n        />\n      );\n    } else {\n      return (\n        <PaymentUI\n          {...this.props}\n          {...this.state}\n          addMyntraInstrumentsData={addMyntraInstrumentsData}\n          errorOptionNode={errorOptionNode}\n          paymentFailureHalfCardContext={paymentFailureHalfCardContext}\n          paymentFailureHalfCardConfig={paymentFailureHalfCardConfig}\n          hasExpressCheckoutAB={hasExpressCheckoutAB}\n          isNewUserPaymentBannerV2Enabled={isNewUserPaymentBannerV2Enabled}\n          stickyButton={stickyButton}\n          kvpairs={kvpairs}\n          offersConfig={offersConfig}\n          inlineOffer={inlineOffer}\n          {...pick(this, boundFuncs)}\n        />\n      );\n    }\n  }\n}\n\nPayment.propTypes = {\n  loading: PropTypes.bool,\n  error: PropTypes.object,\n  cartData: PropTypes.object\n};\n\nexport default Payment;\n","import React from 'react';\n\nexport default styles => (Component, props = {}) => (\n  <Component styles={styles} {...props} />\n);\n","const defautlMAPayloadForWeb = {\n  maData: {\n    entity_optional_attributes: {}\n  },\n  custom: {\n    widget_items: {\n      data_set: {\n        data: []\n      }\n    }\n  }\n};\n\nmodule.exports = defautlMAPayloadForWeb;\n"],"sourceRoot":""}