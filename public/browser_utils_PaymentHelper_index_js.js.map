{"version":3,"sources":["webpack:///./browser/utils/JSBridgeHelper.js","webpack:///./browser/utils/PaymentConstants.js","webpack:///./browser/utils/PaymentHelper/index.js","webpack:///./browser/utils/WkPromiseHandler/index.js"],"names":[],"mappings":"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","file":"browser_utils_PaymentHelper_index_js.js","sourcesContent":["import { isMyntAppEnabled, isWebkitEnabled } from 'commonBrowserUtils/Helper';\nimport wkPromiseHandler from 'commonBrowserUtils/WkPromiseHandler';\nimport { getKVPairValue } from 'commonUtils/KVPairManager';\n\nexport const AndroidBridgeHelper = {\n  recordOrderComplete: (...data) => {\n    return (\n      isMyntAppEnabled(['recordOrderComplete']) &&\n      MyntApp.recordOrderComplete(...data)\n    );\n  },\n  autofillEnabled: () => {\n    return (\n      (isMyntAppEnabled(['startSmsReceiver']) ||\n        isMyntAppEnabled(['startSmsReceiverV1'])) &&\n      isMyntAppEnabled(['stopSmsReceiver', 'getAppVersion']) &&\n      MyntApp.getAppVersion()\n        .toString()\n        .slice(-6) >= 110197\n    );\n  },\n  startSmsReceiver: field => {\n    return (\n      isMyntAppEnabled(['getAppVersion']) &&\n      MyntApp.getAppVersion()\n        .toString()\n        .slice(-6) >= 110197 &&\n      (isMyntAppEnabled(['startSmsReceiverV1'])\n        ? MyntApp.startSmsReceiverV1(field)\n        : isMyntAppEnabled(['startSmsReceiver']) && MyntApp.startSmsReceiver())\n    );\n  },\n  stopSmsReceiver: () => {\n    return (\n      isMyntAppEnabled(['stopSmsReceiver', 'getAppVersion']) &&\n      MyntApp.getAppVersion()\n        .toString()\n        .slice(-6) >= 110197 &&\n      MyntApp.stopSmsReceiver()\n    );\n  },\n  getAllInstalledUPIApps: () => {\n    const packageMap = getKVPairValue('UPI_CONFIG').upiPackageMap;\n    let installedAppsConfig = isMyntAppEnabled(['getAllInstalledUPIApps'])\n      ? MyntApp.getAllInstalledUPIApps()\n      : '{}';\n    let installedApps = [];\n    let upiSDKEnabled = false;\n\n    try {\n      installedAppsConfig = JSON.parse(installedAppsConfig);\n      if (installedAppsConfig.apps) {\n        installedApps = installedAppsConfig.apps.map(\n          app => packageMap[app.package_name] || app.package_name\n        );\n      }\n      upiSDKEnabled = installedAppsConfig.upiSDKEnabled;\n    } catch (err) {}\n\n    return {\n      installedApps,\n      upiSDKEnabled\n    };\n  },\n  getSupportedUPIPg: () => {\n    let supportedPG = isMyntAppEnabled(['getSupportedPG'])\n      ? MyntApp.getSupportedPG()\n      : '[]';\n    return supportedPG;\n  },\n  openAppSettings: () => {\n    return isMyntAppEnabled(['openAppSettings']) && MyntApp.openAppSettings();\n  },\n  onRewardFlowDone: (...data) => {\n    return (\n      isMyntAppEnabled(['onRewardFlowDone']) &&\n      MyntApp.onRewardFlowDone(...data)\n    );\n  }\n};\n\nexport const IOSBridgeHelper = {\n  recordOrderComplete: data => {\n    return (\n      isWebkitEnabled(['recordOrderComplete']) &&\n      webkit.messageHandlers.recordOrderComplete.postMessage(data)\n    );\n  },\n\n  openAppSettings: () => {\n    return (\n      isWebkitEnabled(['openAppSettings']) &&\n      webkit.messageHandlers.openAppSettings.postMessage({})\n    );\n  },\n\n  onRewardFlowDone: data => {\n    return (\n      isWebkitEnabled(['onRewardFlowDone']) &&\n      webkit.messageHandlers.onRewardFlowDone.postMessage(data)\n    );\n  },\n\n  getAllInstalledUPIAppsPromise: () => {\n    return new Promise(resolve => {\n      wkPromiseHandler\n        .callWKHandler(['getAllInstalledUPIApps'])\n        .then(({ apps, upiSDKEnabled }) => {\n          if (apps) {\n            resolve({\n              installedApps: (apps.filter(app => app.status) || []).map(\n                app => app.appName\n              ),\n              upiSDKEnabled: !!upiSDKEnabled\n            });\n          } else {\n            resolve({\n              installedApps: [],\n              upiSDKEnabled: false\n            });\n          }\n        })\n        .catch(() => {\n          resolve({\n            installedApps: [],\n            upiSDKEnabled: false\n          });\n        });\n    });\n  }\n};\n","const currentYear = new Date().getFullYear();\nconst years = [...Array(30).fill()].map((_, index) => currentYear + index);\n\nconst PAYMENT_INSTRUMENT = {\n  COD: 'cod',\n  SAVED_INSTRUMENT: 'savedinstrument',\n  RECOMMENDED_INSTRUMENT: 'recommendedInstrument',\n  SAVED_CARD: 'savedcard',\n  SAVED_VPA: 'savedvpa',\n  MYNTRA_CREDIT: 'myntraCredit',\n  FREE_PURCHASE: 'myntracredit',\n  LOYALTY_POINTS: 'loyalitypoints',\n  GIFTCARD: 'giftcard',\n  UPI: 'upi',\n  EMI: 'emi',\n  NETBANKING: 'netbanking',\n  PAY_LATER: 'paylater',\n  WALLET: 'wallet',\n  CARD_TYPE: 'card',\n  VPA: 'vpa'\n};\n\nconst LOW_SR_FILTER_EXCLUSIONS = [\n  PAYMENT_INSTRUMENT.UPI,\n  PAYMENT_INSTRUMENT.WALLET,\n  PAYMENT_INSTRUMENT.RECOMMENDED_INSTRUMENT,\n  PAYMENT_INSTRUMENT.SAVED_INSTRUMENT\n];\n\nexport default {\n  LOW_SR_FILTER_EXCLUSIONS,\n  ...PAYMENT_INSTRUMENT,\n  INSTRUMENT_ELIGIBLE_CODE: 3000,\n  INSTRUMENT_NOT_ELIGIBLE_CODE: 3001,\n  SAVEDCARD_LIMIT_REACHED_CODE: 3020,\n  SAVING_CARD_NOT_ALLOWED_CODE: 3019,\n  RETURN_ABUSER_CODE: 3009,\n  EMI_PM: 'netbanking',\n  EMI_PM_NAME: 'emi',\n  EMI_TYPE: 'emi',\n  PHONEPE_UPI_PM: 'netbanking',\n  BNPL_NO_PROVIDER_DATA: 20001,\n  BNPL_NO_ACTIVE_ACCOUNT: 20002,\n  BNPL_USER_NOT_ELIGIBLE: 20003,\n  BNPL_PROVIDER_DATA_INCOMPLETE: 20004,\n  BNPL_ERROR_RESPONSE_FROM_PROVIDER: 20005,\n  BNPL_USER_NOT_WHITELISTED: 20006,\n  ONLINE_ERROR_CODES: ['1001'],\n  WALLET_TYPE: 'wallet',\n  WALLET_TAB_TYPE: 'walletTab',\n  WALLET_PM: 'netbanking',\n  WALLET_PM_DIRECT: 'wallet',\n  WALLET_PM_NAME: 'wallet',\n  CREDIT_CARD: 'creditcard',\n  DEBIT_CARD: 'debitcard',\n  CAPTCHA_CHARACTER_LENGTH: 4,\n  AVAILABLE_CARD_IMAGES: [\n    'VISA',\n    'MASTERCARD',\n    'AMEX',\n    'MAESTRO',\n    'DINERS',\n    'RUPAY',\n    'DISCOVER'\n  ],\n  PAYMENT_ERROR_OPTIONS_ID: 'PAYMENT_ERROR_OPTIONS_ID',\n  EXPIRY_EXEMPTED_CARDS: ['MAESTRO', 'NONE'],\n  AUTO_SUBMIT_TAB_TYPE: 'autoSubmitTab',\n  BANK_MESSAGE_MAP: {\n    '11005': 'This card is not eligible for instant discount',\n    '11001': 'This card is not eligible for instant discount',\n    '11002':\n      'Max discount limit reached for this card. If your recent payment transaction has failed, please try after 30 minutes',\n    '11006': 'Please add more items for min order value to avail the benefits'\n  },\n  MONTHS: [\n    'JAN',\n    'FEB',\n    'MAR',\n    'APR',\n    'MAY',\n    'JUN',\n    'JUL',\n    'AUG',\n    'SEP',\n    'OCT',\n    'NOV',\n    'DEC'\n  ],\n  YEARS: years,\n  OTP_SERVICE_THRESHOLD: 3,\n  SAVE_CARDS_INFO_MAP: {\n    '3019': 'We have temporarily disabled saving cards',\n    '3020':\n      'You have already saved the maximum number of cards allowed. Please delete some cards to save newer cards.'\n  },\n  BANK_MAP: {\n    citibank: 'citi',\n    'hdfc bank': 'hdfc',\n    'icici bank': 'icici',\n    'state bank of india': 'sbi',\n    'axis bank': 'axis',\n    kotak: 'kotak',\n    sbi: 'sbi',\n    'standard chartered bank': 'stanc',\n    stanc: 'stanc',\n    'airtel money': 'airtel',\n    paypal: 'paypal',\n    payzapp: 'payzapp',\n    mobikwik: 'mobikwik',\n    paytm: 'paytm',\n    freecharge: 'freecharge',\n    'google pay': 'googlepay',\n    phonepeupi: 'phonepeupi',\n    'other upi': 'otherupi',\n    phonepe: 'phonepe'\n  },\n  TWO_FA_PAYMENT_MODE_MAPPING: {\n    mc: 'MYNTRACREDIT',\n    lp: 'LOYALTYPOINTS'\n  },\n  PAYNOW_TEMPLATE_CODE: {\n    HTML_TEMPLATE: 100,\n    REDIRECT_TEMPLATE: 101,\n    PHONEPE_JS_TEMPLATE: 102,\n    PHONEPE_ANDROID_TEMPLATE: 103,\n    ORDER_SUCCESS_TEMPLATE: 104,\n    ERROR_TEMPLATE: 105\n  },\n  PAYNOW_ERROR_CODE: {\n    DEFAULT_PAYMENT_FAILURE_ERROR_CODE: 1001\n  },\n  INSTRUMENT_LOADING_MESSAGE: {\n    [PAYMENT_INSTRUMENT.NETBANKING]: 'Connecting with Bank',\n    [PAYMENT_INSTRUMENT.EMI]: 'Getting EMI Options',\n    [PAYMENT_INSTRUMENT.UPI]: 'Processing UPI Payment',\n    [PAYMENT_INSTRUMENT.WALLET]: 'Opening Wallet',\n    [PAYMENT_INSTRUMENT.COD]: 'Placing Order',\n    [PAYMENT_INSTRUMENT.CARD_TYPE]: 'Connecting with Bank',\n    [PAYMENT_INSTRUMENT.VPA]: 'Processing UPI Payment'\n  },\n  FAILURE_BUTTON_TEXT_MAP: {\n    TRY_RETRY_TEXT: 'RETRY',\n    TRY_OTHER_TEXT: 'TRY OTHER PAYMENT OPTION',\n    TRY_COD_TEXT: 'PLACE ORDER AS PAY ON DELIVERY'\n  },\n  CHARGES_FOR_PLUTUS: {\n    shipping: true,\n    giftwrap: true,\n    cod: true,\n    coverfee: true,\n    trynbuy: true,\n    donation: true\n  }\n};\n","import get from 'lodash/get';\nimport { getKVPairValue } from 'commonUtils/KVPairManager';\nimport { isGiftcardContext } from 'commonUtils/helper';\nimport {\n  sessionStorageKeys,\n  localStorageKeys,\n  cookieKeys\n} from 'commonUtils/constants';\nimport {\n  isSessionStorageEnabled,\n  isLocalStorageEnabled,\n  getUidx,\n  isLoggedIn,\n  isAndroidApp,\n  navigateTo,\n  isIOSApp,\n  getProfileEmail,\n  getCookie,\n  setCookie,\n  getDateDiff\n} from 'commonBrowserUtils/Helper';\nimport PaymentConstants from 'commonBrowserUtils/PaymentConstants';\nimport {\n  AndroidBridgeHelper,\n  IOSBridgeHelper\n} from 'commonBrowserUtils/JSBridgeHelper';\n\nconst {\n  RECOMMENDED_INSTRUMENT,\n  COD,\n  SAVED_INSTRUMENT,\n  CREDIT_CARD,\n  DEBIT_CARD,\n  UPI,\n  NETBANKING,\n  EMI_TYPE,\n  WALLET_TYPE,\n  GIFTCARD,\n  PAY_LATER\n} = PaymentConstants;\nimport { isFeatureEnabled } from 'commonUtils/FeaturesManager';\n\nconst getPaymentLoginUrl = obj => {\n  let paymentUrl = `/login?referer=/checkout/payment&force=${get(\n    obj,\n    'force'\n  ) || ''}`;\n  if (isGiftcardContext()) {\n    paymentUrl = `${paymentUrl}&cartContext=egiftcard`;\n  }\n  return paymentUrl;\n};\n\nconst getCodFallbackResponse = () => {\n  return {\n    paymentInstrumentDetails: [\n      {\n        type: 'cod',\n        message: 'Instrument is Eligible',\n        code: 3000,\n        paymentInstrumentDetails: {\n          lowSROptions: null,\n          paymentUrl: get(getKVPairValue('COD_FALLBACK_CONFIG'), 'urlV3'),\n          data: [\n            {\n              cashOnly: false,\n              firstTimeUser: false,\n              minCOD: null,\n              maxCOD: null\n            }\n          ],\n          enable2fa: false\n        }\n      }\n    ]\n  };\n};\n\nconst getPaymentFailureCount = () => {\n  let failureCount = {};\n  if (isSessionStorageEnabled()) {\n    try {\n      failureCount =\n        JSON.parse(\n          sessionStorage.getItem(\n            sessionStorageKeys.PAYMENT_ONLINE_FAILURE_COUNT\n          )\n        ) || {};\n    } catch (e) {\n      failureCount = {};\n    }\n  }\n\n  return failureCount[getUidx()] || '0';\n};\n\nconst redirectToPayment = () => {\n  const paymentUrl = '/checkout/payment';\n  const redirectionUrl = isLoggedIn()\n    ? paymentUrl\n    : `/login?referer=${paymentUrl}`;\n  navigateTo(redirectionUrl);\n};\n\nconst getInstrumentTwoFAData = paymentInstrumentDetails => {\n  const { enable2fa, enableEmailOTP, phoneNumbers = [] } =\n    paymentInstrumentDetails || {};\n  const phoneNumbersAvailable = phoneNumbers && phoneNumbers.length > 0;\n  const emailAvailable = !!getProfileEmail();\n  const enable =\n    enable2fa &&\n    (phoneNumbersAvailable || (enableEmailOTP ? emailAvailable : false));\n\n  return {\n    enable,\n    enableEmailOtp: enableEmailOTP,\n    mobileNumbers: phoneNumbers\n  };\n};\n\nconst getInstrumentData = (paymentOptions = {}, option) =>\n  get(paymentOptions, 'paymentInstrumentDetails', []).find(\n    info => info.type === option\n  );\n\nconst getPaymentTriedCount = () => {\n  if (isLocalStorageEnabled()) {\n    return +localStorage.getItem(localStorageKeys.PAYMENT_TRIED_COUNT) || 0;\n  }\n  return 0;\n};\n\nconst resetPaymentRetrySession = () => {\n  if (\n    (isFeatureEnabled('PAYMENT_FAILURE_HALFCARD') ||\n      isFeatureEnabled('DOPE_USER_CONSENT')) &&\n    isLocalStorageEnabled()\n  ) {\n    localStorage.removeItem(localStorageKeys.PAYMENT_TRIED_COUNT);\n    localStorage.removeItem(localStorageKeys.PAYMENT_MODE_ATTRIBUTES);\n  }\n};\nconst getWalletTabs = walletData =>\n  (get(walletData, 'paymentInstrumentDetails.data', []) || []).filter(\n    wallet => wallet.directDisplay\n  );\n\nconst getPaymentConfig = paymentOptions => {\n  const paymentConfig = {};\n  const instrumentList = [\n    COD,\n    SAVED_INSTRUMENT,\n    DEBIT_CARD,\n    CREDIT_CARD,\n    NETBANKING,\n    UPI,\n    GIFTCARD,\n    EMI_TYPE,\n    WALLET_TYPE,\n    PAY_LATER\n  ];\n\n  paymentConfig.instrumentData = instrumentList.reduce((acc, type) => {\n    acc[type] = getInstrumentData(paymentOptions, type);\n    return acc;\n  }, {});\n\n  paymentConfig.instrumentData[RECOMMENDED_INSTRUMENT] =\n    paymentOptions.recommendedPaymentInstrumentDetails;\n\n  paymentConfig.savedInstruments =\n    get(\n      paymentConfig.instrumentData[SAVED_INSTRUMENT],\n      'paymentInstrumentDetails.data',\n      []\n    ) || [];\n\n  const BNPLInstrumentData = (\n    get(\n      paymentConfig,\n      `instrumentData.${PAY_LATER}.paymentInstrumentDetails.data`\n    ) || []\n  ).find(paymentType => paymentType.id === 1);\n\n  const BNPLPaymentUrl = get(\n    paymentConfig,\n    `instrumentData.${PAY_LATER}.paymentInstrumentDetails.paymentUrl`\n  );\n\n  paymentConfig.instrumentData.BNPL = {\n    ...BNPLInstrumentData,\n    paymentUrl: BNPLPaymentUrl\n  };\n\n  paymentConfig.walletConfig = {\n    walletTabs: getWalletTabs(paymentConfig.instrumentData[WALLET_TYPE])\n  };\n\n  return paymentConfig;\n};\n\nconst createUrlWithQueryParams = (url = '', params = {}) => {\n  let redirectUrl = url || '';\n  const queryParamRegex = new RegExp('A?[^&]*=[^&]*');\n  let isFirstQueryParam = url && !queryParamRegex.test(url);\n  let isUrlParamsSeparatorRequired =\n    url && isFirstQueryParam && url[url.length - 1] !== '?';\n\n  for (const key in params) {\n    if (isFirstQueryParam) {\n      if (isUrlParamsSeparatorRequired) {\n        redirectUrl += `?${key}=${params[key]}`;\n        isUrlParamsSeparatorRequired = false;\n      } else {\n        redirectUrl += `${key}=${params[key]}`;\n      }\n      isFirstQueryParam = false;\n    } else {\n      redirectUrl += `&${key}=${params[key]}`;\n    }\n  }\n\n  return redirectUrl;\n};\n\nconst getInstalledAppsPromise = () => {\n  if (isAndroidApp()) {\n    return Promise.resolve(AndroidBridgeHelper.getAllInstalledUPIApps());\n  } else if (isIOSApp()) {\n    return new Promise(resolve => {\n      IOSBridgeHelper.getAllInstalledUPIAppsPromise().then(resolve);\n    });\n  } else {\n    return Promise.resolve({ installedApps: [], upiSDKEnabled: false });\n  }\n};\n\nconst getUPISupportedPgPromise = () => {\n  if (isAndroidApp()) {\n    return Promise.resolve(AndroidBridgeHelper.getSupportedUPIPg());\n  }\n  return Promise.resolve('[]');\n};\n\nconst isTwoFAEnabled = props => {\n  const {\n    instrumentData: { type } = {},\n    myntraInstrumentsData,\n    twoFA,\n    twoFAResponse: { userActions } = {}\n  } = props;\n  let enable2fa = get(get(userActions, type, [])[0], 'value') || false;\n  enable2fa =\n    enable2fa ||\n    (get(get(userActions, 'myntraCredit', [])[0], 'value', false) &&\n      get(myntraInstrumentsData, 'twofa_mc_data.enable'));\n  enable2fa =\n    enable2fa ||\n    (get(get(userActions, 'loyaltyPoint', [])[0], 'value', false) &&\n      get(myntraInstrumentsData, 'twofa_lp_data.enable'));\n  return !twoFA.disabled && enable2fa;\n};\n\nconst getRetryGCappliedValue = (balance, outstanding) => {\n  return balance > outstanding ? outstanding : balance;\n};\n\nconst consolidatePriceInstruments = (\n  priceInstrumentsData = [],\n  additionalInstruments\n) => {\n  let instruments = priceInstrumentsData.reduce((acc, instrument) => {\n    const additionalValue = additionalInstruments[instrument.name] || 0;\n    acc.push({\n      name: instrument.name,\n      value: instrument.value + additionalValue\n    });\n    delete additionalInstruments[instrument.name];\n    return acc;\n  }, []);\n\n  Object.keys(additionalInstruments).forEach(instrumentKey => {\n    instruments.push({\n      name: instrumentKey,\n      value: additionalInstruments[instrumentKey]\n    });\n  });\n\n  return instruments;\n};\n\nconst showTokenizationConsent = isAutoConsentFlow => {\n  const savedCardConsentInfo = getKVPairValue('SAVED_CARD_CONSENT');\n  const count = get(savedCardConsentInfo, 'consentCardCapping.count') || 2;\n  const frequency =\n    get(savedCardConsentInfo, 'consentCardCapping.frequency') || 7;\n  const Saved_Card_Consent_Cookie_Expiry = 3600 * 24 * frequency * 1000;\n  let consentCount = getCookie(cookieKeys.SAVED_CARD_CONSENT_COUNT);\n  const consentCountCookieDateValue = getCookie(\n    cookieKeys.SAVED_CARD_CONSENT_DATE\n  );\n  const consentCountCookieDate = new Date(\n    consentCountCookieDateValue ? consentCountCookieDateValue : null\n  );\n  const currentDate = new Date();\n  let isAutoConsentUnchecked = false;\n\n  if (isAutoConsentFlow) {\n    isAutoConsentUnchecked = true;\n    //check if cookie does not exists or needs to be reset\n    if (\n      typeof consentCount === 'undefined' ||\n      typeof consentCountCookieDateValue === 'undefined' ||\n      getDateDiff(consentCountCookieDate.getTime(), currentDate.getTime()) >\n        frequency\n    ) {\n      setCookie(\n        cookieKeys.SAVED_CARD_CONSENT_COUNT,\n        1,\n        Saved_Card_Consent_Cookie_Expiry\n      );\n      let date = new Date();\n      setCookie(\n        cookieKeys.SAVED_CARD_CONSENT_DATE,\n        date,\n        Saved_Card_Consent_Cookie_Expiry\n      );\n      consentCount = 1;\n    } else {\n      setCookie(\n        cookieKeys.SAVED_CARD_CONSENT_COUNT,\n        parseInt(consentCount) + 1,\n        Saved_Card_Consent_Cookie_Expiry\n      );\n    }\n  }\n  if (isAutoConsentUnchecked) {\n    return consentCount < count;\n  }\n  return true;\n};\n\nconst getEmiEligibility = code => {\n  const emiEligibilityCodeConfig =\n    getKVPairValue('EMI_ELIGIBILITY_CODE')[code] ||\n    getKVPairValue('EMI_ELIGIBILITY_CODE').default;\n  const isEligible = get(emiEligibilityCodeConfig, 'eligible');\n  return isEligible;\n};\n\nconst getOfferString = numberOfOffers => {\n  let offerString = '';\n  switch (numberOfOffers) {\n    case 0:\n      break;\n    case 1:\n      offerString = '1 Offer';\n      break;\n    default:\n      offerString = numberOfOffers + ' Offers';\n  }\n  return offerString;\n};\n\nconst addOffersToInstrumentDetails = (offer, instrumentData) => {\n  const instrumentDetails = get(\n    instrumentData,\n    'paymentInstrumentDetails.data',\n    ''\n  );\n  if (!offer || !instrumentDetails) return;\n  offer.forEach(off => {\n    instrumentDetails.forEach(data => {\n      if (off.bankCode.toLowerCase() == data.bankCode.toLowerCase())\n        data.offerDetails = off.offerDetails;\n    });\n  });\n};\n\nconst inlineOfferWidgetLoadEvent = (instrument, appName, isOfferPresent) => {\n  triggerEvent('INLINE_OFFER_WIDGET_LOAD', {\n    custom: {\n      custom: {\n        v1: instrument,\n        v2: appName,\n        v3: isOfferPresent\n      }\n    }\n  });\n};\n\nexport {\n  getPaymentFailureCount,\n  getCodFallbackResponse,\n  getPaymentLoginUrl,\n  redirectToPayment,\n  getInstrumentTwoFAData,\n  getInstrumentData,\n  getWalletTabs,\n  getPaymentConfig,\n  getPaymentTriedCount,\n  resetPaymentRetrySession,\n  getInstalledAppsPromise,\n  getUPISupportedPgPromise,\n  isTwoFAEnabled,\n  createUrlWithQueryParams,\n  getRetryGCappliedValue,\n  consolidatePriceInstruments,\n  showTokenizationConsent,\n  getEmiEligibility,\n  getOfferString,\n  addOffersToInstrumentDetails,\n  inlineOfferWidgetLoadEvent\n};\n","import { isWebkitEnabled } from 'commonBrowserUtils/Helper';\n// object for storing references to our promise-objects\nconst promises = {};\n\n// generates a unique id, not obligator a UUID\nconst generateUUID = () => {\n  let date = new Date().getTime();\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, char => {\n    const rand = (date + Math.random() * 16) % 16 | 0;\n    date = Math.floor(date / 16);\n    return (char === 'x' ? rand : (rand & 0x3) | 0x8).toString(16);\n  });\n};\n\n// this function is called by native methods\n// @param promiseId - id of the promise stored in global variable promises\nwindow.resolveWKPromise = (promiseId, data, error) => {\n  const promise = promiseId && promises[promiseId];\n  if (error) {\n    promise && promise.reject(new Error(error));\n  } else {\n    promise && promise.resolve(data);\n  }\n  // remove reference to stored promise\n  delete promises[promiseId];\n};\n\n/*\n    usage:-\n    import { callWKHandler } from 'commonBrowserUtils/WkPromiseHandler';\n\n    callWKHandler(['anyHandlerName'], { a, b })\n    .then((data) => {\n      // hurray! play with data\n    });\n    .catch((error) => {\n      // sad life\n    })\n*/\n\nconst callWKHandler = (handler = [''], message = {}) =>\n  new Promise((resolve, reject) => {\n    // we generate a unique id to reference the promise later\n    // from native function\n    const promiseId = wkPromiseHandler.generateUUID();\n    // save reference to promise in the global variable\n    promises[promiseId] = { resolve, reject };\n\n    // call native IOS function\n    if (isWebkitEnabled(handler)) {\n      webkit.messageHandlers[handler[0]].postMessage({\n        promiseId,\n        ...message\n      });\n    } else {\n      delete promises[promiseId];\n      reject(new Error('Webkit Handler not found'));\n    }\n  });\n\nconst wkPromiseHandler = {\n  callWKHandler,\n  generateUUID\n};\n\nexport default wkPromiseHandler;\n"],"sourceRoot":""}