{"version":3,"sources":["webpack:///../node_modules/@myntra/m-comp/react/SVGIcon/SavingsPiggyBank.jsx","webpack:///./browser/components/confirmation/common/PastOrderSavingsModule/index.js"],"names":[],"mappings":"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","file":"confirmation_common_cardComponents_pastOrderSavingsModule.js","sourcesContent":["import React from \"react\";\n\nconst SavingsPiggyBank = props => (\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"65\" height=\"52\" viewBox=\"0 0 65 52\" {...props}>\n    <g fill=\"none\" fill-rule=\"evenodd\">\n        <g>\n            <g>\n                <path fill=\"#C8A069\" d=\"M14.832 42.232c0 1.362-2.56 2.467-5.716 2.467S3.4 43.594 3.4 42.232c0-1.363 2.559-2.468 5.715-2.468 3.157 0 5.716 1.105 5.716 2.468\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#F9D482\" d=\"M14.767 41.444c0 1.268-2.475 2.296-5.527 2.296s-5.527-1.028-5.527-2.296c0-1.27 2.475-2.297 5.527-2.297s5.527 1.028 5.527 2.297\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#DF9C54\" d=\"M10.543 42.002H7.937c-.26 0-.471-.211-.471-.471v-.282c0-.26.21-.47.47-.47h2.607c.26 0 .471.21.471.47v.282c0 .26-.21.47-.47.47\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#176F5E\" d=\"M47.63 40.254c6.503.822 11.055 3.288 11.055 4.932 0 6.317-39.723 7.792-39.662-.11.051-6.578 26.573-5.08 28.607-4.822\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#D96F6C\" d=\"M22.99 45.455c-1.234-.425-.773-2.045-.298-3.594.475-1.55.354-2.424.354-2.424.145-.994 5.698-.894 6.074.416l-1.495 2.459c-1.693 2.902-2.158 3.502-4.635 3.143\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#F38C85\" d=\"M38.038 7.353c-5.928 0-10.563 1.685-14.436 5.116-.448.397-.893.92-1.461.73-2.193-.73-3.655-1.34-3.655.366 0 1.462.133 2.702.758 3.63-1.649 2.668-2.585 5.727-2.585 8.978 0 10.394 9.571 18.82 21.379 18.82 11.807 0 21.378-8.426 21.378-18.82s-9.571-18.82-21.378-18.82\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#D0645A\" d=\"M27.298 31.655c0 2.926-2.574 5.299-5.749 5.299S15.8 34.58 15.8 31.655c0-2.927 2.574-5.299 5.75-5.299 3.174 0 5.748 2.372 5.748 5.299\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#F38C85\" d=\"M27.365 46.972c-1.614-.555-1.227-2.201-.814-3.771.412-1.57.153-2.493.153-2.493.063-1.023 7.108-.409 7.743.99l-1.594 2.425c-1.791 2.869-2.307 3.451-5.488 2.85M54.65 45.607l-2.236.57c-1.038.128-2.134-.506-2.716-1.88l-1.61-4.022c-.3-1.382 5.481-4.442 5.481-4.442 1.471-.241 2.193-.635 1.282 2.282-.65 2.08.337 3.479.644 5.232.3 1.383.112 1.972-.845 2.26\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#563B39\" d=\"M26.486 23.128c-.06.646.183 1.56-.815 1.59-.91.026-.997-.81-.996-1.513 0-.667-.104-1.54.862-1.585 1.01-.048.873.842.95 1.508M21.37 21.666c-.06.647.183 1.56-.815 1.59-.91.027-.997-.81-.997-1.513.001-.667-.103-1.54.862-1.585 1.01-.048.873.843.95 1.508\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#F38C85\" d=\"M25.106 31.655c0 2.926-2.382 5.299-5.32 5.299s-5.32-2.373-5.32-5.299c0-2.927 2.382-5.299 5.32-5.299s5.32 2.372 5.32 5.299\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#D0645A\" d=\"M22.14 31.92c0 .543-.476.982-1.064.982-.588 0-1.064-.439-1.064-.981s.476-.981 1.064-.981c.588 0 1.065.439 1.065.98M17.661 30.793c0 .476-.419.862-.935.862s-.935-.386-.935-.862c0-.477.419-.862.935-.862s.935.385.935.862\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#D0625A\" d=\"M29.45 16.123c.365-3.289 3.59-1.526 5.847.731 1.096 1.097-3.483 3.68-4.491 3.458-1.565-.344-1.722-.9-1.357-4.189\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#F38C85\" d=\"M57.896 26.464c-.136-.806-.47-1.61-.028-2.422.806.567 1.67.282 2.491.107 1.382-.295 2.117.164 2.156 1.612l-.141.168.127-.18c1.564.23 1.474 1.565.892 2.209-.92 1.017-2.295 1.555-3.534.157-.577-.643-1.312-1.097-1.963-1.65\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#D0625A\" d=\"M43.272 10.345c-1.923-.417-4.738-.808-8.41.229-.667.188-2.206-.21-.348-1.103 2.21-1.06 6.601-1.354 8.782-.587 1.09.383 1.797 1.856-.024 1.461\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#C8A069\" d=\"M43.116 6.927c-.007.374-.055.738-.14 1.085-.043.178-.096.353-.158.521-.052.138-.111.277-.173.412-.216.447-.495.857-.828 1.212-.13-.021-.262-.04-.397-.055-1.313-.171-2.924-.211-4.822.166-.353.067-.719.154-1.091.254-.285-.24-.54-.516-.756-.817-.308-.42-.55-.895-.707-1.404-.148-.48-.225-.995-.217-1.525.04-2.42 1.825-4.385 4.104-4.66.202-.027.408-.036.62-.033 2.565.042 4.607 2.21 4.565 4.844\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#F9D482\" d=\"M43.334 6.526c-.008.527-.11 1.03-.283 1.497-.069.175-.145.346-.233.51-.072.135-.15.266-.239.394-.309.459-.703.86-1.159 1.174-1.313-.17-2.923-.21-4.822.167-.41-.242-.78-.55-1.089-.91-.319-.363-.574-.774-.759-1.225-.224-.54-.34-1.132-.33-1.752.035-2.1 1.531-3.837 3.51-4.265.33-.071.668-.105 1.02-.1 2.462.04 4.424 2.061 4.384 4.51\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n                <path fill=\"#DF9C54\" d=\"M38.873 8.748c-.576-.009-1.036-.484-1.027-1.06l.041-2.498c.01-.577.484-1.037 1.06-1.028.577.01 1.037.485 1.028 1.061l-.041 2.498c-.01.577-.484 1.037-1.06 1.027\" transform=\"translate(-22 -342) matrix(-1 0 0 1 87 341.5)\"/>\n            </g>\n        </g>\n    </g>\n</svg>\n);\n\nexport default SavingsPiggyBank;","import React from 'react';\nimport get from 'lodash/get';\n\nimport ConfirmationManager from 'commonBrowserUtils/ConfirmationManager';\nimport { getUidx, currencyValue } from 'commonBrowserUtils/Helper';\nimport { getConfirmationTotalSavings } from 'commonBrowserUtils/transformPriceDetails';\nimport { getGrowthHackConfigValue } from 'commonUtils/GrowthHackConfigManager';\n\nimport Styles from './pastOrderSavingsModule.base.css';\nimport SavingsPiggyBank from 'iconComp/SavingsPiggyBank.jsx';\nimport RupeeBold from 'iconComp/RupeeBold.jsx';\n\nconst cancelOrderStatus = {\n  IC: true,\n  RTO: true,\n  L: true,\n  DEC: true\n};\n\nconst addInstrumentSavings = {\n  bankCashback: true,\n  cashback: true,\n  loyaltyPoints: true\n};\n\nconst addItemSavings = payment => {\n  let itemSavings = getConfirmationTotalSavings(payment.discounts);\n  if (payment.instruments) {\n    Object.entries(payment.instruments).forEach(instrumentArray => {\n      if (\n        get(addInstrumentSavings, `${instrumentArray[0]}`, false) &&\n        instrumentArray[1]\n      ) {\n        itemSavings += instrumentArray[1] / 100;\n      }\n    });\n  }\n  return itemSavings;\n};\n\nconst getSavingsDuration = (orders = []) => {\n  let savingsDuration = new Date(\n    orders[0].createdOn - orders[orders.length - 1].createdOn\n  ).getMonth();\n  savingsDuration =\n    isNaN(savingsDuration) || savingsDuration <= 0 ? 0 : savingsDuration;\n  return savingsDuration;\n};\n\nclass PastOrderSavingsModule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      totalSavings: 0,\n      duration: 0\n    };\n    this.totalSavingsWidgetThreshold = get(\n      getGrowthHackConfigValue('SAVINGS_WIDGET'),\n      'totalSavingsThreshold',\n      50\n    );\n    ['getPastOrdersSuccessCallBack', 'getPastOrdersErrorCallback'].forEach(\n      method => (this[method] = this[method].bind(this))\n    );\n  }\n\n  componentDidMount() {\n    /*\n    For the purpose of calculating past order savings, I need the following:\n    1. \"page\": 1 --> For getting recent orders in the first fold\n    2. \"getPayments\": true --> For getting payment instruments used to make the purchase\n    3. \"getReturn\": true --> For understanding whether the product is still with the user or it is returned\n    */\n\n    ConfirmationManager.getPastOrders(\n      {\n        page: 1,\n        getPayments: 'true',\n        getReturn: 'true'\n      },\n      this.getPastOrdersSuccessCallBack,\n      this.getPastOrdersErrorCallback\n    );\n  }\n\n  getPastOrdersSavings(res) {\n    let pastOrderSavings = 0,\n      savingsDuration = 0;\n    const filteredOrders = res.orders.filter(order => {\n      const filteredItems = order.items.filter(item => {\n        const shouldAddItemSavings = !(\n          item.return || get(cancelOrderStatus, `${item.status.code}`, false)\n        );\n        if (shouldAddItemSavings) {\n          const currentItemSavings = addItemSavings(item.payments);\n          if (currentItemSavings) {\n            pastOrderSavings += currentItemSavings;\n            return true;\n          }\n        }\n        return false;\n      });\n      return filteredItems.length;\n    });\n    if (pastOrderSavings) {\n      savingsDuration = getSavingsDuration(filteredOrders) + 1;\n    }\n\n    return { pastOrderSavings, savingsDuration };\n  }\n\n  getCurrentOrderSavings() {\n    return getConfirmationTotalSavings(\n      get(this.props, 'dataState.data.bountyOrder.payments.discounts', {})\n    );\n  }\n\n  getPastOrdersSuccessCallBack(res) {\n    const { pastOrderSavings, savingsDuration } = this.getPastOrdersSavings(\n      res\n    );\n    this.setOrderSavings(pastOrderSavings, savingsDuration);\n  }\n\n  getPastOrdersErrorCallback() {\n    const currentOrderSavings = this.getCurrentOrderSavings() || 0;\n    this.setOrderSavings(currentOrderSavings, 0);\n  }\n\n  setOrderSavings(totalSavings = 0, duration = 0) {\n    if (totalSavings > this.totalSavingsWidgetThreshold) {\n      triggerEvent('CONFIRMATION_TOTAL_SAVINGS_WIDGET_LOAD', {\n        custom: {\n          custom: {\n            v1: getUidx(),\n            v2: totalSavings,\n            v3: duration\n          },\n          widget: {\n            name: 'order_savings_till_date',\n            type: 'banner'\n          },\n          event_type: 'widgetLoad',\n          event_category:\n            'Order Confirmation Page - savings_till_date_widget_load'\n        }\n      });\n    }\n    this.setState({\n      totalSavings,\n      duration\n    });\n  }\n\n  render() {\n    const { totalSavings, duration } = this.state;\n    return totalSavings > this.totalSavingsWidgetThreshold ? (\n      <div className={Styles.totalSavingsContainer}>\n        <div className={Styles.greenBackground}>\n          <SavingsPiggyBank />\n          <div className={Styles.messageContainer}>\n            <div className={Styles.savingsMessage}>\n              Total Savings in{' '}\n              {duration === 0\n                ? 'this order'\n                : `less than ${duration} ${\n                    duration === 1 ? 'month' : 'months'\n                  }`}\n            </div>\n            <div className={Styles.savingsValuePlaceholder}>\n              <RupeeBold />\n              {currencyValue(totalSavings)}\n            </div>\n          </div>\n        </div>\n      </div>\n    ) : null;\n  }\n}\n\nexport default PastOrderSavingsModule;\n"],"sourceRoot":""}