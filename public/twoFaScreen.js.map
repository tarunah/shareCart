{"version":3,"sources":["webpack:///./browser/components/payment/common/Timer/index.js","webpack:///./browser/components/payment/common/TwoFactorAuthentication/TwoFactorAuthComponents.js","webpack:///./browser/components/payment/common/TwoFactorAuthentication/components/TwoFAScreen.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAA0B;AACS;AAEkB;AAEf;AAEtC,IAAM,kBAAkB,GAAG,UAAC,EAAoB;QAAlB,OAAO,eAAE,OAAO;IAC5C,iBAAG,mEAAQ,CAAC,OAAO,CAAC,kBAAQ,mEAAQ,CAAC,OAAO,CAAC,SAAM;AAAnD,CAAmD,CAAC;AAEtD,IAAM,eAAe,GAAG,UAAC,EAAoB;QAAlB,OAAO,eAAE,OAAO;IACzC,iBAAG,mEAAQ,CAAC,OAAO,CAAC,cAAI,mEAAQ,CAAC,OAAO,CAAC,CAAE;AAA3C,CAA2C,CAAC;AAE9C;IAAoB,yBAAe;IACjC,eAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAMb;QAJC,KAAI,CAAC,KAAK,GAAG;YACX,OAAO,EAAE,KAAK,CAAC,OAAO;YACtB,OAAO,EAAE,KAAK,CAAC,OAAO;SACvB,CAAC;;IACJ,CAAC;IAED,iCAAiB,GAAjB;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,0BAAU,GAAV;QAAA,iBAsBC;QArBC,IAAI,IAAI,CAAC,KAAK,EAAE;YACd,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC3B;QAED,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC;YAErB,SACE,KAAI,MADqB,EAAlB,OAAO,eAAE,OAAO,aAAE,CACpB;YACT,IAAI,OAAO,KAAK,CAAC,IAAI,OAAO,KAAK,CAAC,EAAE;gBAClC,KAAI,CAAC,SAAS,EAAE,CAAC;aAClB;iBAAM,IAAI,OAAO,KAAK,CAAC,EAAE;gBACxB,KAAI,CAAC,QAAQ,CAAC;oBACZ,OAAO,EAAE,EAAE;oBACX,OAAO,EAAE,OAAO,GAAG,CAAC;iBACrB,CAAC,CAAC;aACJ;iBAAM;gBACL,KAAI,CAAC,QAAQ,CAAC;oBACZ,OAAO,EAAE,OAAO,GAAG,CAAC;iBACrB,CAAC,CAAC;aACJ;QACH,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,4BAAY,GAAZ;QACE,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5B,CAAC;IAED,2BAAW,GAAX;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,yBAAS,GAAT;QACE,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;IAC5B,CAAC;IAED,kCAAkB,GAAlB,UAAmB,SAAS;QAC1B,IAAI,SAAS,CAAC,QAAQ,KAAK,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YAC9C,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvB,IAAI,CAAC,YAAY,EAAE,CAAC;aACrB;iBAAM;gBACL,IAAI,CAAC,WAAW,EAAE,CAAC;aACpB;SACF;IACH,CAAC;IAED,sBAAM,GAAN;QACQ,SAGF,IAAI,EAFN,aAA2B,EAAlB,OAAO,eAAE,OAAO,eACzB,aAAmC,EAA1B,iBAAc,EAAd,SAAS,mBAAG,EAAE,OAAE,QAAQ,cAC3B,CAAC;QACT,OAAO,CACL,kEAAK,SAAS,EAAE,UAAG,0DAAY,cAAI,SAAS,CAAE,IAC3C,QAAQ;YACP,CAAC,CAAC,kBAAkB,CAAC,EAAE,OAAO,WAAE,OAAO,WAAE,CAAC;YAC1C,CAAC,CAAC,eAAe,CAAC,EAAE,OAAO,WAAE,OAAO,WAAE,CAAC,CACrC,CACP,CAAC;IACJ,CAAC;IACH,YAAC;AAAD,CAAC,CA1EmB,oDAAe,GA0ElC;AAED,KAAK,CAAC,SAAS,GAAG;IAChB,OAAO,EAAE,0DAAgB;IACzB,OAAO,EAAE,0DAAgB;IACzB,YAAY,EAAE,wDAAc;IAC5B,QAAQ,EAAE,wDAAc;CACzB,CAAC;AAEF,KAAK,CAAC,YAAY,GAAG;IACnB,QAAQ,EAAE,KAAK;IACf,QAAQ,EAAE,KAAK;CAChB,CAAC;AAEF,iEAAe,KAAK,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrGK;AACG;AAEU;AACU;AACpB;AAE2C;AACb;AAEH;AACL;AACI;AAEvD,IAAM,eAAe,GAAG,UAAC,EAMxB;QALC,KAAK,aACL,OAAO,eACP,cAAc,sBACd,YAAY,oBACZ,SAAS;IACL,QACJ;QACE,kEAAK,SAAS,EAAE,qFAAqB,gCAAiC;QACtE,kEAAK,SAAS,EAAE,mFAAmB;;YAEZ,mEAAM,SAAS,EAAE,2EAAW,IAAG,KAAK,CAAQ,CAC7D;QACN,kEAAK,SAAS,EAAE,oFAAoB,IACjC,OAAO,CAAC,GAAG,CAAC,gBAAM;YACjB,IAAM,OAAO,GACX,MAAM,KAAK,cAAc,CAAC,CAAC,CAAC,CAC1B,yDAAC,6DAAW,IACV,SAAS,EAAE,UAAG,kFAAkB,cAAI,qFAAqB,CAAE,GAC3D,CACH,CAAC,CAAC,CAAC,CACF,yDAAC,+DAAa,IAAC,SAAS,EAAE,kFAAkB,GAAI,CACjD,CAAC;YACJ,OAAO,CACL,kEACE,EAAE,EAAE,cAAO,MAAM,CAAE,iBACP,QAAQ,EACpB,SAAS,EAAE,UAAG,6EAAa,cACzB,MAAM,KAAK,cAAc,CAAC,CAAC,CAAC,qFAAqB,CAAC,CAAC,CAAC,EAAE,CACtD,EACF,OAAO,EAAE,YAAY,EACrB,GAAG,EAAE,MAAM;gBAEV,OAAO;gBACR,mEAAM,SAAS,EAAE,gFAAgB,UAAY;gBAC7C,mEAAM,SAAS,EAAE,gFAAgB,IAAG,MAAM,CAAQ,CAC9C,CACP,CAAC;QACJ,CAAC,CAAC,CACE;QACN,yDAAC,sDAAM,IACL,SAAS,EAAE,UAAG,iFAAiB,cAC7B,CAAC,cAAc,CAAC,CAAC,CAAC,+EAAe,CAAC,CAAC,CAAC,EAAE,CACtC,EACF,OAAO,EAAE,SAAS,eAGX,CACL,CACP;AA3CK,CA2CL,CAAC;AAEF,IAAM,cAAc,GAAG,UAAC,EAAoB;QAAlB,KAAK,aAAE,SAAS;IAAO,QAC/C;QACE,kEAAK,SAAS,EAAE,qFAAqB,gCAAiC;QACtE,kEACE,SAAS,EAAE,mFAAmB,IAC9B,gEAAyD,KAAK,CAAE,CAAO;QACzE,yDAAC,sDAAM,IAAC,SAAS,EAAE,iFAAiB,EAAE,OAAO,EAAE,SAAS,eAE/C,CACL,CACP;AAVgD,CAUhD,CAAC;AAEF;IAAyB,8BAAe;IACtC,oBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAoBb;QAlBC,KAAI,CAAC,KAAK,GAAG;YACX,QAAQ,EAAE,EAAE;YACZ,KAAK,EAAE,IAAI;YACX,KAAK,EAAE,KAAK;YACZ,cAAc,EAAE,IAAI;SACrB,CAAC;QAEF;YACE,aAAa;YACb,SAAS;YACT,WAAW;YACX,WAAW;YACX,eAAe;YACf,aAAa;YACb,gBAAgB;SACjB,CAAC,OAAO,CAAC,gBAAM,IAAI,QAAC,KAAI,CAAC,MAAM,CAAC,GAAG,KAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,EAAxC,CAAwC,CAAC,CAAC;QAE9D,KAAI,CAAC,WAAW,GAAG,kGAAmC,EAAE,CAAC;;IAC3D,CAAC;IAED,sCAAiB,GAAjB;QACE,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACpD,IAAI,CAAC,QAAQ;YACX,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,WAAC;gBAC1C,IAAM,IAAI,GAAG,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,QAAQ,CAAC;gBACrC,IAAM,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;gBACvC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,EAAE;oBACrC,qBAAqB;oBACrB,CAAC,CAAC,cAAc,EAAE,CAAC;iBACpB;YACH,CAAC,CAAC,CAAC;QAEL,mGAAoC,CAAC,qCAAqC,CAAC,CAAC;QAC5E,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,yCAAoB,GAApB;QACE,kGAAmC,EAAE,CAAC;IACxC,CAAC;IAED,4BAAO,GAAP,UAAQ,MAAM;QAAd,iBA0CC;QAzCC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QAC3C,MAAM,CAAC,CAAC,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC;QAC3E,mCAAmC;QAC7B,SAKF,IAAI,CAAC,KAAK,EAJZ,cAAc,sBACd,YAAY,oBACZ,cAAc,sBACd,gBAAgB,sBACJ,CAAC;QACf,IAAI,CAAC,QAAQ,CACX;YACE,QAAQ,EAAE,EAAE;SACb,EACD;YACE,KAAI,CAAC,KAAK,CAAC,mBAAmB,CAC5B,mBAAmB,EACnB;gBACE,QAAQ,EAAE,UAAG,cAAc,CAAE;gBAC7B,cAAc,EAAE,YAAY;gBAC5B,SAAS,EAAE,cAAc;gBACzB,SAAS,EAAE,gBAAgB;aAC5B,EACD,EAAE,EACF;gBACE,YAAY,CAAC,mBAAmB,CAAC,CAAC;gBAClC,KAAI,CAAC,QAAQ,CAAC;oBACZ,KAAK,EAAE,IAAI;oBACX,cAAc,EAAE,IAAI;oBACpB,KAAK,EAAE,EAAE;iBACV,CAAC,CAAC;YACL,CAAC,EACD;gBACE,YAAY,CAAC,gBAAgB,CAAC,CAAC;gBAC/B,KAAI,CAAC,QAAQ,CAAC;oBACZ,KAAK,EAAE,oBAAoB;oBAC3B,cAAc,EAAE,KAAK;iBACtB,CAAC,CAAC;YACL,CAAC,CACF,CAAC;QACJ,CAAC,CACF,CAAC;IACJ,CAAC;IAED,8BAAS,GAAT;QACE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE;YAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;SACpB;IACH,CAAC;IAED,gCAAW,GAAX,UAAY,CAAC;QACX,IAAI,CAAC,QAAQ,CAAC;YACZ,QAAQ,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK;SAChC,CAAC,CAAC;IACL,CAAC;IAED,8BAAS,GAAT;QACE,IAAI,CAAC,QAAQ,CAAC;YACZ,KAAK,EAAE,KAAK;YACZ,cAAc,EAAE,KAAK;SACtB,CAAC,CAAC;IACL,CAAC;IAED,kCAAa,GAAb;QACE,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,iDAAG,CAAC,IAAI,EAAE,gBAAgB,CAAC,IAAI,EAAE,CAAC;QAC1E,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;YACzB,IAAI,CAAC,QAAQ,CAAC;gBACZ,KAAK,EAAE,wBAAwB;aAChC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBAChB,GAAG,EAAE,QAAQ;aACd,CAAC,CAAC;SACJ;IACH,CAAC;IAED,gCAAW,GAAX,UAAY,IAAI;QACd,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IACzB,CAAC;IAED,mCAAc,GAAd,UAAe,CAAC;QACd,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QACxB,YAAY,CAAC,qBAAqB,CAAC,CAAC;IACtC,CAAC;IAED,2BAAM,GAAN;QACQ,SAUF,IAAI,EATN,aAAyC,EAAhC,cAAc,sBAAE,KAAK,aAAE,OAAO,eACvC,aAAiD,EAAxC,QAAQ,gBAAE,KAAK,aAAE,KAAK,aAAE,cAAc,sBAC/C,WAAW,mBACX,SAAS,iBACT,SAAS,iBACT,WAAW,mBACX,aAAa,qBACb,WAAW,mBACX,cAAc,oBACR,CAAC;QAET,IAAM,UAAU,GAAG,yEAAc,CAAC,iBAAiB,CAAC,CAAC;QACrD,OAAO,CACL,iFACc,qBAAqB,EACjC,SAAS,EAAE,0FAA0B;YAErC,yDAAC,2DAAW,IAAC,IAAI,EAAC,KAAK,GAAG;YAC1B,kEAAK,SAAS,EAAE,wFAAwB,gBAAiB;YACzD,kEAAK,SAAS,EAAE,qFAAqB,IAClC,cAAc;gBACb,CAAC,CAAC,wCAAiC,cAAc,CAAE;gBACnD,CAAC,CAAC,uCAAgC,KAAK,CAAE,CACvC;YACN,oEACE,EAAE,EAAC,UAAU,iBACD,UAAU,EACtB,SAAS,EAAE,UAAG,+EAAe,sBAAmB,EAChD,IAAI,EAAC,KAAK,EACV,SAAS,EAAC,GAAG,EACb,GAAG,EAAE,WAAW,EAChB,QAAQ,EAAE,WAAW,EACrB,KAAK,EAAE,QAAQ,IAAI,iDAAG,CAAC,IAAI,EAAE,gBAAgB,CAAC,IAAI,EAAE,GACpD;YACD,KAAK,CAAC,CAAC,CAAC,kEAAK,SAAS,EAAE,4EAAY,IAAG,KAAK,CAAO,CAAC,CAAC,CAAC,IAAI;YAC1D,KAAK,CAAC,CAAC,CAAC,CACP,iFAAiB,iBAAiB,EAAC,SAAS,EAAE,iFAAiB;gBAC7D,wFAA2B;gBAC3B,yDAAC,2CAAK,IACJ,OAAO,EAAE,UAAU,CAAC,OAAO,EAC3B,OAAO,EAAE,UAAU,CAAC,OAAO,EAC3B,YAAY,EAAE,SAAS,GACvB,CACE,CACP,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CACvB,kEACE,SAAS,EAAE,UAAG,uFAAuB,kBAAe,EACpD,OAAO,EAAE,cAAc,oBAGnB,CACP,CAAC,CAAC,CAAC,IAAI;YACR,kEACE,SAAS,EAAE,UAAG,uFAAuB,cACnC,cAAc,CAAC,CAAC,CAAC,+EAAe,CAAC,CAAC,CAAC,EAAE,eAC3B,EACZ,OAAO,EAAE,SAAS,iBAGd;YACN,yDAAC,sDAAM,IAAC,SAAS,EAAE,iFAAiB,EAAE,OAAO,EAAE,aAAa,aAEnD,CACL,CACP,CAAC;IACJ,CAAC;IACH,iBAAC;AAAD,CAAC,CArMwB,oDAAe,GAqMvC;AAEsD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpR7B;AACW;AAEoB;AAMrB;AAEpC,IAAM,YAAY,GAAG;IACnB,SAAS,EAAE,qEAAe;IAC1B,QAAQ,EAAE,oEAAc;IACxB,UAAU,EAAE,gEAAU;CACvB,CAAC;AAEF,IAAM,WAAW,GAAG,UAAC,EAAqC;IAAnC,UAAM,cAAE,KAAK,aAAE,IAAI,YAAK,SAAS,cAAnC,2BAAqC,CAAF;IACtD,IAAM,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;IACpC,OAAO,CACL,yDAAC,qDAAK,IACJ,EAAE,EAAE,oBAAoB,EACxB,SAAS,EAAE,UAAG,4EAAY,cACxB,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,kFAAkB,CAAC,CAAC,CAAC,mFAAmB,CAC5D,EACF,IAAI,EAAE,CAAC,SAAS,CAAC,mBAAmB,EACpC,cAAc,EAAE,KAAK,EACrB,QAAQ,EAAE,IAAI,KAAK,QAAQ,EAC3B,gBAAgB,EAAE,SAAS,CAAC,OAAO,KAAK,OAAO,EAC/C,gBAAgB,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,kFAAkB,EAAE;QAE/D,yDAAC,MAAM,eAAK,SAAS,EAAI,CACnB,CACT,CAAC;AACJ,CAAC,CAAC;AAEF,iEAAe,WAAW,EAAC","file":"twoFaScreen.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { padZeros } from 'commonBrowserUtils/Helper';\n\nimport Styles from './timer.base.css';\n\nconst getExpandedDisplay = ({ minutes, seconds }) =>\n  `${padZeros(minutes)} min ${padZeros(seconds)} sec`;\n\nconst getBasicDisplay = ({ minutes, seconds }) =>\n  `${padZeros(minutes)}:${padZeros(seconds)}`;\n\nclass Timer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      seconds: props.seconds,\n      minutes: props.minutes\n    };\n  }\n\n  componentDidMount() {\n    this.setupTimer();\n  }\n\n  setupTimer() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n\n    this.timer = setInterval(() => {\n      const {\n        state: { seconds, minutes }\n      } = this;\n      if (seconds === 0 && minutes === 0) {\n        this.stopTimer();\n      } else if (seconds === 0) {\n        this.setState({\n          seconds: 59,\n          minutes: minutes - 1\n        });\n      } else {\n        this.setState({\n          seconds: seconds - 1\n        });\n      }\n    }, 1000);\n  }\n\n  disableTimer() {\n    clearInterval(this.timer);\n  }\n\n  enableTimer() {\n    this.setupTimer();\n  }\n\n  stopTimer() {\n    clearInterval(this.timer);\n    this.props.stopCallback();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.disabled !== this.props.disabled) {\n      if (this.props.disabled) {\n        this.disableTimer();\n      } else {\n        this.enableTimer();\n      }\n    }\n  }\n\n  render() {\n    const {\n      state: { seconds, minutes },\n      props: { className = '', expanded }\n    } = this;\n    return (\n      <div className={`${Styles.timer} ${className}`}>\n        {expanded\n          ? getExpandedDisplay({ minutes, seconds })\n          : getBasicDisplay({ minutes, seconds })}\n      </div>\n    );\n  }\n}\n\nTimer.propTypes = {\n  seconds: PropTypes.number,\n  minutes: PropTypes.number,\n  stopCallback: PropTypes.func,\n  disabled: PropTypes.bool\n};\n\nTimer.defaultProps = {\n  disabled: false,\n  expanded: false\n};\n\nexport default Timer;\n","import React from 'react';\nimport get from 'lodash/get';\n\nimport Button from 'commonComp/Button';\nimport ImageBanner from 'commonComp/ImageBanner';\nimport Timer from '../Timer';\n\nimport { AndroidBridgeHelper } from 'commonBrowserUtils/JSBridgeHelper';\nimport { getKVPairValue } from 'commonUtils/KVPairManager';\n\nimport Styles from './twoFactorAuthComponents.base.css';\nimport RadioActive from 'iconComp/RadioActive.jsx';\nimport RadioInActive from 'iconComp/RadioInactive.jsx';\n\nconst MobileOTPScreen = ({\n  email,\n  numbers,\n  selectedNumber,\n  selectNumber,\n  setScreen\n}) => (\n  <div>\n    <div className={Styles.otpVerifHeader}>OTP Verification required</div>\n    <div className={Styles.otpVerifDesc}>\n      Select a mobile number to send OTP. You will also receive OTP on your\n      registered email id: <span className={Styles.bold}>{email}</span>\n    </div>\n    <div className={Styles.mobileNumbers}>\n      {numbers.map(number => {\n        const SVGIcon =\n          number === selectedNumber ? (\n            <RadioActive\n              className={`${Styles.radioButton} ${Styles.selectedButton}`}\n            />\n          ) : (\n            <RadioInActive className={Styles.radioButton} />\n          );\n        return (\n          <div\n            id={`otp-${number}`}\n            data-testid=\"number\"\n            className={`${Styles.number} ${\n              number === selectedNumber ? Styles.selectedNumber : ''\n            }`}\n            onClick={selectNumber}\n            key={number}\n          >\n            {SVGIcon}\n            <span className={Styles.radioText}>+91</span>\n            <span className={Styles.radioText}>{number}</span>\n          </div>\n        );\n      })}\n    </div>\n    <Button\n      className={`${Styles.sendButton} ${\n        !selectedNumber ? Styles.disabled : ''\n      }`}\n      onClick={setScreen}\n    >\n      SEND OTP\n    </Button>\n  </div>\n);\n\nconst EmailOTPScreen = ({ email, setScreen }) => (\n  <div>\n    <div className={Styles.otpVerifHeader}>OTP Verification required</div>\n    <div\n      className={Styles.otpVerifDesc}\n    >{`You will receive the OTP on your registered email id: ${email}`}</div>\n    <Button className={Styles.sendButton} onClick={setScreen}>\n      SEND OTP\n    </Button>\n  </div>\n);\n\nclass OTPScanner extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      otpValue: '',\n      error: null,\n      timer: false,\n      resendDisabled: true\n    };\n\n    [\n      'setOtpValue',\n      'sendOtp',\n      'resendOtp',\n      'stopTimer',\n      'submitWithOTP',\n      'setInputRef',\n      'onChangeButton'\n    ].forEach(method => (this[method] = this[method].bind(this)));\n\n    this.otpAutofill = AndroidBridgeHelper.autofillEnabled();\n  }\n\n  componentDidMount() {\n    this.otpField = document.getElementById('otpField');\n    this.otpField &&\n      this.otpField.addEventListener('keypress', e => {\n        const code = e.keyCode || e.charCode;\n        const char = String.fromCharCode(code);\n        if (!/^\\d+$/.test(char) && code !== 8) {\n          // 8 is for backspace\n          e.preventDefault();\n        }\n      });\n\n    AndroidBridgeHelper.startSmsReceiver(\"document.getElementById('otpField')\");\n    this.sendOtp();\n  }\n\n  componentWillUnmount() {\n    AndroidBridgeHelper.stopSmsReceiver();\n  }\n\n  sendOtp(resend) {\n    this.inputField && this.inputField.focus();\n    resend ? triggerEvent('TWOFA_OTP_RESENT') : triggerEvent('TWOFA_OTP_SENT');\n    //get addressId from stampedAddress\n    const {\n      selectedNumber,\n      paymentModes,\n      orderAddressId,\n      unifiedAddressId\n    } = this.props;\n    this.setState(\n      {\n        otpValue: ''\n      },\n      () => {\n        this.props.handlePaymentAction(\n          'requestOTPGateway',\n          {\n            mobileNo: `${selectedNumber}`,\n            paymentMethods: paymentModes,\n            addressId: orderAddressId,\n            unifiedId: unifiedAddressId\n          },\n          {},\n          () => {\n            triggerEvent('TWOFA_OTP_SUCCESS');\n            this.setState({\n              timer: true,\n              resendDisabled: true,\n              error: ''\n            });\n          },\n          () => {\n            triggerEvent('TWOFA_OTP_FAIL');\n            this.setState({\n              error: 'Failed to send OTP',\n              resendDisabled: false\n            });\n          }\n        );\n      }\n    );\n  }\n\n  resendOtp() {\n    if (!this.state.resendDisabled) {\n      this.sendOtp(true);\n    }\n  }\n\n  setOtpValue(e) {\n    this.setState({\n      otpValue: e.currentTarget.value\n    });\n  }\n\n  stopTimer() {\n    this.setState({\n      timer: false,\n      resendDisabled: false\n    });\n  }\n\n  submitWithOTP() {\n    const otpValue = this.state.otpValue || get(this, 'otpField.value') || '';\n    if (otpValue.length !== 4) {\n      this.setState({\n        error: 'Please enter valid OTP'\n      });\n    } else {\n      this.props.submit({\n        otp: otpValue\n      });\n    }\n  }\n\n  setInputRef(node) {\n    this.inputField = node;\n  }\n\n  onChangeButton(e) {\n    this.props.setScreen(e);\n    triggerEvent('TWOFA_CHANGE_NUMBER');\n  }\n\n  render() {\n    const {\n      props: { selectedNumber, email, numbers },\n      state: { otpValue, timer, error, resendDisabled },\n      setOtpValue,\n      resendOtp,\n      stopTimer,\n      otpAutofill,\n      submitWithOTP,\n      setInputRef,\n      onChangeButton\n    } = this;\n\n    const timerStart = getKVPairValue('OTP_TIMER_START');\n    return (\n      <div\n        data-testid=\"otpScannerContainer\"\n        className={Styles.otpScannerContainer}\n      >\n        <ImageBanner name=\"otp\" />\n        <div className={Styles.otpScannerHeading}>ENTER OTP</div>\n        <div className={Styles.otpScannerDesc}>\n          {selectedNumber\n            ? `OTP sent to mobile number +91-${selectedNumber}`\n            : `OTP sent to registered email ${email}`}\n        </div>\n        <input\n          id=\"otpField\"\n          data-testid=\"otpField\"\n          className={`${Styles.otpInput} cod-input-numpad`}\n          type=\"tel\"\n          maxLength=\"4\"\n          ref={setInputRef}\n          onChange={setOtpValue}\n          value={otpValue || get(this, 'otpField.value') || ''}\n        />\n        {error ? <div className={Styles.error}>{error}</div> : null}\n        {timer ? (\n          <div data-testid=\"twoFAtimerBlock\" className={Styles.timerBlock}>\n            <span>Resend OTP in </span>\n            <Timer\n              seconds={timerStart.seconds}\n              minutes={timerStart.minutes}\n              stopCallback={stopTimer}\n            />\n          </div>\n        ) : numbers.length > 1 ? (\n          <div\n            className={`${Styles.otpScannerButton} changeNumber`}\n            onClick={onChangeButton}\n          >\n            CHANGE NUMBER\n          </div>\n        ) : null}\n        <div\n          className={`${Styles.otpScannerButton} ${\n            resendDisabled ? Styles.disabled : ''\n          } resendOTP`}\n          onClick={resendOtp}\n        >\n          RESEND OTP\n        </div>\n        <Button className={Styles.sendButton} onClick={submitWithOTP}>\n          SUBMIT\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport { OTPScanner, MobileOTPScreen, EmailOTPScreen };\n","import React from 'react';\nimport Modal from 'commonComp/Modal';\n\nimport Styles from '../twoFactorAuthComponents.base.css';\n\nimport {\n  OTPScanner,\n  MobileOTPScreen,\n  EmailOTPScreen\n} from '../TwoFactorAuthComponents';\n\nconst screenConfig = {\n  mobileOtp: MobileOTPScreen,\n  emailOtp: EmailOTPScreen,\n  otpScanner: OTPScanner\n};\n\nconst TwoFAScreen = ({ screen, close, mode, ...restProps }) => {\n  const Screen = screenConfig[screen];\n  return (\n    <Modal\n      id={'twoFactorAuthModal'}\n      className={`${Styles.modal} ${\n        mode === 'mobile' ? Styles.mobileModal : Styles.desktopModal\n      }`}\n      show={!restProps.showSaveCardConsent}\n      cancelCallback={close}\n      halfCard={mode === 'mobile'}\n      enableBackButton={restProps.payMode !== 'retry'}\n      cancelIconConfig={{ show: true, className: Styles.headerClose }}\n    >\n      <Screen {...restProps} />\n    </Modal>\n  );\n};\n\nexport default TwoFAScreen;\n"],"sourceRoot":""}