{"version":3,"sources":["webpack:///../node_modules/@myntra/m-comp/react/SVGIcon/ShieldDashed.jsx","webpack:///./browser/components/payment/common/Options/BNPL/TNCIframe/index.js","webpack:///./browser/components/payment/common/Options/BNPL/TNCPage/index.js"],"names":[],"mappings":"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","file":"tncPage.js","sourcesContent":["import React from \"react\"\n\nconst ShieldDashed = (props) => (\n  <svg\n    width={99}\n    height={30}\n    viewBox=\"0 0 99 30\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      stroke=\"#06997E\"\n      strokeLinecap=\"round\"\n      strokeDasharray=\"5 0\"\n      d=\"M.5 14.5h31m36 0h31\"\n    />\n    <path\n      d=\"M49.449.002a.987.987 0 00-.38.092L37.554 5.645A.987.987 0 0037 6.53v4.452c0 8.282 4.958 15.384 12.1 18.534a.987.987 0 00.8 0C57.043 26.365 62 19.263 62 10.98V6.529a.987.987 0 00-.555-.884L49.932.095a.987.987 0 00-.483-.093zm.051 2.076l10.526 5.079v3.824c0 7.333-4.301 13.587-10.526 16.519-6.224-2.932-10.526-9.186-10.526-16.52V7.158L49.5 2.078zm5.828 7.782a.987.987 0 00-.585.278l-6.878 6.568-2.93-2.93a.988.988 0 00-1.73.678.986.986 0 00.333.71l3.618 3.619a.987.987 0 001.378.02l7.566-7.237a.986.986 0 00-.772-1.706z\"\n      fill=\"#1CAE91\"\n    />\n  </svg>\n)\n\nexport default ShieldDashed\n","import React from 'react';\n\nimport Styles from './tncIframe.base.css';\n\nclass TNCIframe extends React.PureComponent {\n  constructor() {\n    super();\n    this.readMessage = this.readMessage.bind(this);\n    window.addEventListener('message', this.readMessage, false);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('message', this.readMessage, false);\n  }\n\n  readMessage(message) {\n    const { data } = message;\n    if (data === 204) {\n      this.props.successCallback();\n    } else if (typeof data === 'object' && data.type !== 'iframeLoaded') {\n      window.location =\n        '/checkout/payment?transaction_status=N&errorCode=40001';\n    }\n  }\n\n  render() {\n    return <iframe src={this.props.src} className={Styles.iframe} sandbox />;\n  }\n}\n\nexport default TNCIframe;\n","import React from 'react';\nimport get from 'lodash/get';\n\nimport Styles from './tncPage.base.css';\n\nimport Loader from 'commonComp/Loader';\n\nimport PayNowHandler from '../../../PayNowHandler';\nimport TNCIframe from '../TNCIframe';\n\nimport { getQueryParam } from 'commonUtils/helper';\n\nimport PaymentConstants from 'commonBrowserUtils/PaymentConstants';\nimport { isFeatureEnabled } from 'commonUtils/FeaturesManager';\n\nconst { PAY_LATER } = PaymentConstants;\n\nclass TNC extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    const context = getQueryParam({ name: 'context' });\n\n    const { payLaterInstrumentData, rank } = this.getPayLaterData(context);\n\n    this.payLaterInstrumentData = payLaterInstrumentData;\n    this.rank = rank;\n\n    const BNPLInstrumentData = (\n      get(payLaterInstrumentData, 'paymentInstrumentDetails.data') || []\n    ).find(paymentType => paymentType.id === 1);\n    this.tncUrl = BNPLInstrumentData.tncUrl;\n\n    this.submitForm = this.submitForm.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.setLoader(false);\n  }\n\n  getPayLaterData(context) {\n    let rank;\n    const path =\n      context === 'recommended'\n        ? 'props.paymentOptions.recommendedPaymentInstrumentDetails'\n        : 'props.paymentOptions.paymentInstrumentDetails';\n\n    const payLaterInstrumentData = get(this, path, []).find((info, index) => {\n      if (info.type === PAY_LATER) {\n        rank = index + 1;\n        return true;\n      } else return false;\n    });\n\n    return { payLaterInstrumentData, rank };\n  }\n\n  submitForm() {\n    triggerEvent('PAYMENT_OPTION_SUBMIT', {\n      custom: {\n        custom: {\n          v1: PAY_LATER,\n          v2: PAY_LATER,\n          v3: this.rank,\n          v4: isFeatureEnabled('RECOMMENDED_OPTIONS')\n        },\n        widget_items: {\n          data_set: {\n            entity_name: 'payment_option',\n            entity_id: 'payment_option'\n          }\n        }\n      }\n    });\n\n    this.props.setLoader(true);\n    const paymentModeAction = document.getElementById(`action-${PAY_LATER}`);\n    paymentModeAction && paymentModeAction.click();\n  }\n\n  getOptionUI() {\n    const { origin } = window.location;\n\n    return (\n      <div className={Styles.container}>\n        <Loader show={this.props.loading} backdrop={true} />\n        <TNCIframe\n          src={`${this.tncUrl}&origin=${origin}`}\n          successCallback={this.submitForm}\n        />\n      </div>\n    );\n  }\n\n  getModeAttributes() {\n    const mobile = getQueryParam({ name: 'mobile' });\n    return {\n      userProfileMobile: mobile,\n      paymentProviderId: 1\n    };\n  }\n\n  render() {\n    return (\n      <PayNowHandler\n        {...this.props}\n        paymentUrl={get(\n          this,\n          'payLaterInstrumentData.paymentInstrumentDetails.paymentUrl'\n        )}\n        deviceMode=\"mobile\"\n        paymentMode={PAY_LATER}\n        paymentModeName={PAY_LATER}\n        optionUI={this.getOptionUI()}\n        actionData={{ enabled: true }}\n        modeAttributes={this.getModeAttributes()}\n      />\n    );\n  }\n}\n\nexport default TNC;\n"],"sourceRoot":""}