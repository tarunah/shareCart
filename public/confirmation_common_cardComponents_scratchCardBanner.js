(self["webpackChunk"] = self["webpackChunk"] || []).push([["confirmation_common_cardComponents_scratchCardBanner"],{

/***/ "../node_modules/@myntra/m-comp/react/SVGIcon/Alert.jsx":
/*!**************************************************************!*\
  !*** ../node_modules/@myntra/m-comp/react/SVGIcon/Alert.jsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

function Alert(props) {
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("svg", __assign({ width: 64, height: 64, viewBox: "0 0 64 64", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, props),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { "fill-rule": "evenodd", "clip-rule": "evenodd", d: "M38.2398 11.6L57.7065 45.2533C58.9865 47.4933 58.9865 50.16 57.7065 52.4C56.4265 54.6667 54.0798 56 51.4932 56H12.5332C9.91984 56 7.59984 54.6667 6.31984 52.4C5.01318 50.1333 5.01318 47.4667 6.31984 45.2267L25.7865 11.5733C27.0932 9.33333 29.4132 8 31.9998 8C34.5865 8 36.9332 9.33333 38.2398 11.6ZM32 38.6667C30.9067 38.6667 30 37.76 30 36.6667V24.6667C30 23.5733 30.9067 22.6667 32 22.6667C33.0933 22.6667 34 23.5733 34 24.6667V36.6667C34 37.76 33.12 38.6667 32 38.6667ZM32 46.6667C30.88 46.6667 29.9733 45.76 29.9733 44.6667C29.9733 43.5733 30.88 42.6667 32 42.6667C33.12 42.6667 34 43.5733 34 44.6667C34 45.76 33.12 46.6667 32 46.6667Z", fill: "url(#paint0_radial_1460_2667)" }),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("defs", null,
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("radialGradient", { id: "paint0_radial_1460_2667", cx: "0", cy: "0", r: "1", gradientUnits: "userSpaceOnUse", gradientTransform: "translate(17.805 22.2) rotate(40.1147) scale(67.2026 129.266)" },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { "stop-color": "#FE2E4D" }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("stop", { offset: "1", "stop-color": "#FF8793" })))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Alert);


/***/ }),

/***/ "../node_modules/@myntra/m-comp/react/SVGIcon/Cross.jsx":
/*!**************************************************************!*\
  !*** ../node_modules/@myntra/m-comp/react/SVGIcon/Cross.jsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

function Cross(props) {
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("svg", __assign({ width: 40, height: 40, viewBox: "0 0 40 40", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, props),
        ' ',
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("rect", { width: "40", height: "40", rx: "20", fill: "white" }),
        ' ',
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { d: "M21.0604 19.9975L26.7824 14.2775C27.0725 13.9875 27.0725 13.5075 26.7824 13.2175C26.4923 12.9275 26.0121 12.9275 25.722 13.2175L20 18.9375L14.278 13.2175C13.9879 12.9275 13.5077 12.9275 13.2176 13.2175C12.9275 13.5075 12.9275 13.9875 13.2176 14.2775L18.9396 19.9975L13.2176 25.7175C12.9275 26.0075 12.9275 26.4875 13.2176 26.7775C13.3676 26.9275 13.5577 26.9975 13.7478 26.9975C13.9378 26.9975 14.1279 26.9275 14.278 26.7775L20 21.0575L25.722 26.7775C25.8721 26.9275 26.0622 26.9975 26.2522 26.9975C26.4423 26.9975 26.6324 26.9275 26.7824 26.7775C27.0725 26.4875 27.0725 26.0075 26.7824 25.7175L21.0604 19.9975Z", fill: "#282C3F" }),
        ' '));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Cross);


/***/ }),

/***/ "../node_modules/@myntra/m-comp/react/SVGIcon/DrawSvg.jsx":
/*!****************************************************************!*\
  !*** ../node_modules/@myntra/m-comp/react/SVGIcon/DrawSvg.jsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

function DrawSvg(props) {
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("svg", __assign({ width: "135", height: "138", viewBox: "0 0 135 138", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, props),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { id: "scratchAnim", d: "M16 38C38.3453 34.6542 58.6209 27.549 80.1111 20.8333C82.0648 20.2228 101.822 15.4466 101.389 16C89.8482 30.7464 75.4589 42.6354 66.3333 59.3333C62.9169 65.5847 59.2103 71.7008 55.8889 78C54.5215 80.5933 53.2493 83.8822 57.7222 82.4445C72.6509 77.6459 86.9351 68.5808 101.222 62.1111C103.303 61.169 122.398 51.3427 119.667 59.6667C113.554 78.2957 96.9956 93.6623 86.7778 110.222C85.7082 111.956 78.5553 122.722 80 122", stroke: "white", "stroke-width": "30", "stroke-linecap": "round" })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DrawSvg);


/***/ }),

/***/ "../node_modules/@myntra/m-comp/react/SVGIcon/Hanger.jsx":
/*!***************************************************************!*\
  !*** ../node_modules/@myntra/m-comp/react/SVGIcon/Hanger.jsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

function Hanger(props) {
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("svg", __assign({ width: 80, height: 80, viewBox: "0 0 65 51", fill: "none", xmlns: "http://www.w3.org/2000/svg" }, props),
        ' ',
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { d: "M35.9725 21.6671C35.9725 24.5632 34.2348 27.2771 32.0337 27.7074C29.8327 28.1377 28.0453 26.0525 28.0288 23.2392L4.31386 37.3888C3.25573 38.1304 2.39905 39.1239 1.82118 40.2797C1.24331 41.4354 0.962454 42.717 1.00403 44.0085V44.0085C1.00403 47.4507 3.1554 49.8172 5.73707 49.3041L59.2571 38.7954C61.8553 38.2824 63.9406 35.0883 63.924 31.6461V30.7526C63.924 27.9227 62.4677 25.7877 60.3991 25.4236L35.9725 21.6671Z", stroke: "#3D4152", "stroke-width": "1.65492", "stroke-linecap": "round", "stroke-linejoin": "round" }),
        ' ',
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { d: "M33.0266 14.948V6.67343V5.53163C33.0266 -0.0454406 28.9225 1.09636 28.9225 1.09636C24.5535 2.3541 24.9672 7.13685 24.9672 7.13685L27.6482 6.50798C27.6482 5.29989 28.2605 4.43925 29.1211 4.3565C29.9816 4.27376 30.7761 4.60478 30.8919 7.08716V18.5722L32.9935 18.1585C33.49 18.4563 33.97 19.1515 33.9535 20.7568C33.9535 23.2392 32.9935 24.0665 32.1495 24.3644C31.3055 24.6623 30.6602 24.017 30.6437 22.8089L27.9793 23.2392C27.9793 23.2392 27.5985 28.2038 31.984 27.7074C31.984 27.7074 35.4759 26.9794 35.9227 21.6671C35.9724 21.6671 36.7006 15.2128 33.0266 14.948Z", fill: "#FF527A" }),
        ' ',
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("path", { d: "M33.0266 14.948V6.67343V5.53163C33.0266 -0.0454405 28.9225 1.09636 28.9225 1.09636C24.5535 2.3541 24.9672 7.13685 24.9672 7.13685L27.6482 6.50798C27.6482 5.29989 28.2605 4.43925 29.1211 4.3565C29.9816 4.27376 30.7761 4.60478 30.8919 7.08716V18.5722L32.9935 18.1585C33.49 18.4563 33.97 19.1515 33.9535 20.7568C33.9535 23.2392 32.9935 24.0665 32.1495 24.3644C31.3055 24.6623 30.6602 24.017 30.6437 22.8089L27.9793 23.2392C27.9793 23.2392 27.5985 28.2038 31.984 27.7074C31.984 27.7074 35.4759 26.9794 35.9227 21.6671C35.9724 21.6671 36.7006 15.2128 33.0266 14.948Z", stroke: "#3D4152", "stroke-width": "1.65492", "stroke-linecap": "round", "stroke-linejoin": "round" }),
        ' '));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Hanger);


/***/ }),

/***/ "./browser/components/common/Confetti/index.js":
/*!*****************************************************!*\
  !*** ./browser/components/common/Confetti/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var _confetti_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./confetti.css */ "./browser/components/common/Confetti/confetti.css");


function Piece(x, y) {
    this.x = x;
    this.y = y;
    this.size = (Math.random() * 0.5 + 0.75) * 8;
    this.gravity = (Math.random() * 0.5 + 0.75) * 0.3;
    this.rotation = Math.PI * 2 * Math.random();
    this.rotationSpeed = Math.PI * 2 * (Math.random() - 0.5) * 0.001;
    this.color = randomColor();
}
function randomColor() {
    var colors = ['#F1872D', '#00BDBC', '#F64F72', '#AFD964', '#EFDC7E'];
    return colors[Math.floor(Math.random() * colors.length)];
}
function Confetti(props) {
    var elm = null, ctx = null, pieces = [], no = 100, lastUpdateTime = Date.now(), height = 480, width = 600, rId = null;
    var draw = function () {
        ctx.clearRect(0, 0, width, height);
        var now = Date.now(), dt = now - lastUpdateTime;
        pieces.forEach(function (p, i) {
            if (p.y > height) {
                pieces.splice(i, 1);
            }
            p.y += p.gravity * dt;
            p.rotation += p.rotationSpeed * dt;
            ctx.save();
            ctx.fillStyle = p.color;
            ctx.translate(p.x + p.size / 2, p.y + p.size / 2);
            ctx.rotate(p.rotation);
            ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size);
            ctx.restore();
        });
        lastUpdateTime = now;
        rId = requestAnimationFrame(draw);
    };
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        var canvas = elm;
        ctx = canvas.getContext('2d');
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
        while (pieces.length < no) {
            pieces.push(new Piece(Math.random() * width, Math.random() * height));
        }
        draw();
        // clear animation on unmount
        return function () {
            rId && cancelAnimationFrame(rId);
        };
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        if (!props.showConfetti) {
            cancelAnimationFrame(rId);
        }
    }, [props.showConfetti]);
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_confetti_css__WEBPACK_IMPORTED_MODULE_1__.default.confettiWrapper, " ").concat(props.className || '') },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("canvas", { ref: function (c) { return (elm = c); } })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Confetti);


/***/ }),

/***/ "./browser/components/confirmation/common/CardComponents/components/ScratchCardBanner.js":
/*!***********************************************************************************************!*\
  !*** ./browser/components/confirmation/common/CardComponents/components/ScratchCardBanner.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! commonUtils/GrowthHackConfigManager */ "./utils/GrowthHackConfigManager/index.js");
/* harmony import */ var commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! commonUtils/FeaturesManager */ "./utils/FeaturesManager/index.js");
/* harmony import */ var commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var commonComp_Confetti__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! commonComp/Confetti */ "./browser/components/common/Confetti/index.js");
/* harmony import */ var _RewardsModule_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../RewardsModule/index */ "./browser/components/confirmation/common/RewardsModule/index.js");
/* harmony import */ var commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! commonBrowserUtils/ConfirmationConstants */ "./browser/utils/ConfirmationConstants.js");
/* harmony import */ var commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var _cardComponents_base_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../cardComponents.base.css */ "./browser/components/confirmation/common/CardComponents/cardComponents.base.css");
/* harmony import */ var commonBrowserUtils_JSBridgeHelper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! commonBrowserUtils/JSBridgeHelper */ "./browser/utils/JSBridgeHelper.js");






var CARD_STATES = commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_5__.scratchCardRetentionConfig.CARD_STATES;



var ScratchCardBanner = function (props) {
    var _a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), showPopUp = _a[0], setPopUp = _a[1];
    var _b = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), showBanner = _b[0], setBannerState = _b[1];
    var _c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}), cardDetails = _c[0], setCardDetails = _c[1];
    var _d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null), SCRATCH_CARD_ID = _d[0], setScratchCardId = _d[1];
    var _e = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), isAlreadyScratched = _e[0], setAlreadyScratched = _e[1];
    var _f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), showConfetti = _f[0], setConfetti = _f[1];
    var _g = (0,commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_1__.getGrowthHackConfigValue)('SCRATCHCARD_CONFIG'), confirmationBanner = _g.confirmationBanner, featureTag = _g.featureTag;
    var claimReward = (props && props.actionHandlers).claimReward;
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        if (!props.eligibilityAPILoaded)
            return;
        var _a = props.isEligibleForCard, isEligible = _a.isEligible, scratchCardId = _a.scratchCardId;
        if (!isEligible || !(0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('SCRATCHCARD_RETENTION')) {
            var rewardState = 'REWARD_NOT_SHOWN';
            if ((0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__.isAndroidApp)()) {
                commonBrowserUtils_JSBridgeHelper__WEBPACK_IMPORTED_MODULE_8__.AndroidBridgeHelper.onRewardFlowDone(rewardState);
            }
            else if ((0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__.isIOSApp)()) {
                commonBrowserUtils_JSBridgeHelper__WEBPACK_IMPORTED_MODULE_8__.IOSBridgeHelper.onRewardFlowDone({ rewardState: rewardState });
            }
        }
        if (isEligible) {
            setBannerState(isEligible);
            setScratchCardId(scratchCardId);
            if (isEligible && (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('SCRATCHCARD_RETENTION')) {
                setTimeout(function () {
                    setConfetti(true);
                    setTimeout(function () {
                        setPopUp(true);
                    }, 1000);
                    setTimeout(function () {
                        setConfetti(false);
                    }, 3000);
                }, 500);
                triggerEvent('SCRATCH_CARD_WIDGET_LOAD', {
                    maData: {
                        entity_optional_attributes: {
                            experiment_id: 'TBA',
                            featureTag: featureTag
                        }
                    },
                    custom: {
                        event_type: 'widgetLoad',
                        event_category: 'Order Confirmation Page',
                        action: 'Scratch card widget load',
                        widget: {
                            name: 'scratch_card',
                            type: 'card',
                            v_position: 0
                        }
                    }
                });
            }
        }
    }, [props.eligibilityAPILoaded]);
    var copyAction = function () {
        triggerEvent('COUPON_COPY', {
            maData: {
                entity_optional_attributes: {
                    featureTag: featureTag,
                    scratchCardId: cardDetails.id,
                    scratchCardStatus: cardDetails.status,
                    couponBrandImg: cardDetails.couponBrandImg,
                    listPageUrl: cardDetails.listPageUrl,
                    expiryDate: cardDetails.expiryDate,
                    couponCode: cardDetails.couponCode
                }
            },
            custom: {
                event_category: 'Scratched card',
                event_type: 'widgetClick',
                action: 'scratch card copy click',
                widget: {
                    name: 'scratch_card',
                    type: 'card'
                }
            }
        });
    };
    var onReveal = function () {
        triggerEvent('CARD_REVEAL', {
            maData: {
                entity_optional_attributes: {
                    featureTag: featureTag,
                    scratchCardId: cardDetails.id,
                    scratchCardStatus: cardDetails.status,
                    couponBrandImg: cardDetails.couponBrandImg,
                    listPageUrl: cardDetails.listPageUrl,
                    expiryDate: cardDetails.expiryDate,
                    couponCode: cardDetails.couponCode
                }
            },
            custom: {
                event_category: 'Scratched card',
                event_type: 'widgetClick',
                action: 'Scratch_card_dismiss',
                widget: {
                    name: 'scratch_card',
                    type: 'card'
                }
            }
        });
    };
    var handleScratch = function (successCB, errorCB) {
        claimReward(SCRATCH_CARD_ID, function (data) {
            if (data === void 0) { data = {}; }
            setCardDetails(data);
            successCB(data);
            setAlreadyScratched(true);
            triggerEvent('CARD_SCRATCH', {
                maData: {
                    entity_optional_attributes: {
                        featureTag: featureTag,
                        scratchCardId: data.id,
                        scratchCardStatus: data.status,
                        couponBrandImg: data.couponBrandImg,
                        listPageUrl: data.listPageUrl,
                        expiryDate: data.expiryDate
                    }
                },
                custom: {
                    event_category: 'Unscratch card',
                    event_type: 'widgetClick',
                    action: 'Scratch_card_scratch',
                    widget: {
                        name: 'scratch_card',
                        type: 'button'
                    }
                }
            });
        }, function (error) {
            errorCB(error);
        });
    };
    var onPopClose = function (isScratched) {
        if (isScratched === void 0) { isScratched = false; }
        setPopUp(false);
        var rewardState = '';
        if (!isScratched) {
            triggerEvent('DISMISS_BEFORE_SCRATCH', {
                maData: {
                    entity_optional_attributes: {
                        featureTag: featureTag,
                        scratchCardId: cardDetails.id,
                        scratchCardStatus: cardDetails.status,
                        couponBrandImg: cardDetails.couponBrandImg,
                        listPageUrl: cardDetails.listPageUrl,
                        expiryDate: cardDetails.expiryDate
                    }
                },
                custom: {
                    event_category: 'Unscratch card',
                    event_type: 'widgetClick',
                    action: 'Scratch_card_dismiss',
                    widget: {
                        name: 'scratch_card',
                        type: 'button'
                    }
                }
            });
            rewardState = 'REWARD_NOT_CLAIMED';
        }
        else {
            triggerEvent('DISMISS_AFTER_SCRATCH', {
                maData: {
                    entity_optional_attributes: {
                        featureTag: featureTag,
                        scratchCardId: cardDetails.id,
                        scratchCardStatus: cardDetails.status,
                        couponBrandImg: cardDetails.couponBrandImg,
                        listPageUrl: cardDetails.listPageUrl,
                        expiryDate: cardDetails.expiryDate
                    }
                },
                custom: {
                    event_category: 'Scratched card',
                    event_type: 'widgetClick',
                    action: 'rewards_card_close',
                    widget: {
                        name: 'scratch_card',
                        type: 'button'
                    }
                }
            });
            rewardState = cardDetails.couponCode
                ? 'REWARD_CLAIM_SUCCESS'
                : 'REWARD_CLAIM_FAIL';
        }
        if ((0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__.isAndroidApp)()) {
            commonBrowserUtils_JSBridgeHelper__WEBPACK_IMPORTED_MODULE_8__.AndroidBridgeHelper.onRewardFlowDone(rewardState);
        }
        else if ((0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__.isIOSApp)()) {
            commonBrowserUtils_JSBridgeHelper__WEBPACK_IMPORTED_MODULE_8__.IOSBridgeHelper.onRewardFlowDone({ rewardState: rewardState });
        }
    };
    var onBannerClick = function () {
        setPopUp(true);
        triggerEvent('SCRATCH_CARD_WIDGET_CLICK', {
            maData: {
                entity_optional_attributes: {
                    featureTag: featureTag
                }
            },
            custom: {
                event_type: 'widgetClick',
                event_category: 'Order Confirmation Page',
                action: 'Scratch card widget click',
                widget: {
                    name: 'scratch_card',
                    type: 'card',
                    v_position: 0
                }
            }
        });
        if (cardDetails.status === CARD_STATES.UNSCRATCHED) {
            triggerEvent('UNSCRATCH_CARD_VIEW', {
                maData: {
                    entity_optional_attributes: {
                        featureTag: featureTag,
                        scratchCardId: cardDetails.id,
                        scratchCardStatus: cardDetails.status,
                        couponBrandImg: cardDetails.couponBrandImg,
                        listPageUrl: cardDetails.listPageUrl,
                        expiryDate: cardDetails.expiryDate
                    }
                },
                custom: {
                    event_category: 'Unscratch card',
                    event_type: 'widgetLoad',
                    action: 'Unscratched_card_view',
                    widget: {
                        name: 'scratch_card',
                        type: 'list-item'
                    }
                }
            });
        }
    };
    var onCTAPress = function (CTAType) {
        switch (CTAType) {
            case 'EXPLORE_PRODUCTS': {
                triggerEvent('EXPLORE_PRODUCTS_CLICK', {
                    maData: {
                        entity_optional_attributes: {
                            featureTag: featureTag,
                            scratchCardId: cardDetails.id,
                            scratchCardStatus: cardDetails.status,
                            couponBrandImg: cardDetails.couponBrandImg,
                            listPageUrl: cardDetails.listPageUrl,
                            expiryDate: cardDetails.expiryDate
                        }
                    },
                    custom: {
                        event_category: 'Scratched card',
                        event_type: 'widgetClick',
                        action: 'Explore products click',
                        widget: {
                            name: 'scratch_card',
                            type: 'button',
                            v_position: 0
                        }
                    }
                });
                setTimeout(function () {
                    (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__.navigateTo)(cardDetails.listPageUrl);
                }, 1);
                break;
            }
            case 'EXPLORE_MORE': {
                triggerEvent('EXPLORE_MORE', {
                    maData: {
                        entity_optional_attributes: {
                            featureTag: featureTag,
                            scratchCardId: cardDetails.id,
                            scratchCardStatus: cardDetails.status,
                            couponBrandImg: cardDetails.couponBrandImg,
                            listPageUrl: cardDetails.listPageUrl,
                            expiryDate: cardDetails.expiryDate
                        }
                    },
                    custom: {
                        event_category: 'Scratched card',
                        event_type: 'widgetClick',
                        action: 'know more click',
                        widget: {
                            name: 'scratch_card',
                            type: 'button',
                            v_position: 0
                        }
                    }
                });
                setTimeout(function () {
                    (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_6__.navigateTo)('/growth/myprizes');
                }, 1);
                break;
            }
            default: {
                break;
            }
        }
    };
    return showBanner && (0,commonUtils_FeaturesManager__WEBPACK_IMPORTED_MODULE_2__.isFeatureEnabled)('SCRATCHCARD_RETENTION') ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _cardComponents_base_css__WEBPACK_IMPORTED_MODULE_7__.default.scratchCardBanner },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("img", { onClick: onBannerClick, src: confirmationBanner })),
        showConfetti ? react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Confetti__WEBPACK_IMPORTED_MODULE_3__.default, { showConfetti: showConfetti }) : null,
        showPopUp ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_RewardsModule_index__WEBPACK_IMPORTED_MODULE_4__.default, { onPopupDismiss: function (isScratched) { return onPopClose(isScratched); }, isAlreadyScratched: isAlreadyScratched, cardDetailsFetchedAlready: cardDetails, featureTag: featureTag, handleScratch: handleScratch, onReveal: onReveal, copyAction: copyAction, onCTAPress: onCTAPress })) : null)) : null;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ScratchCardBanner);


/***/ }),

/***/ "./browser/components/confirmation/common/RewardsModule/Components/SuccessCard/SuccessCard.js":
/*!****************************************************************************************************!*\
  !*** ./browser/components/confirmation/common/RewardsModule/Components/SuccessCard/SuccessCard.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var _rewards_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../rewards.css */ "./browser/components/confirmation/common/RewardsModule/rewards.css");
/* harmony import */ var commonComp_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! commonComp/Button */ "./browser/components/common/Button/index.js");
/* harmony import */ var commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! commonUtils/GrowthHackConfigManager */ "./utils/GrowthHackConfigManager/index.js");
/* harmony import */ var commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonBrowserUtils/ConfirmationConstants */ "./browser/utils/ConfirmationConstants.js");
/* harmony import */ var commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_4__);




var stringLiterals = (0,commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_3__.getGrowthHackConfigValue)('SCRATCHCARD_CONFIG').stringLiterals;

var DISCOUNT_TYPES = commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_4__.scratchCardRetentionConfig.DISCOUNT_TYPES;
function SuccessCard(props) {
    var couponDetails = props.couponDetails, onCTAPress = props.onCTAPress;
    var removeURLHash = function () {
        window.ckrrhistory && window.ckrrhistory.goBack();
    };
    var handleBtnClick = function (key) {
        removeURLHash();
        onCTAPress(key);
    };
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_1__.default.successCard, " ") },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _rewards_css__WEBPACK_IMPORTED_MODULE_1__.default.modalDescription }, couponDetails.discountType === DISCOUNT_TYPES.PERCENTAGE ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
            "Win up to \u20B9",
            couponDetails.conditionMax,
            " Off on orders above \u20B9",
            couponDetails.conditionMin)) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
            "Win ",
            couponDetails.shortDesc,
            " on orders above \u20B9",
            couponDetails.conditionMin))),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Button__WEBPACK_IMPORTED_MODULE_2__.default, { className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_1__.default.primary), onClick: function () { return handleBtnClick('EXPLORE_PRODUCTS'); } }, stringLiterals.SHOP),
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Button__WEBPACK_IMPORTED_MODULE_2__.default, { className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_1__.default.secondary, " ").concat(_rewards_css__WEBPACK_IMPORTED_MODULE_1__.default.marginTopButton), onClick: function () { return handleBtnClick('EXPLORE_MORE'); } }, stringLiterals.KNOW_MORE)));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SuccessCard);


/***/ }),

/***/ "./browser/components/confirmation/common/RewardsModule/ScratchCard/Components/ScratchResponseCard/index.js":
/*!******************************************************************************************************************!*\
  !*** ./browser/components/confirmation/common/RewardsModule/ScratchCard/Components/ScratchResponseCard/index.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var iconComp_Hanger_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! iconComp/Hanger.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/Hanger.jsx");
/* harmony import */ var iconComp_Alert_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! iconComp/Alert.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/Alert.jsx");
/* harmony import */ var _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../scratchCard.css */ "./browser/components/confirmation/common/RewardsModule/ScratchCard/scratchCard.css");
/* harmony import */ var commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! commonBrowserUtils/Helper */ "./browser/utils/Helper/index.js");
/* harmony import */ var commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! commonUtils/GrowthHackConfigManager */ "./utils/GrowthHackConfigManager/index.js");
/* harmony import */ var commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonBrowserUtils/ConfirmationConstants */ "./browser/utils/ConfirmationConstants.js");
/* harmony import */ var commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6__);






var stringLiterals = (0,commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_5__.getGrowthHackConfigValue)('SCRATCHCARD_CONFIG').stringLiterals;

var CARD_STATES = commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6__.scratchCardRetentionConfig.CARD_STATES;
function ScratchResponseCard(props) {
    var rewardTitle = props.rewardTitle, logo = props.logo, couponCode = props.couponCode, expiryDate = props.expiryDate, onCouponCopy = props.onCouponCopy, isCouponPage = props.isCouponPage, status = props.status, isCouponEmpty = props.isCouponEmpty, isError = props.isError;
    var SCRATCHED_EXPIRED = status === CARD_STATES.SCRATCHED_EXPIRED;
    var USED = status === CARD_STATES.USED;
    var copyToClipBoard = function (txtToCopy) {
        var input = document.createElement('input');
        input.type = 'text';
        input.value = txtToCopy;
        document.body.appendChild(input);
        input.select(txtToCopy);
        document.execCommand('copy');
        document.body.removeChild(input);
    };
    var handleCouponClick = function () {
        if ([CARD_STATES.USED, CARD_STATES.SCRATCHED_EXPIRED].includes(status))
            return;
        copyToClipBoard(couponCode);
        onCouponCopy();
    };
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.contentWrapper), style: isCouponPage ? { zIndex: 1 } : {} },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", null,
            isError ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Alert_jsx__WEBPACK_IMPORTED_MODULE_2__.default, { className: _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.logo })) : isCouponEmpty ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Hanger_jsx__WEBPACK_IMPORTED_MODULE_1__.default, { className: _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.logo })) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("img", { className: "".concat(_scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.logo, " ").concat(SCRATCHED_EXPIRED ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.disableFilter : {}), src: logo })),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "\n          ".concat(_scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.rewardTitle, " ").concat(!couponCode ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.noCoupon : {}, " ").concat(SCRATCHED_EXPIRED ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.disableText : {}).concat(isError || isCouponEmpty ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.fontBig : {}) }, isError
                ? stringLiterals.ERROR
                : isCouponEmpty
                    ? stringLiterals.BETTER_LUCK
                    : rewardTitle),
            couponCode && !isCouponEmpty ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.couponBox, " ").concat(USED || SCRATCHED_EXPIRED ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.claimedBox : '', " ").concat(SCRATCHED_EXPIRED ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.borderDisable : {}), onClick: handleCouponClick },
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.couponText, " ").concat(SCRATCHED_EXPIRED ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.disableText : {}) }, couponCode),
                USED ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.claimedLabel }, stringLiterals.CLAIMED)) : SCRATCHED_EXPIRED ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.expiredLabel }, stringLiterals.EXPIRED)) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.copy }, stringLiterals.COPY)))) : null),
        !isCouponEmpty ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.footer }, SCRATCHED_EXPIRED ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { className: _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.expiredText },
            stringLiterals.EXPIRED_ON,
            " ",
            (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_4__.formatDateHelper)(expiryDate))) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("span", { style: { fontWeight: 'bold' } },
                stringLiterals.VALID_TILL,
                ' ',
                (0,commonBrowserUtils_Helper__WEBPACK_IMPORTED_MODULE_4__.formatDateHelper)(parseInt(expiryDate)),
                "."),
            ' ',
            stringLiterals.TC)))) : null));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ScratchResponseCard);


/***/ }),

/***/ "./browser/components/confirmation/common/RewardsModule/ScratchCard/index.js":
/*!***********************************************************************************!*\
  !*** ./browser/components/confirmation/common/RewardsModule/ScratchCard/index.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var commonComp_Loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! commonComp/Loader */ "./browser/components/common/Loader/index.js");
/* harmony import */ var _loader_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./loader.css */ "./browser/components/confirmation/common/RewardsModule/ScratchCard/loader.css");
/* harmony import */ var _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scratchCard.css */ "./browser/components/confirmation/common/RewardsModule/ScratchCard/scratchCard.css");
/* harmony import */ var _ScratchSVG__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ScratchSVG */ "./browser/components/confirmation/common/RewardsModule/ScratchSVG/index.js");
/* harmony import */ var _Components_ScratchResponseCard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Components/ScratchResponseCard */ "./browser/components/confirmation/common/RewardsModule/ScratchCard/Components/ScratchResponseCard/index.js");
/* harmony import */ var commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonBrowserUtils/ConfirmationConstants */ "./browser/utils/ConfirmationConstants.js");
/* harmony import */ var commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6__);
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};







var CARD_STATES = commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6__.scratchCardRetentionConfig.CARD_STATES;
var HEIGHT = 300;
var WIDTH = 300;
function ScratchCard(props) {
    var scratchImage = props.scratchImage, onScratched = props.onScratched, isCouponPage = props.isCouponPage, status = props.status, isCouponEmpty = props.isCouponEmpty, isLoading = props.isLoading, isAlreadyScratched = props.isAlreadyScratched, cardRef = props.cardRef, hideInfo = props.hideInfo, isError = props.isError;
    var _a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), isScratched = _a[0], setScratched = _a[1];
    var _b = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null), borderColor = _b[0], setBorder = _b[1];
    var _c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), shouldAnimate = _c[0], setAnimate = _c[1];
    var _d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), showSVG = _d[0], drawSVG = _d[1];
    var SCRATCHED = status === CARD_STATES.SCRATCHED;
    var SCRATCHED_EXPIRED = status === CARD_STATES.SCRATCHED_EXPIRED;
    var USED = status === CARD_STATES.USED;
    var isDrawing = false;
    var startX = 0;
    var startY = 0;
    var canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
    var getRandomBorder = function () {
        if (USED)
            return _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.border4;
        if (SCRATCHED_EXPIRED)
            return _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.border5;
        if (isCouponEmpty)
            return _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.border6;
        var borders = [_scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.border1, _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.border2, _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.border3];
        var n = borders.length;
        return borders[parseInt(Math.random() * 10) % n];
    };
    var scratchedMinimum = function (stride) {
        if (stride === void 0) { stride = 1; }
        var canvas = canvasRef.current;
        var context = canvas.getContext('2d');
        var scratchedPixels = 0;
        if (!context)
            return;
        var imageData = context.getImageData(0, 0, WIDTH, HEIGHT);
        var pixels = imageData.data;
        var pixelLength = pixels.length;
        var count = 0;
        // Iterate over the `pixels` data buffer
        for (var i = 0; i < pixelLength; i += stride) {
            // rgba +3 is alpha
            if (parseInt(pixels[i], 10) === 0) {
                count++;
            }
        }
        scratchedPixels = Math.ceil((count / (pixelLength / stride)) * 100);
        return scratchedPixels >= 20;
    };
    var getCursorPosition = function (canvas, evt) {
        var rect = canvas.getBoundingClientRect();
        return {
            cursorX: evt.clientX - rect.left,
            cursorY: evt.clientY - rect.top
        };
    };
    var scratchStart = function (e) {
        hideInfo(true);
        var _a = getCursorPosition(canvasRef.current, e), cursorX = _a.cursorX, cursorY = _a.cursorY;
        isDrawing = true;
        startX = cursorX;
        startY = cursorY;
    };
    var scratch = function (e) {
        var context = canvasRef.current && canvasRef.current.getContext('2d');
        if (!context)
            return;
        var _a = getCursorPosition(canvasRef.current, (e.touches && e.touches[0]) || e), cursorX = _a.cursorX, cursorY = _a.cursorY;
        if (!isDrawing) {
            return;
        }
        context.globalCompositeOperation = 'destination-out';
        context.beginPath();
        context.moveTo(startX, startY);
        context.lineTo(cursorX, cursorY);
        context.closePath();
        context.stroke();
        startX = cursorX;
        startY = cursorY;
        if (scratchedMinimum()) {
            setScratched(true);
            onScratched();
        }
    };
    var scratchEnd = function (e) {
        isDrawing = false;
    };
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        if (isAlreadyScratched)
            setScratched(true);
    }, [isAlreadyScratched]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        var canvas = canvasRef.current;
        var context = canvas.getContext('2d');
        canvas.addEventListener('mousedown', scratchStart);
        canvas.addEventListener('mousemove', scratch);
        canvas.addEventListener('mouseup', scratchEnd);
        canvas.addEventListener('touchstart', scratchStart);
        canvas.addEventListener('touchmove', scratch);
        canvas.addEventListener('touchend', scratchEnd);
        if (scratchImage) {
            var background_1 = new Image();
            background_1.crossOrigin = 'anonymous';
            background_1.src = scratchImage;
            background_1.onload = function () {
                context.drawImage(background_1, 0, 0, WIDTH, HEIGHT);
            };
        }
        context.lineWidth = 60;
        context.lineJoin = 'round';
        if (isCouponPage || SCRATCHED || USED || SCRATCHED_EXPIRED)
            setScratched(true);
        setBorder(getRandomBorder());
        setAnimate(true);
        setTimeout(function () {
            drawSVG(true);
            setTimeout(function () { return drawSVG(false); }, 2500);
        }, 3200);
    }, []);
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { ref: cardRef, className: "".concat(_scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.scratchWrapper, "\n        ").concat(isScratched ? (isCouponEmpty ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.border6 : borderColor) : {}, "\n        ").concat(shouldAnimate ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.animateScratchCard : '', "\n        ").concat(!isLoading && !isError && !isCouponEmpty ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.addAnimations : '', "\n        ").concat(isScratched && !isLoading && !isError && !isCouponEmpty
            ? _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.spinCard
            : '', "\n      }") }, isLoading ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Loader__WEBPACK_IMPORTED_MODULE_1__.default, { className: _loader_css__WEBPACK_IMPORTED_MODULE_2__.default.loaderContainer, containerClassName: _loader_css__WEBPACK_IMPORTED_MODULE_2__.default.spinnerContainer, show: true })) : (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: " ".concat(_scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.svgElm) }, !isAlreadyScratched && showSVG ? react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_ScratchSVG__WEBPACK_IMPORTED_MODULE_4__.default, null) : ''),
        !isScratched ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("canvas", { ref: canvasRef, id: _scratchCard_css__WEBPACK_IMPORTED_MODULE_3__.default.canvas, width: WIDTH, height: HEIGHT })) : null,
        isScratched ? react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_Components_ScratchResponseCard__WEBPACK_IMPORTED_MODULE_5__.default, __assign({}, props)) : null))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ScratchCard);


/***/ }),

/***/ "./browser/components/confirmation/common/RewardsModule/ScratchSVG/index.js":
/*!**********************************************************************************!*\
  !*** ./browser/components/confirmation/common/RewardsModule/ScratchSVG/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var iconComp_DrawSvg_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! iconComp/DrawSvg.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/DrawSvg.jsx");
/* harmony import */ var _scratchSvg_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scratchSvg.css */ "./browser/components/confirmation/common/RewardsModule/ScratchSVG/scratchSvg.css");



function ScratchSVG() {
    var _a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), shouldDraw = _a[0], draw = _a[1];
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        setTimeout(function () { return draw(true); }, 500);
    }, []);
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_scratchSvg_css__WEBPACK_IMPORTED_MODULE_2__.default.svgWrapper, " ").concat(shouldDraw ? _scratchSvg_css__WEBPACK_IMPORTED_MODULE_2__.default.active : '') },
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_DrawSvg_jsx__WEBPACK_IMPORTED_MODULE_1__.default, null)));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ScratchSVG);


/***/ }),

/***/ "./browser/components/confirmation/common/RewardsModule/index.js":
/*!***********************************************************************!*\
  !*** ./browser/components/confirmation/common/RewardsModule/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "POPUP_MODAL_WRAPPER": () => (/* binding */ POPUP_MODAL_WRAPPER),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../node_modules/preact/compat/dist/compat.module.js");
/* harmony import */ var commonComp_Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! commonComp/Button */ "./browser/components/common/Button/index.js");
/* harmony import */ var _rewards_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./rewards.css */ "./browser/components/confirmation/common/RewardsModule/rewards.css");
/* harmony import */ var _ScratchCard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ScratchCard */ "./browser/components/confirmation/common/RewardsModule/ScratchCard/index.js");
/* harmony import */ var iconComp_Cross_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! iconComp/Cross.jsx */ "../node_modules/@myntra/m-comp/react/SVGIcon/Cross.jsx");
/* harmony import */ var commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! commonUtils/GrowthHackConfigManager */ "./utils/GrowthHackConfigManager/index.js");
/* harmony import */ var commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! commonBrowserUtils/ConfirmationConstants */ "./browser/utils/ConfirmationConstants.js");
/* harmony import */ var commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _Components_SuccessCard_SuccessCard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Components/SuccessCard/SuccessCard */ "./browser/components/confirmation/common/RewardsModule/Components/SuccessCard/SuccessCard.js");







var FEATURE_FLAG = commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6__.scratchCardRetentionConfig.FEATURE_FLAG, CARD_STATES = commonBrowserUtils_ConfirmationConstants__WEBPACK_IMPORTED_MODULE_6__.scratchCardRetentionConfig.CARD_STATES;
var DEFAULT_BG = 'https://assets.myntassets.com/assets/images/2022/3/11/d797b8a5-e708-4c4c-9c3d-8bb4c95ed5a31646997301271-sc_theme_1.png';
var POPUP_MODAL_WRAPPER = 'popUpModalWrapper';
var _a = (0,commonUtils_GrowthHackConfigManager__WEBPACK_IMPORTED_MODULE_5__.getGrowthHackConfigValue)('SCRATCHCARD_CONFIG'), themes = _a.themes, eors = _a.eors, stringLiterals = _a.stringLiterals;
var HRD_THEME = eors;

function PopupModal(props) {
    var onPopupDismiss = props.onPopupDismiss, handleScratch = props.handleScratch, onReveal = props.onReveal, copyAction = props.copyAction, themeBackground = props.themeBackground, featureTag = props.featureTag, isAlreadyScratched = props.isAlreadyScratched, cardDetailsFetchedAlready = props.cardDetailsFetchedAlready, onCTAPress = props.onCTAPress;
    var _a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), showToast = _a[0], setToast = _a[1];
    var _b = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}), couponDetails = _b[0], setCouponDetails = _b[1];
    var _c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), isScratched = _c[0], setScratched = _c[1];
    var _d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), isCouponEmpty = _d[0], setCouponEmpty = _d[1];
    var _e = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), isError = _e[0], setError = _e[1];
    var _f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), isScratchCardLoading = _f[0], setScratchCardLoading = _f[1];
    var _g = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), shouldDisappear = _g[0], hideInfo = _g[1];
    var _h = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), shouldAnimate = _h[0], setAnimate = _h[1];
    var closeIcon = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    var footerElm = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    var cardRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    var wrapperRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    var USED = false;
    var SCRATCHED_EXPIRED = false;
    var timer = false;
    if (!themeBackground) {
        if (featureTag === FEATURE_FLAG.HRD) {
            themeBackground = HRD_THEME;
        }
        else {
            themeBackground =
                (Array.isArray(themes) &&
                    themes.length &&
                    themes[parseInt((Math.random() * 10) % themes.length)]) ||
                    DEFAULT_BG;
        }
    }
    var removeURLHash = function () {
        window.ckrrhistory && window.ckrrhistory.goBack();
    };
    var handleButtonClick = function (isScratched) {
        removeURLHash();
        onPopupDismiss(isScratched);
    };
    var stopBodyScrolling = function (stopScrolling) {
        if (stopScrolling) {
            document.body.setAttribute('class', _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.stopScroll);
        }
        else {
            document.body.removeAttribute('class');
        }
    };
    var onCouponCopy = function () {
        if (timer) {
            clearTimeout(timer);
        }
        setToast(true);
        copyAction();
        timer = setTimeout(function () { return setToast(false); }, 3000);
    };
    var onCardScratched = function () {
        setError(false);
        setScratchCardLoading(true);
        handleScratch(function (data) {
            if (!data || !data.couponCode) {
                setCouponEmpty(true);
            }
            else {
                setCouponDetails(data);
                USED = data.status === CARD_STATES.USED;
                SCRATCHED_EXPIRED = data.status === CARD_STATES.SCRATCHED_EXPIRED;
            }
            onReveal();
            setScratchCardLoading(false);
            setScratched(true);
        }, function (err) {
            setError(true);
            setCouponEmpty(true);
            setScratchCardLoading(false);
            setScratched(true);
        });
    };
    function renderFooter(state) {
        if (isScratched) {
            if (isError) {
                return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.modalDescription }, stringLiterals.ERROR_DESCRIPTION),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Button__WEBPACK_IMPORTED_MODULE_1__.default, { className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.secondary, " ").concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.marginTopButton), onClick: handleButtonClick }, stringLiterals.SECONDARY_TEXT)));
            }
            else if (isCouponEmpty) {
                return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.modalDescription }, stringLiterals.COUPON_EMPTY),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Button__WEBPACK_IMPORTED_MODULE_1__.default, { className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.secondary, " ").concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.marginTopButton), onClick: handleButtonClick }, stringLiterals.SECONDARY_TEXT)));
            }
            else {
                return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_Components_SuccessCard_SuccessCard__WEBPACK_IMPORTED_MODULE_7__.default, { couponDetails: couponDetails, onCTAPress: onCTAPress }));
            }
        }
        switch (state) {
            case USED: {
                return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.unScratchedHeading }, stringLiterals.WELL_DONE),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.modalDescription }, stringLiterals.ALREADY_CLAIMED),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Button__WEBPACK_IMPORTED_MODULE_1__.default, { className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.secondary, " ").concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.marginTopButton), onClick: handleButtonClick }, stringLiterals.SECONDARY_TEXT)));
            }
            case SCRATCHED_EXPIRED: {
                return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.modalDescription }, stringLiterals.REWARD_EXPIRED),
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(commonComp_Button__WEBPACK_IMPORTED_MODULE_1__.default, { className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.secondary, " ").concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.marginTopButton), onClick: handleButtonClick }, stringLiterals.SECONDARY_TEXT)));
            }
            default: {
                return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { ref: footerElm, className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.scratchInfo, " ").concat(shouldAnimate ? _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.slideUp : '') },
                    react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.unScratchedHeading }, stringLiterals.UNLOCKED_CARD)));
            }
        }
    }
    var closeModal = function () {
        removeURLHash();
        onPopupDismiss(isScratched);
    };
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        stopBodyScrolling(true);
        setAnimate(true);
        if (isAlreadyScratched) {
            setScratched(true);
            if (!cardDetailsFetchedAlready || !cardDetailsFetchedAlready.couponCode) {
                setCouponEmpty(true);
            }
            else {
                setCouponDetails(cardDetailsFetchedAlready);
            }
        }
        window.ckrrhistory && window.ckrrhistory.push('#modal');
        return function () {
            stopBodyScrolling(false);
        };
    }, []);
    return (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { id: POPUP_MODAL_WRAPPER, className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.modalWrapper, "\n        ").concat(shouldAnimate ? _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.animateWrapper : '', "\n        ").concat(!isAlreadyScratched ? _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.transitionWrapper : '', "\n        "), ref: wrapperRef },
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(iconComp_Cross_jsx__WEBPACK_IMPORTED_MODULE_4__.default, { onClick: closeModal, className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.crossIcon, "\n          ").concat(shouldAnimate ? _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.reveal : '', "\n          ").concat(!isAlreadyScratched ? _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.crossAnimate : '', "\n          "), closeIcon: closeIcon }),
            react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.scratchWrapper },
                !isAlreadyScratched ? (react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: "".concat(_rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.scrubText, " ").concat(shouldAnimate ? _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.fadeText : '', " ").concat(shouldDisappear ? _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.disappear : '') }, stringLiterals.SCRUB)) : null,
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement(_ScratchCard__WEBPACK_IMPORTED_MODULE_3__.default, { scratchImage: themeBackground, rewardTitle: couponDetails.couponTitle, logo: couponDetails.couponBrandImg, couponCode: couponDetails.couponCode, expiryDate: couponDetails.expiryDate, onCouponCopy: onCouponCopy, onScratched: onCardScratched, status: couponDetails.status, isCouponEmpty: isCouponEmpty, isLoading: isScratchCardLoading, cardRef: cardRef, hideInfo: hideInfo, isAlreadyScratched: isScratched, isError: isError }),
                react__WEBPACK_IMPORTED_MODULE_0__.default.createElement("div", { className: _rewards_css__WEBPACK_IMPORTED_MODULE_2__.default.modalFooter }, renderFooter(couponDetails.state))),
            showToast
                ? SHELL.alert('info', {
                    message: stringLiterals.TOAST,
                    styleOverrides: {
                        notifyMainDiv: 'position: absolute;top: 40px;left: 50%;right: 50%;transform: translate(-50%, 0);width:max-content;'
                    }
                })
                : null)));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PopupModal);


/***/ })

}]);
//# sourceMappingURL=confirmation_common_cardComponents_scratchCardBanner.js.map